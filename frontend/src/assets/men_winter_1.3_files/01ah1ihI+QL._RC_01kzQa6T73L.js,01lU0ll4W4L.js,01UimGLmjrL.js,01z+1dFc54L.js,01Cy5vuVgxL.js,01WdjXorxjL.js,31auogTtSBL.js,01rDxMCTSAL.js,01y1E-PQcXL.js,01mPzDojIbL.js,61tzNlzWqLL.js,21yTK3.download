'use strict';(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("TurboCheckoutBaseAssets@accessibility_switch","TurboCheckout"):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){b.when("turbo-initiate-migration-switch").register("turbo-checkout-accessibility-switch",function(a){return{isEnabled:function(){return a.isEnabled()}}})});
/* ******** */
'use strict';(function(a){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,c=d?d("TurboCheckoutBaseAssets@buy_now_to_tango_switch","TurboCheckout"):b;c.guardFatal?c.guardFatal(a)(c,window):c.execute(function(){a(c,window)})})(function(a,b,d){a.when("turbo-configuration","buy-now-to-tango-switch-mobile","buy-now-to-tango-switch-desktop","buy-now-to-tango-switch-beta").register("buy-now-to-tango-switch",function(c,a,b,d){return{isEnabled:function(){return c.get(c.KEYS.IS_BUY_NOW_TO_TANGO_ENABLED)&&
(a.isGatingWeblabEnabled()||b.isGatingWeblabEnabled()||d.isGatingWeblabEnabled())}}});"use strict";a.when("turbo-checkout-page-ready").register("buy-now-to-tango-switch-mobile",function(){return{isGatingWeblabEnabled:function(){return!1}}});"use strict";a.when("buy-now-to-tango-switch-desktop-prime","buy-now-to-tango-switch-desktop-non-prime").register("buy-now-to-tango-switch-desktop",function(a,b){return{isGatingWeblabEnabled:function(){return a.isGatingWeblabEnabled()||b.isGatingWeblabEnabled()}}});
"use strict";a.when("turbo-checkout-page-ready").register("buy-now-to-tango-switch-desktop-prime",function(){return{isGatingWeblabEnabled:function(){return!1}}});"use strict";a.when("turbo-checkout-page-ready").register("buy-now-to-tango-switch-desktop-non-prime",function(){return{isGatingWeblabEnabled:function(){return!1}}});"use strict";a.when("turbo-checkout-page-ready").register("buy-now-to-tango-switch-beta",function(){return{isGatingWeblabEnabled:function(){return!1}}})});
/* ******** */
'use strict';(function(a){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,b=d?d("TurboCheckoutBaseAssets@chewbacca_migration_switch","TurboCheckout"):c;b.guardFatal?b.guardFatal(a)(b,window):b.execute(function(){a(b,window)})})(function(a,c,d){a.when("turbo-checkout-state-handler").register("turbo-chewbacca-migration-switch-non-prime-desktop",function(b){return{isGatingWeblabEnabled:function(){return!1},isShadowModeEnabled:function(){return!1}}});"use strict";a.when("turbo-checkout-state-handler").register("turbo-chewbacca-migration-switch-prime-desktop",
function(b){return{isGatingWeblabEnabled:function(){!1},isShadowModeEnabled:function(){return!1}}});"use strict";a.when("turbo-checkout-state-handler").register("turbo-chewbacca-migration-switch-non-prime-mobile",function(b){return{isGatingWeblabEnabled:function(){return!1},isShadowModeEnabled:function(){return!1}}});"use strict";a.when("turbo-checkout-state-handler").register("turbo-chewbacca-migration-switch-prime-mobile",function(b){return{isGatingWeblabEnabled:function(){return!1},isShadowModeEnabled:function(){return!1}}});
"use strict";a.when("turbo-checkout-state-handler","turbo-chewbacca-migration-switch-prime-mobile","turbo-chewbacca-migration-switch-non-prime-mobile","turbo-chewbacca-migration-switch-prime-desktop","turbo-chewbacca-migration-switch-non-prime-desktop").register("turbo-chewbacca-migration-switch",function(b,a,c,d,e){return{isGatingWeblabEnabled:function(){return a.isGatingWeblabEnabled()||c.isGatingWeblabEnabled()||d.isGatingWeblabEnabled()||e.isGatingWeblabEnabled()},isShadowModeEnabled:function(){return a.isShadowModeEnabled()},
isMobileGatingWeblabEnabled:function(){return a.isGatingWeblabEnabled()||c.isGatingWeblabEnabled()},isDesktopGatingWeblabEnabled:function(){return d.isGatingWeblabEnabled()||e.isGatingWeblabEnabled()}}})});
/* ******** */
'use strict';(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("TurboCheckoutBaseAssets@chewbacca_migration_switch_beta","TurboCheckout"):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){b.when("turbo-checkout-state-handler","turbo-checkout-device-filter").register("turbo-chewbacca-migration-switch-beta",function(a,b){return{isGatingWeblabEnabled:function(){return!1},isShadowModeEnabled:function(){return!1}}})});
/* ******** */
'use strict';(function(a){var g=window.AmazonUIPageJS||window.P,h=g._namespace||g.attributeErrors,b=h?h("TurboCheckoutBaseAssets@initiate_migration_switch","TurboCheckout"):g;b.guardFatal?b.guardFatal(a)(b,window):b.execute(function(){a(b,window)})})(function(a,g,h){a.when("turbo-initiate-migration-switch-mobile","turbo-initiate-migration-switch-desktop","turbo-chewbacca-migration-switch").register("turbo-initiate-migration-switch",function(b,a,f){return{isEnabled:function(){return b.isEnabled()||
a.isEnabled()},getWeblabInControlOnlyToTrigger:function(){return f.isMobileGatingWeblabEnabled()?b.getWeblabInControlOnlyToTrigger():f.isDesktopGatingWeblabEnabled()?a.getWeblabInControlOnlyToTrigger():[]}}});"use strict";a.when("turbo-chewbacca-migration-switch").register("turbo-initiate-migration-switch-mobile",function(b){return{isEnabled:function(){return!1},getWeblabInControlOnlyToTrigger:function(){return[]}}});"use strict";a.when("turbo-chewbacca-migration-switch","turbo-checkout-state-handler").register("turbo-initiate-migration-switch-desktop",
function(b,a){function f(){for(var e=a.getAdditionalWeblabAndTreatmentMap(),b={},d=0;d<c.length;d++)e.hasOwnProperty(c[d])&&(b[c[d]]=e[c[d]]);return b}var c=["PAX_TURBO_INITIATE_MIGRATION_DESKTOP_868123","PAX_TURBO_INITIATE_MIGRATION_DESKTOP_NON_PRIME_986684"];return{isEnabled:function(){var e;if(e=b.isGatingWeblabEnabled())a:{e=f();for(var a=0;a<c.length;a++)if(e.hasOwnProperty(c[a])&&("T1"===e[c[a]]||"T3"===e[c[a]])){e=!0;break a}e=!1}return e},getWeblabInControlOnlyToTrigger:function(){for(var a=
f(),b={},d=0;d<c.length;d++)if(a.hasOwnProperty(c[d])&&"C"===a[c[d]]){b[c[d]]=a[c[d]];break}return b}}})});
/* ******** */
'use strict';(function(a){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,b=d?d("TurboCheckoutBaseAssets@shopping_portal_switch","TurboCheckout"):c;b.guardFatal?b.guardFatal(a)(b,window):b.execute(function(){a(b,window)})})(function(a,c,d){a.when("turbo-checkout-state-handler","turbo-checkout-page-ready").register("turbo-shopping-portal-switch",function(b){return{isShoppingPortalEnabled:function(){var a=b.getClientId();return!("primewardrobe"===a||"primestylist"===a)}}})});
/* ******** */
'use strict';(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("TurboCheckoutBaseAssets@tbyb_shopping_portal_switch","TurboCheckout"):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){b.when("turbo-checkout-page-ready").register("turbo-tbyb-shopping-portal-switch",function(){return{isTBYBShoppingPortalEnabled:function(){return!1}}})});
/* ******** */
'use strict';(function(k){var q=window.AmazonUIPageJS||window.P,y=q._namespace||q.attributeErrors,c=y?y("TurboCheckoutBaseAssets@confirm_initiate_removal","TurboCheckout"):q;c.guardFatal?c.guardFatal(k)(c,window):c.execute(function(){k(c,window)})})(function(k,q,y){k.when("A","turbo-view-adapter","turbo-checkout-view-state","turbo-checkout-eligible-state","turbo-checkout-content-loader","turbo-checkout-utils","turbo-checkout-weblab-allocation","turbo-checkout-weblab-trigger","turbo-checkout-csm",
"turbo-checkout-state-handler","turbo-checkout-device-filter","turbo-checkout-ajax-wrapper","turbo-checkout-page-visibility-manager","turbo-checkout-counter","turbo-checkout-prefetcher","turbo-checkout-prefetch-timer","turbo-checkout-buy-now-button","turbo-checkout-signin-controller","buy-now-to-tango-weblab-trigger","turbo-checkout-auto-open","turbo-checkout-urls","turbo-checkout-ref-tagger","turbo-configuration","turbo-checkout-event-verification","turbo-checkout-eligibility-aggregator","turbo-checkout-page-ready").register("turbo-checkout-controller",
function(c,d,k,C,m,z,h,D,e,g,E,A,F,q,B,u,n,G,H,y,L,I,v,M,P){function w(){n.bindTurboClickEvent();c.off("turbo:checkout:dimmer:clicked");c.on("turbo:checkout:dimmer:clicked",function(a){a()})}function a(a,l){z.logDebug("turbo-checkout-controller",a,l)}function b(a,l){J();a||(l===I.TAGS.ROTATION&&e.logCount("turboCheckoutDeviceRotated"),d.close({reason:l}))}function f(){a("Handling signin success");Q()}function T(){a("Handling buy now button click");Q();return!0}function Q(){R=setTimeout(ba,2E4);t=
e.createScope();t.markClick();x="loading";N=!1;u.checkTimeout();q.incrementSheetOpenedCounter();d.show()}function ba(){e.logCount("turboCheckoutContenLoadTimeout")}function ca(){J();d.removeContent()}function U(){J();M.logBuyNowButtonClickHandlerMetrics()}function J(){C.canShow()&&!h.isDisableTurboWeblabInTreatment()?(a("Registering with buy now button"),c.trigger("turbo:checkout:buyNowEnabled"),n.registerOnClickCallback(T)):(a("Unregistering from buy now button"),c.trigger("turbo:checkout:buyNowDisabled"),
n.deregisterOnClickCallback(T))}function Z(r,l){e.logCount("turboCheckoutPrefetchSuccess");r&&(h.isControl()||h.isBuyNowOnly())&&(a("Received content in control: "+r.substring(0,255)),e.logCount("turboCheckoutControlContentReceived"));S=l;m.isTurboOptimisticFlushingEnabled()?d.finalizeIFrameContent():d.setContent(r);J();m.shadowCallChewbaccaInitiate()}function K(){J();k.isOpeningOrOpen()&&(e.logCount("turboCheckoutYieldNewPurchase"),d.closeImmediatelyThenExecute(V))}function aa(){clearTimeout(R);
x="unknown";W();X()}function W(){!p||p.isResolved()||p.isRejected()||(a("Initiate confirm called for "+S.currentPurchaseId+" with existing confirm still executing. Aborting"),e.logCount("turboCheckoutConfirmPending"),p._supersedByNewPurchase=!0,p.abort())}function da(){var a=g.getLineItems().filter(function(a){return a&&a.isDiscoveredAsin}).map(function(a,r){return a.asin});e.logCount("turboCheckoutDiscoveredAsins",a.length);return a}function X(){e.logCount("turboCheckoutConfirm");var a=S.currentPurchaseId,
b=L.buildConfirmPathWith(g.getRefTag(),h.getExperimentName(),g.getClientId(),g.getRequestId(),g.getSessionId(),da());p=A.loadWithJQXHR(b,{type:"POST",data:{pid:a},headers:ea(),success:function(a,b,r){e.logCount("turboCheckoutConfirmSuccess")},error:function(b,r,l){"abort"===r?e.logCount("turboCheckoutConfirmAborted"):("timeout"===r&&e.logCount("turboCheckoutConfirmTimeOut"),e.logCount("turboCheckoutConfirmFailed"));b._supersedByNewPurchase||(z.logError("Issue confirming turbo initiate prefetch for pid "+
a+": "+l+", "+r),e.logCount("turboCheckoutYieldNewPurchase"),d.closeImmediatelyThenExecute(V))}})}function ea(){var a={},b=g.getCSRFToken();b&&0<b.length&&(a["x-amz-checkout-csrf-token"]=b);return a}function fa(){t.markFirstByte()}function ha(){clearTimeout(R);x="unknown"}function ia(){W();X()}function ja(){t.markFirstByte()}function O(){return v.get(v.KEYS.HOST_PAGE_TYPE_IDENTIFIER)}function V(){n.executeOriginalBuyNowAction(g.getActiveId())}function ka(a){c.trigger("turbo:checkout:embedded:page:showSpinner");
p.done(a)}function la(a,b,c){x=c;N=!1}function ma(){N=!0}function na(a){c.off("turbo:checkout:dimmer:clicked");c.on("turbo:checkout:dimmer:clicked",function(a){a()});a&&a.doNotLog||(a&&!a.doNotLog?Y(x,a.reason):Y(x,!1));x="closed"}function Y(b,l){var c=L.buildLogPageHitPathWith(N?b+"2":b,l,g.getClientId());a("Logging page hit from "+b+" to "+O()+" reason "+l);A.load(c,{method:"POST",params:{pageType:O(),referrer:b},timeout:4E3})}function oa(){k.isOpeningOrOpen()&&e.logCount("turboCheckoutProductChangedWhileOpening")}
var t,x,S,N,pa=v.get(v.KEYS.AJAX_PAGE_UPDATE_EVENT),R,p;c.on(pa,w);w();return{pageLoaded:function(){var a=h.getExperimentName();if(a){var l=h.getAllocation();e.addCounterExtraSuffix("wl:"+l);e.addCounterExtraSuffix(a+":"+l)}if(E.isDeviceTurboEligible()||P.shouldAttemptTangoPrefetch())C.setup(),C.registerStateChangeCallback(b),F.setup(),m.registerCallback({onStart:ca,onTurboEligible:U,onFinish:Z,onError:K}),D.setup(),G.setup(),G.registerCallback(f),H.registerBuyNowToTangoTriggerOnButton(),t=e.createScope(),
d.registerCallbacks({beforeFramePopulated:aa,afterFramePopulated:fa,beforeOptimisticFlushing:ha,afterOptimisticFlushing:ia,csmMarkFirstByte:ja}),g.registerCallback(oa),c.on("turbo:checkout:sheet:beforeClose",na),c.on("turbo:checkout:embedded:page:beforeReload",la),c.on("turbo:checkout:embedded:page:animation:start",ma),y.setup(n.executeTurboBuyNowAction,U),B.setup(),c.trigger("turbo:checkout:controller:onPageLoaded")},loadFullscreen:function(a,b){function c(){a=z.createFQDN(a);"thankyou"===b?(e.logCount("turboCheckoutYieldTYP"),
"primewardrobe"===g.getClientId()&&e.logCount("turboCheckoutYieldTYP:pw"),d.closeAndNavigate(a)):"thirdPartyPaymentInterstitial"===b?d.closeAndNavigate(a):"verifyMfaPage"===b?("primewardrobe"===g.getClientId()&&e.logCount("turboCheckoutYieldTYP:pw"),d.closeAndNavigate(a)):(e.logCount("turboCheckoutYield"),d.closeToFullscreen(a))}!p||p.isResolved()||p.isRejected()?c():(e.logCount("turboCheckoutWaitYield"),ka(c))},frameContentReady:function(a,b,f){c.trigger("turbo:checkout:embedded:page:ready",a,b);
(function(){var a=function(){t.markCriticalFeature();f.confirmHit(O(),g.getRefTag());t.whenDataSet(f.recordClientSideMetrics);b.off("checkout:afterReload",a)};b.on("checkout:afterReload",a)})();(function(){b.on("checkout:beforeReload",function(f){c.trigger("turbo:checkout:embedded:page:beforeReload",a,b,f)});b.on("checkout:reload",function(f){c.trigger("turbo:checkout:embedded:page:reload",a,b,f)});b.on("checkout:afterReload",function(f){c.trigger("turbo:checkout:embedded:page:afterReload",a,b,f)});
b.on("turbo:checkout:animation:start",function(){c.trigger("turbo:checkout:embedded:page:animation:start")});b.state("turbo-secondary-panels-weblab-state",h.getHoldbackSecondaryPanelsWeblab());c.on("turbo:checkout:embedded:page:showSpinner",function(){f.showSpinner()});c.off("turbo:checkout:dimmer:clicked");c.on("turbo:checkout:dimmer:clicked",function(a){b.trigger("turbo:checkout:dimmer:clicked:iFrame",a)});b.on("turbo:checkout:update:dimmer",function(a){c.trigger("turbo:checkout:update:dimmer:afterReload",
a)});b.on("turbo:checkout:update:modal:header",function(a){c.trigger("turbo:checkout:update:modal:header:afterReload",a)});b.on("turbo:checkout:update:dimmer:block",function(){c.trigger("turbo:checkout:update:dimmer:block:iFrame")});b.on("turbo:checkout:update:dimmer:unblock",function(){c.trigger("turbo:checkout:update:dimmer:unblock:iFrame")});b.on("turbo:checkout:order:success",function(){c.trigger("turbo:checkout:order:success:iFrame")})})()},frameHtmlRendered:function(){t.markAboveTheFold()},
updateBounds:function(a,b){d.updateBounds(a,b)},getHeight:function(){return d.getHeight()},updateMinHeight:function(a){return d.updateMinHeight(a)},updateScrollHeight:function(a,b){return d.updateScrollHeight(a,b)},updateDimmer:function(a){c.trigger("turbo:checkout:update:dimmer:typReload",a)},getHostPageType:O,closeBottomSheet:function(a){c.trigger("turbo:checkout:sheet:doClose",a)}}});"use strict";k.register("turbo-discovered-asins-filter",function(){return{apply:function(c){return c.filter(function(c){return c&&
c.isDiscoveredAsin}).map(function(c,k){return c.asin})}}});"use strict";k.when("A","turbo-configuration","turbo-checkout-csm","turbo-checkout-ref-tagger","turbo-checkout-utils","turbo-initiate-migration-switch","turbo-shopping-portal-switch","turbo-tbyb-shopping-portal-switch","turbo-checkout-state-handler","buy-now-to-tango-switch","turbo-checkout-eligibility-aggregator","turbo-checkout-page-ready").register("turbo-checkout-urls",function(c,d,k,q,m,z,h,D,e,g,E){function A(a,b){if(a&&z.isEnabled()||
b){try{var f=c.$("#debug-purchase-id")[0].textContent;var d=f===y?"":"/"+f}catch(Q){d=""}a="/checkout/entry/buynow"+d}else a=D.isTBYBShoppingPortalEnabled()&&F()?"/checkout/trybeforeyoubuy/turbo-initiate":h.isShoppingPortalEnabled()?"/checkout/turbo/initiate":"/checkout/turbo-initiate";return a}function F(){return"primewardrobe"===e.getClientId()}function K(a,b){return["\x26",a,"\x3d",b].join("")}function B(a,b,c){a="\x26pipelineType\x3dturbo\x26clientId\x3d"+a;var f=d.get(d.KEYS.DEVICE_OVERRIDE);
return a+(f?"\x26devicestring-override\x3d"+f:"")+I(b,c)}function u(a){var b=d.get(d.KEYS.HOST_PAGE_TYPE_IDENTIFIER);return"ref_\x3d"+a+"\x26referrer\x3d"+b}function n(a){return m.isNonEmptyString(a)?"\x26weblab\x3d"+a:""}function G(a){if("boolean"===typeof a)return"\x26primeStatus\x3d"+a;k.logCount("turboCheckoutPrimeStatusEmpty");return""}function H(){return d.get(d.KEYS.IS_ADD_TO_CART_ENABLED)?"\x26temporaryAddToCart\x3d1":""}function C(a){return a&&a.length?(a=a.find(function(a){return a.orderType&&
a.rcxOrdFreq}))?"\x26snsOrderType.1\x3d"+a.orderType+"\x26rcxOrdFreq.1\x3d"+a.rcxOrdFreq:"":""}function L(a){if(!a||!a.length)return"";d.get(d.KEYS.IS_ADD_TO_CART_ENABLED)||m.logError('Discovered asins present but add to cart is disabled? This will generate a "clickstream_ignore" hit on the server side and cause the hit to be ignored by clickstream and the attribution lost!',"turbo-checkout-urls");var b="";a.forEach(function(a,c){b+="\x26discoveredAsins."+c+"\x3d"+a});return b}function I(a,b){var c=
"";m.isNonEmptyString(a)&&(c+="\x26pageRequestId\x3d"+a);m.isNonEmptyString(b)&&(c+="\x26pageSessionId\x3d"+b);return c}function v(){return D.isTBYBShoppingPortalEnabled()&&F()?"/checkout/trybeforeyoubuy/triggerWeblab":h.isShoppingPortalEnabled()?"/checkout/turbo/triggerWeblab":"/checkout/triggerWeblab"}function M(){return w("auiDebug","auiDebug")+w("ds_user","ds_user")+w("ds_turbo_workspace","ds_workspace")+w("stringDebug","stringDebug")}function P(a){a=a?a:[];var b="";a.forEach(function(a,c){b+=
"\x26asin."+(c+1)+"\x3d"+a.asin});return b}function w(a,b){var c="";a=m.getUrlQueryParam(a);m.isNonEmptyString(a)&&(c="\x26"+b+"\x3d"+a);return c}return{buildInitiatePathWith:function(a,b,c,d,e,g,k,h){var f=A(!0,h);a=f+"?"+u(a)+B(c,d,e)+n(b)+G(k)+H()+M()+P(g)+C(g);b="";m.isNonEmptyString(f)&&-1!==f.indexOf("/checkout/entry/buynow")&&(b="\x26turboCheckoutMigrationFlag\x3d1");h&&(b+="\x26isShadowMode\x3d1");return a+b},buildEligibilityPathWith:function(a,b,c,d,e,k,h){a=A()+"?"+u(a)+B(c,d,e)+n(b)+G(h)+
"\x26checkEligibilityOnly\x3dtrue"+H()+M();b=[];c=E.shouldAttemptTurboPrefetch()&&E.isTurboEligible();b.push(K("runTurboEligibility",c));g.isEnabled()&&b.push(K("runTangoEligibility",E.shouldAttemptTangoPrefetch()));b=b.join("");return a+b},buildConfirmPathWith:function(a,b,c,d,e,g){return A()+"/confirm?"+u(a)+B(c,d,e)+n(b)+H()+L(g)},buildLogPageHitPathWith:function(a,b,c){a=(D.isTBYBShoppingPortalEnabled()&&F()?"/checkout/trybeforeyoubuy/log-page-hit":h.isShoppingPortalEnabled()?"/checkout/turbo/log-page-hit":
"/checkout/log-page-hit")+"?"+q.generateRefTag(a,q.ACTIONS.CLOSE,b)+B(c);b=z.isEnabled()?"":"\x26isLegacyCheetah\x3d1";return a+b},buildTriggerWeblabPathWith:function(a,b,c,d,e){return v()+"?"+u(a)+n(b)+"\x26weblabAllocation\x3d"+c+I(d,e)},buildTriggerWeblabPathWithoutWeblab:function(a,b,c){return v()+"?"+u(a)+I(b,c)}}})});
/* ******** */
'use strict';(function(c){var a=window.AmazonUIPageJS||window.P,e=a._namespace||a.attributeErrors,b=e?e("TurboCheckoutBaseAssets@navigation_window","TurboCheckout"):a;b.guardFatal?b.guardFatal(c)(b,window):b.execute(function(){c(b,window)})})(function(c,a,e){c.when("turbo-checkout-page-ready").register("turbo-checkout-navigation-window",function(){function b(){var b=!1;try{try{var d=a.self!==a.parent}catch(f){c.log("Encountered exception while executing inIframe: "+f,"ERROR","turbo-checkout-navigation-window"),
d=!0}d&&a.parent!==e&&"object"===typeof a.parent.P&&a.parent.P.now("icdp").execute(function(a){b=!!a})}catch(f){c.log("Encountered exception while verifying parent Window: "+f,"WARN","turbo-checkout-navigation-window")}return b}function d(){return b()?a.parent:a.self}return{getWindow:d,replace:function(a){d().location.replace(a)},assign:function(a){d().location.assign(a)}}})});
/* ******** */
'use strict';(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("TurboCheckoutBaseAssets@chewbacca_migration_optimistic_flushing","TurboCheckout"):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){b.when().register("turbo-chewbacca-migration-optimistic-flushing",function(){return{isEnabled:function(){return!1}}})});
/* ******** */
'use strict';(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("TurboCheckoutBaseAssets@chewbacca_migration_get_request","TurboCheckout"):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){b.when().register("turbo-chewbacca-migration-get-request",function(){return{isEnabled:function(){return!1}}})});
/* ******** */
'use strict';(function(l){var q=window.AmazonUIPageJS||window.P,B=q._namespace||q.attributeErrors,c=B?B("TurboCheckoutBaseAssets@base","TurboCheckout"):q;c.guardFatal?c.guardFatal(l)(c,window):c.execute(function(){l(c,window)})})(function(l,q,B){"use strict";l.register("turbo-function-adapter",function(){return{adapt:function(c){return function(){if("function"!==typeof c)throw Error("Parameter 'property' is invalid. Expected a function but got "+typeof c);return c.apply(c,arguments)}}}});"use strict";
l.when("turbo-configuration","turbo-function-adapter").execute("turbo-signin-adapter-factory",function(c,a){l.when(c.get(c.KEYS.SHOW_SIGN_IN_INTERFACE)).register("turbo-signin-adapter",function(d){return{show:a.adapt(d.show)}})});"use strict";l.when("turbo-configuration","turbo-function-adapter").execute("turbo-view-adapter-factory",function(c,a){l.when(c.get(c.KEYS.VIEW_ADAPTER)).register("turbo-view-adapter",function(d){return{registerCallbacks:a.adapt(d.registerCallbacks),close:a.adapt(d.close),
show:a.adapt(d.show),removeContent:a.adapt(d.removeContent),setContent:a.adapt(d.setContent),closeImmediatelyThenExecute:a.adapt(d.closeImmediatelyThenExecute),closeAndNavigate:a.adapt(d.closeAndNavigate),closeToFullscreen:a.adapt(d.closeToFullscreen),updateBounds:a.adapt(d.updateBounds),getHeight:a.adapt(d.getHeight),updateMinHeight:a.adapt(d.updateMinHeight),updateScrollHeight:a.adapt(d.updateScrollHeight),updateBottomSheetAttributes:a.adapt(d.updateBottomSheetAttributes),initiateIFrameContent:a.adapt(d.initiateIFrameContent),
appendToIFrameContent:a.adapt(d.appendToIFrameContent),finalizeIFrameContent:a.adapt(d.finalizeIFrameContent)}})});"use strict";l.when("A","turbo-checkout-utils","turbo-checkout-csm","turbo-callback-list","turbo-checkout-form","turbo-configuration","turbo-checkout-weblab-allocation","turbo-checkout-load-events","buy-now-to-tango-parameter-list-retriever","turbo-checkout-page-ready").register("buy-now-to-tango-parameter-eligibility-listener",function(c,a,d,f,e,b,g,k,h){function n(a){var b=D,m=e.getForms(G(x));
m===B||0===m.length?d.logCount("buyNowToTangoCheckoutInvalidBuyNowForm"):(a(m),b!==D&&(u("Buy Now to Tango parameter eligibility state has changed"),!0===D?u("Form corresponding to the Buy Now button is Buy Now to Tango parameter eligible",m):u("Form corresponding to the Buy Now button is NOT Buy Now to Tango parameter eligible",m),E.callAll("buyNowToTangoFormParameterEligibility")))}function m(b){u("Observing child node mutation events on:",b);try{var e=b[0];(new MutationObserver(function(){n(t)})).observe(e,
{childList:!0,subtree:!0})}catch(H){d.logCount("buyNowToTangoCheckoutObserveBuyNowFormException"),a.logWarning("buy-now-to-tango-parameter-eligibility-listener","Exception while attempting to observe the Buy Now Button Form \x3d "+H+". Buy Now Button Form: ",b)}}function t(a){y=z=0;a=!0;for(var b=r(),e=h.getBuyNowToTangoParameterExclusionList(),m=g.getBuyNowToTangoWeblabs(),f=0;f<b.length;f++){var c=b[f];w(c,e,m)||(z++,a=!1,d.logCountSimple("buyNowToTangoCheckoutParameterExcluded:onDetailPageStateChange:"+
c))}D=0<b.length?a:!1}function r(){var a=e.getForms(G(x));if(a===B||0===a.length)d.logCountSimple("buyNowToTangoCheckoutInvalidBuyNowForm");else{a=a.find("input[type\x3dhidden]");for(var b=[],m=0;m<a.length;m++)b.push(a[m].getAttribute("name"));return b}}function w(a,b,e){if(!a)return!0;if(v.test(a)){b=p(a);if(b)if(l.hasOwnProperty(b)){var m=l[b];e=m?"T1"!==e[m]?!0:!1:!1}else e=!0;else e=!1;e?(d.logCountSimple("buyNowToTangoCheckoutParameterIneligibleValue:"+a),u("Buy Now To Tango Ineligible Parameter value observed: "+
a+"\x3d"+b),a=!1):a=!0;return a}if(!b.hasOwnProperty(a))return!0;b=b[a];if(!b)return!1;if("T1"!==e[b])return y++,!1;a:{if(C.hasOwnProperty(a)&&(e=p(a),e!==B&&!(new RegExp(C[a])).test(e?e:""))){d.logCountSimple("buyNowToTangoCheckoutParameterIneligibleValue:"+a);u("Buy Now To Tango Ineligible Parameter value observed: "+a+"\x3d"+e);a=!0;break a}a=!1}return a?!1:!0}function p(a){var b=e.getForms(G(x));if(b!==B&&0!==b.length)if(b=b.find('input[type\x3dhidden][name\x3d"'+a+'"]'),1!==b.length)d.logCountSimple("buyNowToTangoCheckoutParameterMultiInputs:"+
a);else if(a=b[0])return a.getAttribute("value")}function A(a,b){return a.every(function(a){return 0<=b.indexOf(a)})}function u(b,e){a.logDebug("buy-now-to-tango-parameter-eligibility-listener",b,e)}var x=b.get(b.KEYS.BUY_NOW_BUTTON_SELECTOR),v=new RegExp(/^custom-name\.\d+\.\d+$/),C={},l={itemAssoc:"PAX_CHECKOUT_VAS_ENABLE_BUY_NOW_TANGO_1165794","UNIQ-itemAssoc":"PAX_CHECKOUT_VAS_ENABLE_BUY_NOW_TANGO_1165794",itemAssocType:"PAX_CHECKOUT_VAS_ENABLE_BUY_NOW_TANGO_1165794",itemAssociationGroup:"PAX_CHECKOUT_VAS_ENABLE_BUY_NOW_TANGO_1165794",
itemAssocRenderType:"PAX_CHECKOUT_VAS_ENABLE_BUY_NOW_TANGO_1165794",incentivizedCart:"",isDevicePreRegistered:"PAX_CHECKOUT_ALC_BUY_NOW_TANGO_1185935"},G=c.$,E=f.create(),D=!1,z=0,y=0;k.bind(function(){b.get(b.KEYS.IS_BUY_NOW_TO_TANGO_ENABLED)&&n(function(a){t(a);m(a)})});return{onStateChange:function(a){E.push(a)},isBuyNowToTangoParameterEligible:function(){return D},logBuyNowFormParameterExclusionsAndFeatures:function(){for(var a=r(),e=b.get(b.KEYS.BUY_NOW_TO_TANGO_PARAMETER_TO_FEATURE_MAPPING),
m={},f=0;f<a.length;f++){var c=a[f],p=c;h.getBuyNowToTangoParameterExclusionList().hasOwnProperty(p)&&(d.logCountSimple("buyNowToTangoCheckoutParameterExcluded:onBuyNowButtonClick:"+c),e.hasOwnProperty(c)||(d.logCountSimple("buyNowToTangoCheckoutParameterExcluded:onBuyNowButtonClick:Unknown"),u("Buy Now To Tango Unknown Parameter Observed: "+c)),p="Unknown",e.hasOwnProperty(c)&&""!==e[c]&&(p=e[c]),m[p]=!0)}for(var g in m)m.hasOwnProperty(g)&&d.logCountSimple("buyNowToTangoCheckoutParameterExcluded:Feature:"+
g);e=b.get(b.KEYS.BUY_NOW_TO_TANGO_FEATURE_PARAMETER_GROUP_MAPPING);m=!1;for(var t in e)e.hasOwnProperty(t)&&A(e[t],a)&&(d.logCountSimple("buyNowToTangoCheckoutParameterExcluded:FeatureByGrouping:"+t),m=!0);m||d.logCountSimple("buyNowToTangoCheckoutParameterExcluded:FeatureByGrouping:Unknown")},isBuyNowToTangoParameterIneligibleOnlyDueToNonT1WeblabAllocation:function(){return 0!==z&&z===y}}});"use strict";l.when("A","turbo-checkout-form","turbo-checkout-utils","turbo-checkout-state-handler","turbo-checkout-content-loader",
"turbo-checkout-weblab-allocation","turbo-configuration","turbo-checkout-load-events","turbo-checkout-eligible-state","turbo-checkout-buy-now-button","buy-now-to-tango-parameter-eligibility-listener","buy-now-to-tango-switch","turbo-checkout-weblab-allocation","turbo-checkout-csm","turbo-checkout-page-ready").register("buy-now-to-tango-url-handler",function(c,a,d,f,e,b,g,k,h,n,m,t,r,w){function p(){!f.isProductTangoEligible()||h.canShow()&&!b.isDisableTurboWeblabInTreatment()?(D("Remove customer eligibility check for BuyNow is in T1: Turbo eligible or Tango InEligible. Calling Tango Ineligible callbacks "),
u()):(D("Remove customer eligibility check for BuyNow is in T1: Turbo Ineligible and Tango Eligible. Flipping the BuyNow URL to Tango "),A())}function A(){q=!0;m.isBuyNowToTangoParameterEligible()&&C()}function u(){q=!1;b.isBuyNowToTangoCustomerEligibilityCheckRemovalWeblabInTreatment()&&v()}function x(){q&&(m.isBuyNowToTangoParameterEligible()&&!B?(B=!0,C()):(B=!1,D("Handle tango ineligible and update form action url to the fallback url"),J=!1,n.deregisterOnClickCallback(l),K=!1))}function v(){!J||
h.canShow()&&!b.isDisableTurboWeblabInTreatment()?(n.deregisterOnClickCallback(l),K=!1):(n.registerOnClickCallback(l),K=!0)}function C(){J=!0;h.canShow()&&!b.isDisableTurboWeblabInTreatment()?D("Tango eligible but Turbo being eligible takes precedence when handling URL"):(n.registerOnClickCallback(l),K=!0)}function l(){var b=a.getForms(z(y));if("T1"===r.getBuyNowToTangoWeblabs().PAX_CHECKOUT_BUY_NOW_TO_TANGO_REMOVE_LEGACY_PIPELINE_PARAMETER_1125072)if(b){var e=b.find('input[name\x3d"pipelineType"]');
if(e&&0<e.length){e.remove();e=e.val();D("the original pipelineType is: "+e);var d=a.getRefTag(z(y));w.logCountSimple("buynowToTangoRemoveLegacyPipelineParameterForDesktop:"+e+":"+d);w.logCount("buynowToTangoTotalRemoveLegacyPipelineParameterTotalForDesktop")}}else D("No buyNowButton form found");b.append(G(a.getRefTag(z(y))));b.attr("action","/checkout/entry/buynow");b.submit();return!1}function G(a){var b=document.createDocumentFragment();b.appendChild(E("pipelineType","Chewbacca"));b.appendChild(E("referrer",
F));b.appendChild(E("isBuyNow","1"));b.appendChild(E("ref_",(a||"unknown_buy_now")+"_chw"));return b}function E(a,b){var e=document.createElement("input");e.type="hidden";e.className="buy-now-to-tango-migration-request-param";e.name=a;e.value=b;return e}function D(a,b){d.logDebug("buy-now-to-tango-url-handler",a,b)}var z=c.$,y=g.get(g.KEYS.BUY_NOW_BUTTON_SELECTOR),F=g.get(g.KEYS.HOST_PAGE_TYPE_IDENTIFIER),q=!1,B=!1,J=!1,K=!1;k.bind(function(){t.isEnabled()&&(b.isBuyNowToTangoCustomerEligibilityCheckRemovalWeblabInTreatment()&&
p(),e.registerCallback({onTangoEligible:A,onTangoIneligible:u}),m.onStateChange(x),h.registerStateChangeCallback(v))});return{_forTestOnly:{_setTangoAsinCustomerEligibleAndCheckBuyNowToTangoParameterEligibility:A,_onBuyNowToTangoParameterEligibilityChange:x,_onTurboEligibilityChange:v,_overrideBuyNowButtonFormAttributesAndSubmit:l,_validateAndSetTangoEligibilityState:p},isBuyNowToTangoEligible:function(){return J},isTangoCustomerAndAsinEligible:function(){return q},isBuyNowClickPointingToTango:function(){return K}}});
"use strict";l.when("A","turbo-checkout-utils","turbo-configuration","turbo-checkout-form","buy-now-to-tango-switch","buy-now-to-tango-switch-beta","turbo-checkout-buy-now-button","turbo-checkout-eligible-state","turbo-checkout-weblab-allocation","turbo-checkout-state-handler","buy-now-to-tango-url-handler","turbo-checkout-urls","turbo-checkout-weblab-trigger","buy-now-to-tango-parameter-eligibility-listener","turbo-checkout-csm","buy-now-to-tango-parameter-list-retriever","turbo-checkout-page-ready").register("buy-now-to-tango-weblab-trigger",
function(c,a,d,f,e,b,g,k,h,n,m,t,r,w,p,A){function u(){!k.canShow()&&m.isBuyNowClickPointingToTango()?p.logCountSimple("BUY_NOW_TO_TANGO_HIT"):k.canShow()||!e.isEnabled()||b.isGatingWeblabEnabled()||(p.logCountSimple("BUY_NOW_TO_TANGO_EXCLUDED"),w.isBuyNowToTangoParameterEligible()||(p.logCountSimple("BUY_NOW_TO_TANGO_EXCLUSION_REASON:Parameter"),w.logBuyNowFormParameterExclusionsAndFeatures()),n.isProductTangoEligible()||p.logCountSimple("BUY_NOW_TO_TANGO_EXCLUSION_REASON:ASIN"),n.isProductTangoEligible()&&
!m.isTangoCustomerAndAsinEligible()&&p.logCountSimple("BUY_NOW_TO_TANGO_EXCLUSION_REASON:Customer"));var a=x(v);a=f.getForms(a);if(a===B||0===a.length)return!1;var d=!k.canShow(),c=m.isTangoCustomerAndAsinEligible();if(d&&c&&e.isEnabled()&&!b.isGatingWeblabEnabled()){a:{a=a.find("input[type\x3dhidden]");b:{d=A.getBuyNowToTangoParameterExclusionList();c=[];for(var g=0;g<a.length;g++){var u=a[g].getAttribute("name");if(u&&d.hasOwnProperty(u)){u=d[u];if(!u){a=[];break b}0>c.indexOf(u)&&c.push(u)}}a=
c}if(0===a.length)p.logCountSimple("NO_BUY_NOW_TO_TANGO_PARAMETER_WEBLABS"),a=[];else{d=h.getBuyNowToTangoWeblabs();c=0;g="";for(u=0;u<a.length;u++){var l=a[u];if(!d.hasOwnProperty(l)||""===d[l]||null===d[l]){p.logCountSimple("BUY_NOW_TO_TANGO_WEBLAB_TRIGGER:"+l+d.hasOwnProperty(l)?"HAS_NO_ALLOCATION":"DOES_NOT_EXIST");a=[];break a}"C"===d[l]&&(c++,g=l)}u=[];if(0===c){for(c=0;c<a.length;c++)g=a[c],u.push({weblabName:g,weblabAllocation:d[g]}),p.logCountSimple("BUY_NOW_TO_TANGO_WEBLAB_TRIGGER:"+g+":T1");
m.isBuyNowClickPointingToTango()||p.logCountSimple("BUY_NOW_TO_TANGO_WEBLAB_TRIGGERED_T1_BUT_URL_DID_NOT_FLIP")}else 1===c&&(u.push({weblabName:g,weblabAllocation:"C"}),p.logCountSimple("BUY_NOW_TO_TANGO_WEBLAB_TRIGGER:"+g+":C"),m.isBuyNowClickPointingToTango()&&p.logCountSimple("BUY_NOW_TO_TANGO_TRIGGERED_C_BUT_URL_FLIPPED"));a=u}}0<a.length&&(d=t.buildTriggerWeblabPathWithoutWeblab(n.getRefTag(),n.getRequestId(),n.getSessionId()),r.sendTurboWeblabRequest(d,a))}return!1}var x=c.$,v=d.get(d.KEYS.BUY_NOW_BUTTON_SELECTOR);
return{registerBuyNowToTangoTriggerOnButton:function(){g.registerOnClickCallback(u)},_forTestOnly:{_triggerBuyNowToTangoExperimentWeblabs:u}}});"use strict";l.when("turbo-checkout-page-ready").execute(function(){l.declare("turbo-eligibility-override",!1)});"use strict";l.when("turbo-checkout-page-state","turbo-configuration","turbo-checkout-utils","turbo-checkout-csm","turbo-checkout-page-ready").register("buy-now-to-tango-parameter-list-retriever",function(c,a,d,f){return{getBuyNowToTangoParameterExclusionList:function(){if(!1===
a.get(a.KEYS.IS_BUY_NOW_TO_TANGO_PRIME_SPLIT))return a.get(a.KEYS.BUY_NOW_TO_TANGO_PARAMETER_EXCLUSION_LIST);var e=c.get().isPrimeCustomer;if(!0===e)return a.get(a.KEYS.BUY_NOW_TO_TANGO_PARAMETER_EXCLUSION_LIST_PRIME);if(!1===e)return a.get(a.KEYS.BUY_NOW_TO_TANGO_PARAMETER_EXCLUSION_LIST_NON_PRIME);f.logCountSimple("buyNowToTangoCheckoutTurboStateIsPrimeCustomerUndefined:getBuyNowToTangoParameterExclusionList");throw Error("getBuyNowToTangoParameterExclusionList(): Unable to determine if prime customer or not as Turbo page state's isPrimeCustomer attribute is not true or false, but: "+
e);}}});"use strict";l.when("A","turbo-checkout-csm","turbo-configuration","turbo-checkout-page-ready").register("turbo-checkout-address-id",function(c,a,d){function f(b){for(var d=0;d<b.length;d++){var c=e(b[d]);if(0<c.length)return a.logCount("turboCheckoutAddressSelectorIndex"+d),c}a.logCount("turboCheckoutAddressSelectorMissing");return e()}var e=c.$;return{getAddressId:function(){return f(d.get(d.KEYS.ADDRESS_INPUT_SELECTORS)).val()||""},set:function(a){f(d.get(d.KEYS.ADDRESS_INPUT_SELECTORS)).val()!==
a&&f(d.get(d.KEYS.ADDRESS_INPUT_SELECTORS)).val(a).trigger("change",[a])}}});"use strict";l.when("A","turbo-checkout-utils","turbo-callback-list","turbo-configuration","turbo-checkout-load-events","turbo-checkout-page-ready").register("turbo-checkbox-exclusion-listener",function(c,a,d,f,e){function b(a){var b=r;r=!1;for(var e=0;e<n.length;e++){var d=m(n[e]).find("input[type\x3dcheckbox]");a(d)}b!==r&&(k("Exclusion checkbox state changed"),t.callAll("exclusionCheckbox"))}function g(a){var b;if(!(b=
r)){b=!1;for(var e=0;e<a.length&&!b;e++){var d=m(a[e]);(b=d.prop("checked"))&&k("Exclusion checkbox is checked",d)}}r=b}function k(b,e){a.logDebug("turbo-checkbox-exclusion-listener",b,e)}function h(){b(g)}var n=f.get(f.KEYS.CHECKBOX_EXCLUSION_ROOT_NODES),m=c.$,t=d.create(),r=!1;e.bind(function(){b(function(a){k("Listening for change events on:",a);a.unbind("change",h).bind("change",h);g(a)})});return{onStateChange:function(a){t.push(a)},isAnyCheckboxChecked:function(){return r}}});"use strict";l.when("A",
"turbo-callback-list","turbo-checkout-load-events","turbo-checkout-page-ready").register("turbo-checkout-custom-price-input",function(c,a,d){function f(){var a=e();k!==a&&(k=a,g.callAll())}function e(){return b("#gcPriceOverride").val()||""}var b=c.$,g=a.create(),k;d.bind(function(){k=e();b("#gcPriceOverride").unbind("change",f).bind("change",f)});return{getCustomPrice:e,onChange:function(a){g.push(a)}}});"use strict";l.when("A","turbo-checkout-csm","turbo-checkout-utils","turbo-configuration","turbo-callback-list",
"turbo-checkout-load-events","turbo-checkout-page-ready").register("turbo-checkout-quantity-input",function(c,a,d,f,e,b){function g(a){var b=a?a.value?parseInt(a.value,10):a.target&&a.target.value?parseInt(a.target.value,10):void 0:void 0;r===b?d.logDebug("turbo-checkout-quantity-input","Quantity change event does NOT have new quantity. Suppressing callbacks",void 0):(r=b,d.logDebug("turbo-checkout-quantity-input","Quantity change event",a),n.callAll())}function k(b){b=b.val();(b=parseInt(b,10))||
a.logCount("turboCheckoutNoQuantityFromPage");return b}var h=c.$,n=e.create(),m=f.get(f.KEYS.QUANTITY_SELECT_SELECTOR),t="Multiple quantity nodes present on the page. This may lead to an incorrect quantity being used in Turbo! Selector \x3d "+m,r;b.bind(function(){var b=h(m);r=k(b);b.unbind("change",g).bind("change",g);1<b.length&&(d.logError(t,"turbo-checkout-quantity-input"),d.logDebug("turbo-checkout-quantity-input",t,b));a.logCount("turboCheckoutQuantityNodes",b.length)});return{getQuantity:function(){return k(h(m))},
setQuantity:function(a){var b=h(m),e=k(b);a=parseInt(a,10);e!==a&&b.val(a).change()},onChange:function(a){n.push(a)}}});"use strict";l.when("A","turbo-checkout-csm","turbo-checkout-utils","turbo-callback-list","turbo-configuration","turbo-checkout-quantity-input","turbo-checkout-load-events","turbo-checkout-page-ready").register("turbo-checkout-warranty-input",function(c,a,d,f,e,b,g){var k=c.$,h=f.create(),n=e.get(e.KEYS.WARRANTY_CHECKBOX_INPUT_SELECTOR),m=e.get(e.KEYS.WARRANTY_CHECKBOX_RELATIVE_PARENT_SELECTOR),
t=e.get(e.KEYS.WARRANTY_ASIN_INPUT_NAME),r=e.get(e.KEYS.WARRANTY_OFFER_INPUT_SELECTOR);g.bind(function(){k(n).unbind("click",h.callAll).bind("click",h.callAll)});return{select:function(a){a&&k(m+" input[name^\x3d"+t+"][value\x3d"+a+"]").parents(m).find(n).click()},onChange:function(a){h.push(a)},getLineItem:function(e){if(k(n+":checked").length){var c=k(n+":checked").first().parents(m).find("input[name^\x3d"+t+"]").val()||"",f=k(r).val()||"";e=parseInt(e,10)||b.getQuantity()||1;if(c&&f)return{asin:c,
offerListingId:f,quantity:e,isDiscoveredAsin:!0};a.logCount("turboCheckoutIncompleteWarrantyInputs");d.logError("Incomplete input data for the selected warranty checkbox - asin:"+c+", offerId:"+f+", quantity:"+e)}else d.logDebug("turbo-checkout-warranty-input","No warranty checkbox is selected",void 0)}}});"use strict";l.when("A","turbo-checkout-csm","turbo-callback-list","turbo-configuration","turbo-checkout-load-events","turbo-checkout-page-ready").register("turbo-checkout-vas-input",function(c,
a,d,f,e){function b(){return n(k).prop("checked")||!1}function g(){var a=t;t=b();a!==t&&m.callAll(t)}var k=f.get(f.KEYS.VAS_CHECKBOX_SELCTOR),h=f.get(f.KEYS.VAS_CHANGE_EVENTS),n=c.$,m=d.create(),t;e.bind(function(){t=b();h.forEach(function(a){c.off(a,g);c.on(a,g)})});return{isSelected:b,onChange:function(a){m.push(a)}}});"use strict";l.when("A","turbo-checkout-utils","turbo-callback-list","turbo-checkout-load-events","turbo-checkout-csm","turbo-checkout-aui-page-state-parser","turbo-configuration",
"turbo-checkout-page-ready").register("turbo-checkout-accessories-input",function(c,a,d,f,e,b,g){function k(){var a=u;u=w();u!==a&&A.callAll()}function h(){if(x===B&&p(v).length){var a=b.parse("simpleBundleParameterMap",".simpleBundleFeatureContainer");0===a.length?(e.logCount("Turbo:Accessories:No:State"),x={}):n(a)}}function n(a){x={};a[0].items.forEach(function(a){x[a.asin]={asin:a.asin,offerListingId:a.offerListingId,isDiscoveredAsin:!0}})}function m(){return p(v).find("input[type\x3dcheckbox]")}
function t(){m().unbind("change",k).bind("change",k)}function r(){return p(v).length?1>=u:0===u}function w(){var b=0;m().each(function(){p(this).prop("checked")&&b++});a.logDebug("turbo-checkout-accessories-input","Accessories selected "+b);return b}var p=c.$,A=d.create(),u=0,x,v=g.get(g.KEYS.ENABLED_ACCESSORIES_SELECTOR);h();t();f.bind(function(){h();t();w()});return{isEligible:r,registerCallback:function(a){A.push(a)},getLineItem:function(){if(r()){var a=m().filter(":checked").val();a=x?x[a]:void 0;
return a||B}return B},select:function(a){a&&p(v+" input[type\x3dcheckbox][value\x3d"+a+"]").click()}}});"use strict";l.when("A","turbo-checkout-csm","turbo-configuration","turbo-checkout-page-ready").register("turbo-checkout-session-id-input",function(c,a,d){var f=c.$;return{getSessionId:function(){var e=f(d.get(d.KEYS.SESSION_ID_SELECTOR));e&&0<e.length||(a.logCount("turboCheckoutSessionIdSelectorMissing"),e=f());return e.val()||""}}});"use strict";l.when("A","turbo-checkout-csm","turbo-checkout-utils",
"turbo-configuration","turbo-checkout-aui-page-state-parser","turbo-checkout-page-ready").register("java-checkout-url-page-state",function(c,a,d,f,e){function b(a,b){this.javaCheckoutUrl=a;this.javaCheckoutQueryParams=b}function g(a,b){d.logDebug("java-checkout-url-page-state",a,b)}var k=f.get(f.KEYS.JAVA_CHECKOUT_URL_PAGE_STATE_KEY),h=f.get(f.KEYS.JAVA_CHECKOUT_URL_PAGE_STATE_PARSING_ROOT_NODE_SELECTOR),n=new b("",{});return{get:function(d,c){d=d||k;c=c||h;c=e.parse(d,c);a.logCount("javaCheckoutUrlPageStates",
c.length);0===c.length?(g("Java checkout url page state ["+d+"] is NOT present"),d=void 0):d=c[0];d?d=new b(d.javaCheckoutUrl,d.javaCheckoutQueryParams):(a.logCount("javaCheckoutUrlPageStateNotDefined"),d=n);g("Java Checkout Url PageState",d);return d}}});"use strict";l.when("A","turbo-checkout-csm","turbo-checkout-utils","turbo-checkout-form","turbo-checkout-ref-tagger","turbo-checkout-page-state","turbo-checkout-product-state","turbo-checkout-page-ready").register("turbo-checkout-joined-state",
function(c,a,d,f,e,b,g){function k(a,b,e){b&&(e&&(b.quantity=e),a.push(b))}function h(b,d){function m(){var d=b.turboWeblab;d||a.logCount("turboCheckoutWeblabNameNotDefinedInState");return d}function g(){return b.turboWeblabTreatment}this.pageState=b;this.productStates=d;this.getLineItems=function(){return h.lineItemInputs};this.getActiveId=function(){return h.id};this.getHeaderText=function(){return h?h.turboHeaderText||b.turboHeaderText:b.turboHeaderText};this.getLoadingText=function(){return b.turboLoadingText};
this.getCloseText=function(){return b.turboCloseText};this.getAddressId=function(){return b.addressId};this.getRequestId=function(){return b.requestId};this.getSessionId=function(){return b.sessionId};this.getAdditionalWeblabs=function(){return b.additionalWeblabs};this.getInitiateSelector=function(){return b.initiateSelector};this.getWeblab=m;this.getWeblabTreatment=g;this.isTurboLaunched=function(){return!m()&&"C"!==g()};this.isProductStateEligible=function(){return d.isTurboEligible};this.getRefTag=
function(){if(!h)throw Error("Turbo checkout product state is NOT resolved. Cannot generate ref tag");var a=c.$("#"+h.id);a=f.getRefTag(a);return e.generateJoinedValue(a)};this.getCSRFToken=function(){return b.csrfToken};this.getClientId=function(){return h&&h.checkoutClientId?h.checkoutClientId:"retailwebsite"};this.resolve=function(a){if(a){h=d.states[a];if(!h)throw a="Resolved turbo checkout product state is undefined. Id \x3d "+a,n(a,d),Error(a);n("Resolved new product state",h);c.trigger("turbo:checkout:state:product:resolved")}};
this.getHoldbackSecondaryPanelsWeblab=function(){return b.holdbackSecondaryPanelsWeblab};this.isPrimeCustomer=function(){return b.isPrimeCustomer};var h=1!==d.states.length?B:d.states[0]}function n(a,b){d.logDebug("turbo-checkout-joined-state",a,b)}return{createTurboState:function(d,e,c,f,n,A){if(f&&c)throw Error("Custom item price is NOT supported with warranty");var m=b.get();e&&(m.addressId=e);e=g.get();if(d||f||c||A)d=parseInt(d,10),e.states.forEach(function(b){b.lineItemInputs.forEach(function(b){d&&
(b.quantity=d);f?(b.customItemPrice=f,a.logCount("turboCheckoutItemPriceOverrided")):b.customItemPrice&&a.logCount("turboCheckoutItemPriceSelectorFallBackToTurboState")});k(b.lineItemInputs,A,d);k(b.lineItemInputs,c,d)});m=new h(m,e);m.resolve(n);return m}}});"use strict";l.when("A","turbo-checkout-csm","turbo-checkout-utils","turbo-configuration","turbo-checkout-aui-page-state-parser","turbo-constants","turbo-checkout-page-ready").register("turbo-checkout-page-state",function(c,a,d,f,e,b){function g(a,
d,e,c,f,h,g,m,n,k,t,l,z,y,F,q){this.version=a;this.turboWeblab=d;this.turboWeblabTreatment=e;this.initiateSelector=c;this.turboLoadingText=f;this.turboHeaderText=h;this.turboCloseText=g;this.addressId=m;this.requestId=n;this.sessionId=k;this.csrfToken=t;this.turboAssetsMode=l;this.isJavaPipelineEligible="0"!==this.version&&this.turboAssetsMode!==b.ASSET_MODE_TURBO_ONLY;this.additionalWeblabs=z;this.holdbackSecondaryPanelsWeblab=y;this.isTangoCheckoutEligible=F;this.isPrimeCustomer=q}function k(a,
b){d.logDebug("turbo-checkout-page-state",a,b)}var h=f.get(f.KEYS.TURBO_PAGE_STATE_KEY),n=f.get(f.KEYS.PAGE_STATE_PARSING_ROOT_NODE_SELECTOR),m=f.get(f.KEYS.LEGACY_SESSION_ID_IDENTIFIER),t=new g("0","","C","#buy-now-button","","","","","","","",b.ASSET_MODE_TURBO_ONLY,"","",!1,!1);return{get:function(c,f){b:{c=c||h;f=f||n;f=e.parse(c,f);a.logCount("turboCheckoutPageStates",f.length);if(1<f.length)d.logError("Multiple turbo checkout page states found! Turbo will NOT show","turbo-checkout-page-state",
void 0),k("PageStates",f);else if(0===f.length)k("Turbo checkout page state ["+c+"] is NOT present");else{c=f[0];break b}c=void 0}if(c)if(c.version)c=new g(c.version,c.turboWeblab||"",c.turboWeblabTreatment||"C",c.initiateSelector||".buy-now-button",c.turboLoadingText||"",c.turboHeaderText||"",c.turboCloseText||"",c.addressId||"",c.requestId||"",c.sessionId||"",c.csrfToken||"",c.turboAssetsMode||b.ASSET_MODE_TURBO_ONLY,c.additionalWeblabs||"{}",c.holdbackSecondaryPanelsWeblab||"{}",c.isTangoCheckoutEligible||
!1,c.isPrimeCustomer||!1);else{f=c.inputs||{};var p=c.strings||{};c=new g("1",c.turboWeblab||"",c.turboWeblabTreatment||"C",(c.configurations||{}).initiateSelector||"#buy-now-button",p.TURBO_LOADING_TEXT||"",p.TURBO_CHECKOUT_HEADER||"",p.TURBO_CLOSE_TEXT||"",f.addressId||"",f.requestId||"",f.sessionId||f[m]||"",c.csrfToken||"",c.turboAssetsMode||b.ASSET_MODE_TURBO_ONLY,c.additionalWeblabs||"{}",c.holdbackSecondaryPanelsWeblab||"{}",c.isTangoCheckoutEligible||!1,c.isPrimeCustomer||!1)}else a.logCount("turboCheckoutStateNotDefined"),
c=t;k("Turbo Checkout PageState",c);return c}}});"use strict";l.when("A","turbo-checkout-csm","turbo-checkout-utils","turbo-configuration","turbo-checkout-aui-page-state-parser","turbo-checkout-page-ready").register("turbo-checkout-product-state",function(c,a,d,f,e){function b(a,b){this.isTurboEligible=a;this.states=b}function g(a,b,d,e,c){this.id=a;this.isTurboEligible=b;this.lineItemInputs=d;this.turboHeaderText=e||"";this.checkoutClientId=c}function k(a,b,d,e,c,f,h,g,m,n,k,t,r){this.asin=b||"";
this.offerListingId=d||"";this.quantity=parseInt(e,10)||1;this.isTurboEligible=!!this.asin&&!!this.offerListingId&&a;this.productTitle=c||"";this.incentivizedCart=f||"";this.customItemPrice=h||"";this.addToCartTimeAsUnixEpochMilliseconds=g||"";this.addToCartSessionId=m||"";this.isDiscoveredAsin=!!n;this.concealmentEligibilityType=k||"";this.orderType=t||"";this.rcxOrdFreq=r||""}function h(a,b){d.logDebug("turbo-checkout-product-state",a,b)}function n(a){if(!a.lineItemInputs||!a.lineItemInputs.length||
!a.id)return h('Versioned product state is invalid. Expected non empty "id" and "lineItemInputs". Turbo may NOT show',a),r;var b=!0,d=c.map(a.lineItemInputs,function(a){a=new k(a.isTurboEligible,a.asin,a.offerListingId,a.quantity,a.productTitle,a.incentivizedCart,a.customItemPrice,a.addToCartTimeAsUnixEpochMilliseconds,a.addToCartSessionId,a.isDiscoveredAsin,a.concealmentEligibilityType,a.orderType,a.rcxOrdFreq);b=b&&a.isTurboEligible;return a});return new g(a.id,b,d,a.turboHeaderText,a.checkoutClientId)}
var m=f.get(f.KEYS.TURBO_PRODUCT_STATE_KEY),t=f.get(f.KEYS.PRODUCT_STATE_PARSING_ROOT_NODE_SELECTOR),r=new g("buy-now-button",!1,[],"","retailwebsite"),l=new b(!1,[r]);return{get:function(c,f){c=c||m;f=f||t;f=e.parse(c,f);a.logCount("turboCheckoutProductStates",f.length);1<f.length&&"turbo-checkout-page-state"===c?(d.logError("turbo-checkout-page-state only supports the single item use case! Turbo will NOT show","turbo-checkout-product-state",void 0),c=[]):c=f;if((f=c)&&f.length){var p=!1;c=[];for(var A=
0;A<f.length;A++){var v=f[A];if(v)if(v.version)var w=n(v);else v.inputs&&v.eligibility?(w=v.strings||{},v=new k(v.eligibility.isEligible,v.inputs.a,v.inputs.oid,v.inputs.quantity,w.TURBO_CHECKOUT_HEADER,v.inputs.incentivizedCart,v.inputs.customItemPrice,v.inputs.concealmentEligibilityType),w=new g("buy-now-button",v.isTurboEligible,[v],w.TURBO_CHECKOUT_HEADER,"retailwebsite")):(h('Legacy product state is missing "inputs" or "eligibility". Turbo will NOT show',v),w=r);else h("Product state parsed DOM object is invalid. Turbo may NOT show",
v),w=r;p=p||w.isTurboEligible||!1;v=w.id;if(c[v])throw f="Duplicate product state found. id \x3d "+v,h(f,c),Error(f);c.push(w);c[w.id]=w}c=new b(p,c)}else h("Parsed states are invalid. Turbo will NOT show",f),c=l;h("Turbo Checkout Product State(s)",c);return c}}});"use strict";l.when("A","turbo-configuration","turbo-checkout-csm","turbo-checkout-utils","turbo-checkout-auto-open","turbo-checkout-address-id","turbo-checkout-quantity-input","turbo-checkout-warranty-input","turbo-checkout-custom-price-input",
"turbo-callback-list","turbo-checkout-joined-state","turbo-checkout-accessories-input","turbo-checkout-session-id-input","turbo-checkout-page-state","buy-now-to-tango-switch","turbo-checkout-page-ready").register("turbo-checkout-state-handler",function(c,a,d,f,e,b,g,k,h,n,m,t,r,l,p){function w(a,d,e,c,f,n){a=a||g.getQuantity();d=d||b.getAddressId();e=e||k.getLineItem(a);c=c||h.getCustomPrice();n=n||t.getLineItem();return m.createTurboState(a,d,e,c,f,n)}function u(a,b){f.logDebug("turbo-checkout-state-handler",
a,b)}function x(a,b){f.logWarning("turbo-checkout-state-handler",a,b)}function v(a,b,d,e,c){y=w(a,b,d,B,e,c)}function C(){c.trigger("turbo:checkout:product:onChange");D.callAll()}function q(){var a=w();f.isDeepEquals(y,a)||(y=a,u("New Turbo State",y),C())}var G=c.$,E=a.get(a.KEYS.AJAX_PAGE_UPDATE_EVENT),D=n.create(),z=!1;var y=w();return{isProductTurboEligible:function(){return!z&&y.isProductStateEligible()||a.get(a.KEYS.OVERRIDE_ELIGIBILITY)},isProductTangoEligible:function(){return p.isEnabled()&&
l.get().isTangoCheckoutEligible},getLineItems:function(){return y.getLineItems()},getAddressId:function(){return y.getAddressId()},getWeblabAllocation:function(){return y.getWeblabTreatment()},registerCallback:function(a){D.push(a)},startMonitoringPage:function(){e.updateInputsAndThen(v);g.onChange(q);k.onChange(q);h.onChange(q);t.registerCallback(q);c.off(E,q);c.on(E,q);C()},getRequestId:function(){return y.getRequestId()},getSessionId:function(){return y.getSessionId()},getExperimentName:function(){return y.getWeblab()},
getPrimeStatus:function(){return y.isPrimeCustomer()},getAdditionalWeblabAndTreatmentMap:function(){try{var a=y.getAdditionalWeblabs();""===a&&d.logCount("turboStateAdditionalWeblabsEmptyString");var b=JSON.parse(a);return b===B?(d.logCount("turboCheckoutParseAdditionalWeblabsUndefined"),x("JSON::parsed additionalWeblabs as undefined for weblabs: ["+a+"]"),{}):b}catch(H){return d.logCount("turboCheckoutParseAdditionalWeblabsException"),x("JSON::parse exception on additionalWeblabs: ["+y.getAdditionalWeblabs()+
"]. Exception \x3d "+H),{}}},getStrings:function(){return{TURBO_LOADING_TEXT:y.getLoadingText(),TURBO_CHECKOUT_HEADER:y.getHeaderText(),TURBO_CLOSE_TEXT:y.getCloseText()}},getInitiateSelector:function(){return y.getInitiateSelector()},isTurboLaunched:function(){return y.isTurboLaunched()},isPhysicalGiftCardExperimentEligible:function(){var a=0!==G("#giftcardcustomtwister_feature_div").length;a&&(u("Physical Gift Card use case"),d.logCount("turboCheckoutGiftCardUseCase"));return a},setTurboStateNotEligible:function(){z=
!0},resolveProductState:function(a){y.resolve(a)},getActiveId:function(){return y.getActiveId()},getRefTag:function(){return y.getRefTag()},getCSRFToken:function(){var a;(a=y.getCSRFToken())||(a=(a=y.getSessionId())&&0<a.length?a:r.getSessionId());a=a||"";if(!a||0>=a.length)x("CSRF Token is empty. This will result in denied requests."),d.logCount("turboCheckoutNoValidCSRFToken");return a},getClientId:function(){return y.getClientId()},getHoldbackSecondaryPanelsWeblab:function(){try{return JSON.parse(y.getHoldbackSecondaryPanelsWeblab())}catch(F){d.logCount("turboCheckoutParseHoldbackSecondaryPanelsWeblabException"),
x("JSON::parse exception. Exception \x3d "+F)}}}});"use strict";l.when("A","turbo-checkout-utils","turbo-checkout-page-ready").register("turbo-checkout-aui-page-state-parser",function(c,a){var d=c.$;return{parse:function(c,e){c="script[data-a-state*\x3d'"+c+"'], #"+c;e=e?d(e).find(c):d(c);c=[];for(var b=0;b<e.length;b++){a:{try{var f=d(e[b]).text();var k=JSON.parse(f);break a}catch(h){a.logError("JSON::parse exception. Exception \x3d "+h,"turbo-checkout-aui-page-state-parser",void 0)}k=void 0}k&&
c.push(k)}return c}}});"use strict";l.when("A","turbo-checkout-page-state","turbo-checkout-csm","turbo-checkout-state-handler","tango-checkout-urls","turbo-checkout-page-ready").register("tango-checkout-eligibility",function(c,a,d,f,e){function b(){var a={},b=f.getAddressId();b&&(a.addressID=b);return a}function g(a){m();n(!1);r=null;a&&a.isTangoEligible?(d.logCount("tangoCheckoutCustomerEligible"),w&&w()):(h(""),d.logCount("tangoCheckoutCustomerNotEligible"),p&&p())}function k(a,b,e){m();n(!1);"timeout"===
b&&d.logCount("tangoCheckoutCustomerEligibilityCallFailedWithTimeOut");r=null;h("");d.logCount("tangoCheckoutCustomerEligibilityCallFailed")}function h(a){l.when("ready").execute(function(){c.state("checkout-url-migration-page-state",{checkoutUrl:a})})}function n(a){c.state("checkout-url-migration-page-state",{ajaxEligibilityInProgress:a})}function m(){var a=(new Date).getTime()-t;d.logCount("tangoCheckoutCustomerEligibilityTime",a)}var t,r,w,p;return{setEligibleCallback:function(a){w=a},setIneligibleCallback:function(a){p=
a},isEligibleFromPageState:function(){return a.get().isJavaPipelineEligible},checkEligibility:function(){t=(new Date).getTime();r&&(r.abort(),r=null);var a=e.buildEligibilityPathWithParams();n(!0);r=c.$.ajax(a,{type:"POST",data:b(),success:g,error:k})},setTangoPageStateUrl:h,setEligibilityAJAXInProgress:n}});"use strict";l.when("A","turbo-configuration","turbo-shopping-portal-switch","java-checkout-url-page-state","turbo-checkout-page-ready").register("tango-checkout-urls",function(c,a,d,f){function e(a){return 0===
a.length?"":"?"+a.join("\x26")}function b(a,b){var d=[],e;for(e in a)if(a.hasOwnProperty(e)){var c=a[e];if(b){var f=e;var h=document.createElement("input");h.type="hidden";h.className="checkout-url-migration-request-param";h.name=f;h.value=c;f=h}else f=e+"\x3d"+c;d.push(f)}return d}function g(a){var b=c.$("#sc-buy-box form, #sw-atc-buy-box form, #sc-luxury-buy-box form, #sc-bazaar-buy-box form");if(0!==b.length){var d=document.createDocumentFragment();a.forEach(function(a){d.appendChild(a)});b.append(d)}}
function k(a){l.when("ready").execute(function(){c.state("checkout-url-migration-page-state",{queryParamString:a})})}var h="unknown";return{buildEligibilityPathWithParams:function(){var c={isAsync:"1",pipelineType:"Chewbacca"};c.referrer=a.get(a.KEYS.HOST_PAGE_TYPE_IDENTIFIER);c.ref_="chk_"+h+"_eligibility";c=b(c,!1);return(d.isShoppingPortalEnabled()?"/checkout/turbo/tango-eligibility":"/checkout/tango-eligibility")+e(c)},buildProceedToCheckoutPathWithParams:function(){var d=f.get(),c={pipelineType:"Chewbacca"};
c.referrer=a.get(a.KEYS.HOST_PAGE_TYPE_IDENTIFIER);c.ref_=d.javaCheckoutQueryParams.ref_||"ox_"+h+"_proceed";var t=b(c,!0);g(t);c=b(c,!1);c=e(c);k(c);return d.javaCheckoutUrl||"/checkout/entry/cart"},buildBuyNowToTangoCheckoutPathWithParams:function(d){var c={pipelineType:"Chewbacca"};c.referrer=a.get(a.KEYS.HOST_PAGE_TYPE_IDENTIFIER);c.isBuyNow="1";c.ref_=(d||"unknown_buy_now")+"_chw";d=b(c,!1);return"/checkout/entry/buynow"+e(d)},setRefMarkerPageContext:function(a){h=a}}});"use strict";l.when("jQuery",
"turbo-checkout-auto-open","turbo-checkout-page-ready").register("turbo-checkout-page-load-spinner",function(c,a){function d(){0!==c("#turbo-checkout-auto-load-spinner-container").length&&(c("#turbo-checkout-auto-load-spinner-container").remove(),e.unbind("touchmove touchstart touchend touchcancel click scroll",f))}function f(a){a.preventDefault();a.stopPropagation()}var e=c("body");a.isAutoOpenEligible()&&(e.bind("touchmove touchstart touchend touchcancel click scroll",f),e.append("\x3cdiv id\x3d'turbo-checkout-auto-load-spinner-container' class\x3d'turbo-checkout-auto-load-spinner-container'\x3e\x3cdiv id\x3d'turbo-checkout-auto-load-circle-container' class\x3d'turbo-checkout-auto-load-circle-container'\x3e\x3cdiv id\x3d'turbo-checkout-auto-load-spinner' class\x3d'a-spinner a-spinner-medium turbo-checkout-auto-load-spinner'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"),
setTimeout(d,5E3));return{removePageLoadSpinner:d}});"use strict";l.when("turbo-checkout-page-ready").register("turbo-callback-list",function(){function c(){var a=[];this.callAll=function(){for(var d=0;d<a.length;d++){var c=a[d];c.apply(c,arguments)}};this.push=function(d){if("function"!==typeof d)throw Error("Invalid callback. Expected typeof 'callback' to be 'function'. typeof \x3d "+typeof d);-1===a.indexOf(d)&&a.push(d)};this.remove=function(d){d=a.indexOf(d);-1!==d&&a.splice(d,1)}}return{create:function(){return new c}}});
"use strict";l.when("turbo-callback-list","turbo-checkout-page-ready").register("turbo-filtered-callback-list",function(c){function a(a){var d=c.create();this.callAll=d.callAll;this.remove=d.remove;this.push=function(c){(c=c[a])&&"function"===typeof c&&d.push(c)}}return{create:function(d){if(!d||"string"!==typeof d)throw Error("Invalid filter parameter. Expected 'filter' to be a non empty string. typeof \x3d "+typeof d+" value \x3d "+d);return new a(d)}}});"use strict";l.when("A","turbo-configuration",
"turbo-checkout-utils","turbo-checkout-page-ready").register("turbo-checkout-form",function(c,a,d){function f(b){var d=a.get(a.KEYS.FORM_SELECTOR_OVERRIDE);if(d&&0<e(d).length)return e(d);d=a.get(a.KEYS.FORM_TYPE);if("link"===d)return b.find("a");if("form"===d)return b.closest("form");throw Error("Unsupported FORM_TYPE is configured. value \x3d "+d);}var e=c.$,b=/[\/?&]ref_?=([^?&]+)/;return{getForms:f,getRefTag:function(a){if(1!==a.length)return d.logError("Expected getRefTag input to have a single element. Cannot resolve refTag as this is a data quality risk",
"turbo-checkout-form"),d.logDebug("turbo-checkout-form","Expected getRefTag input to have a single element. Cannot resolve refTag as this is a data quality risk",a),"";a=f(a);a=((a.attr("action")||a.attr("href")||"")+"\x26"+a.serialize()).match(b)||{};return 2===a.length?a[1]:""}}});"use strict";l.when("A","turbo-checkout-page-ready").register("turbo-checkout-ajax-wrapper",function(c){return{load:function(a,d){d.hasOwnProperty("timeout")||(d.timeout=2E4);return c.ajax(a,d)},loadWithJQXHR:function(a,
d){d.hasOwnProperty("timeout")||(d.timeout=2E4);return c.$.ajax(a,d)},createXHRRequest:function(){var a=new XMLHttpRequest;a.timeout=2E4;return a}}});"use strict";l.when("A","turbo-checkout-csm","turbo-checkout-utils","turbo-checkout-session-storage","turbo-checkout-quantity-input","turbo-checkout-address-id","turbo-checkout-warranty-input","turbo-checkout-accessories-input","turbo-checkout-navigation-window","turbo-checkout-page-ready").register("turbo-checkout-auto-open",function(c,a,d,f,e,b,g,
k,h){function n(a,b){d.logDebug("turbo-checkout-auto-open",a,b)}function m(){return t()&&0!==A}function t(){var b;if(b="1"===x.trb_open||"1"===d.getUrlQueryParam("trb_open"))(b=f.isPresent("hasTurboAutoOpened"))&&a.logCount("turboCheckoutAutoOpenLoopPrevented"),b=!b;return b}function r(){return 1===A&&t()}function l(){r()&&(m()&&(A=2,f.set("hasTurboAutoOpened","1")),v(x.trb_bid),c.trigger("turbo:checkout:auto:open"))}var p=c.$,A=0,u="trb_open trb_addr trb_qty trb_warrAsin trb_auth trb_sid trb_bid trb_accessoryAsin trb_accessoryOffer".split(" "),
x={},v=function(){};return{setup:function(a,b){if(t()){A=1;var e=h.getWindow().location.href;p.each(u,function(a,b){a=d.getUrlQueryParam(b);x[b]=a;e=d.removeQueryParam(b,a,e)});n("Parameters:",x);d.replaceHistory(e);"function"===typeof a?v=a:d.logError("Initiate action must be supplied, and it must be a function.");c.on("turbo:checkout:prefetcher:state:dataStale",l);b()}else A=0,n("Disabled")},reset:function(){f.remove("hasTurboAutoOpened")},isAutoOpenEligible:t,isAutoOpenEnabled:m,isAutoOpenReadyToBeOpened:r,
updateInputsAndThen:function(a){var d=x.trb_qty,c=x.trb_addr,f=x.trb_warrAsin,h=x.trb_bid,m=x.trb_accessoryAsin,n=x.trb_accessoryOffer;if(d||c||f||h||m||n){d&&e.setQuantity(d);c&&b.set(c);if(f){g.select(f);var t=g.getLineItem(d)}if(m&&n){k.select(m);var r=k.getLineItem()}a(d,c,t,h,r)}}}});"use strict";l.when("turbo-checkout-navigation-window","turbo-checkout-page-ready").register("turbo-checkout-utils",function(c){function a(){return navigator.userAgent}function d(a,b){if(a===b||"function"===typeof a&&
"function"===typeof b)return!0;if(typeof a!==typeof b)return!1;if("object"!==typeof a||null===a||null===b)return a===b||a!==a&&b!==b;var c=Object.getOwnPropertyNames(a);if(c.length!==Object.getOwnPropertyNames(b).length)return!1;for(var e=0;e<c.length;e++){var f=c[e];if(!a.hasOwnProperty(f)||!b.hasOwnProperty(f)||!d(a[f],b[f]))return!1}return!0}var f={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#039;"};return{logError:function(a,b){l.log(a,"ERROR",b||"turbo-checkout-utils")},
logWarning:function(a,b){l.log(a,"WARN",b||"turbo-checkout-utils")},logDebug:function(){},getUserAgent:a,isAndroid:function(){return!!a().match(/[a|A]ndroid/)},isIPhone:function(){return!!a().match(/iPhone/)},isIPad:function(){return!!a().match(/iPad/)},isInternetExplorer:function(){return!!a().match(/MSIE/)},createFQDN:function(a){/^http/.test(a)||(a=c.getWindow().location.origin?c.getWindow().location.origin+a:c.getWindow().location.protocol+"//"+c.getWindow().location.hostname+":"+c.getWindow().location.port+
a);return a},getUrlQueryParam:function(a,b){b||(b=c.getWindow().location.href);a=a.replace(/[\[\]]/g,"\\$\x26");return(a=(new RegExp("[?\x26]"+a+"(\x3d([^\x26#]*)|\x26|#|$)")).exec(b))?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":B},removeQueryParam:function(a,b,d){var c=d;a&&b&&d&&(a=a+"\x3d"+b,c=d.replace(new RegExp("\\?"+a+"[\x26]?","g"),"?"),c=c.replace(new RegExp("[\x26]?"+a,"g"),""));return c},replaceHistory:function(a){c.getWindow().history.pushState&&(c.getWindow().history.replaceState(null,
c.getWindow().title,a),c.getWindow())},isNonEmptyString:function(a){return"string"===typeof a&&0<a.length},isDeepEquals:d,escapeHtml:function(a){return a.replace(/[&<>"']/g,function(a){return f[a]})}}});"use strict";l.when("turbo-checkout-utils","turbo-checkout-page-ready").register("turbo-checkout-csm",function(c){function a(a,b,d,c){return"function"===typeof q.uet?q.uet.apply(q.uet,arguments):c||f()}function d(a,b,d){return"function"===typeof q.ues?q.ues.apply(q.ues,arguments):d}function f(){return+new Date}
function e(b){function c(){k&&e&&g&&h&&!p&&"function"===typeof l&&(l(k,e,g,h),p=!0)}var e,h,g,k,p=!1,l;this.getId=function(){return b};this.markClick=function(){k=a("tc",b)};this.markFirstByte=function(){e=d("t0",b,f())};this.markAboveTheFold=function(){g=a("af",b);c()};this.markCriticalFeature=function(){h=a("cf",b);c()};this.whenDataSet=function(a){l=a;c()}}function b(a){"undefined"!==typeof q.ue_t0&&q.ue.count(a,Date.now()-q.ue_t0)}var g=0,k=[];return{createScope:function(){return new e("chk_turbo_"+
++g)},logCount:function(a,d){d=d||1;c.logDebug("Logging counter "+a+" with value "+d);if(q.ue&&q.ue.count){var e=a+"_time";q.ue.count(a,d);b(e);for(var f=0;f<k.length;++f)q.ue.count(a+"."+k[f],d),b(e+"."+k[f])}},logCountSimple:function(a,b){b=b||1;c.logDebug("Logging counter "+a+" with value "+b);q.ue&&q.ue.count&&q.ue.count(a,b)},addCounterExtraSuffix:function(a){k.push(a)},timestamp:f}});"use strict";l.when("A","turbo-checkout-csm","turbo-checkout-page-ready").register("turbo-checkout-counter",
function(c,a){var d=0,f=0,e=0,b=0,g=0,k=0,h="u";c.on("turbo:checkout:sheet:beforeOpen",function(){a.logCount("turboCheckoutSheetOpen",d);"u"!==h?(++g,a.logCount("turboCheckoutPrefetchUsed",g),"p"===h?a.logCount("turboCheckoutPrefetchUsedInProgress",g):a.logCount("turboCheckoutPrefetchUsedFull",g)):(++k,a.logCount("turboCheckoutPrefetchMissing",k))});c.on("turbo:checkout:sheet:beforeClose",function(){++f;a.logCount("turboCheckoutSheetClose",f)});c.on("turbo:checkout:prefetcher:state:dataPrefetching",
function(){a.logCount("turboCheckoutPrefetchRequested",e);h="p"});c.on("turbo:checkout:prefetcher:state:dataFresh",function(){++b;a.logCount("turboCheckoutPrefetchAvailable",b);h="a"});c.on("turbo:checkout:prefetcher:state:dataStale",function(){h="u"});return{incrementSheetOpenedCounter:function(){d++},incrementPrefetchCounter:function(){e++},getSheetOpenCount:function(){return d},getPrefetchCount:function(){return e}}});"use strict";l.when("turbo-checkout-page-ready").register("turbo-checkout-cacher",
function(){return{createCache:function(c){var a=!1,d;return function(){a||(d=c(),a=!0);return d}}}});"use strict";l.when("A","turbo-configuration","turbo-checkout-utils","turbo-checkout-counter","turbo-checkout-page-ready").register("turbo-checkout-ref-tagger",function(c,a,d,f){function e(a,d,c){a="chk_"+a+"_"+(d+"_"+f.getPrefetchCount()+"-"+f.getSheetOpenCount());return b(c?a+"_"+c:a)}function b(a){if(!("string"===typeof a&&0<a.length&&64>=a.length&&k.test(a))||h.test(a))throw Error("Invalid ref tag. This would be filtered and replaced in clickstream. Value \x3d "+
a);return a}var g={ELIGIBILITY:"eligibility",BUY_NOW:"buyNow",CLOSE:"close"},k=/(^[A-z]$|^[A-z][A-z0-9_-]*[A-Za-z0-9]$)/,h=/[_-]{2,}/,n=a.get(a.KEYS.HOST_PAGE_TYPE_IDENTIFIER);return{generateRefTag:function(a,b,d){return"ref_\x3d"+e(a,b,d)},generateValue:e,generateJoinedValue:function(a){if(!a)return e(n,g.BUY_NOW,"fallback");try{var c=a+"_"+(g.BUY_NOW+"_"+f.getPrefetchCount()+"-"+f.getSheetOpenCount());return b(c)}catch(r){return d.logError(r.message,"turbo-checkout-ref-tagger"),e(n,g.BUY_NOW,"fallback")}},
generateEligibilityValue:function(){return e(n,g.ELIGIBILITY)},ACTIONS:g,TAGS:{TOUCH:"touch",TOUCH_X:"touchX",BACK:"back",ROTATION:"rotation",DONE:"done"}}});"use strict";l.when("A","turbo-checkout-page-ready").register("turbo-checkout-prefetch-timer",function(c){function a(){b||(b=!0,c.trigger("turbo:checkout:timer:onTimeout"))}function d(){if(b)return!0;var a=(new Date).getTime();return e?6E5<=a-e:!1}var f,e,b=!1;return{startTimer:function(){f||(f=q.setTimeout(a,6E5));e||(e=(new Date).getTime())},
isTimeout:d,resetTimer:function(){q.clearTimeout(f);b=!1;e=f=null},checkTimeout:function(){d()&&a()}}});"use strict";l.when("A","jQuery","turbo-checkout-csm","turbo-checkout-utils","turbo-checkout-state-handler","turbo-checkout-form","turbo-checkout-buy-now-onclick-handler","turbo-configuration","turbo-checkout-page-ready").register("turbo-checkout-buy-now-button",function(c,a,d,f,e,b,g,k){function h(a,b){f.logDebug("turbo-checkout-buy-now-button",a,b)}function n(b){return b?m(b):a(e.getInitiateSelector())}
function m(b){var c=a("#"+b),e=k.get(k.KEYS.BUY_NOW_CSS_CLASS_TO_RESOLVE_DUPLICATE_BUTTON_ID);if(!e)return c;var g=a("[id\x3d"+b+"]");if(2>g.length)return c;d.logCount("turboCheckoutBuyNowDuplicateIdPresent");h("Duplicate nodes present for BuyNow button ID: #"+b+". Resolving BuyNow button with CSS: "+e);g=g.filter(e);return 1!==g.length?(d.logCount("turboCheckoutBuyNowUnableToResolveButtonIdWithCss"),f.logError("Unable to resolve a unique BuyNow button with CSS: "+e+". Defaulting to first button with ID: #"+
b,"turbo-checkout-buy-now-button",void 0),c):g}function t(c){h("Buy now button clicked");d.logCount("turboCheckoutBuyNowClicked");"landscape"===q?d.logCount("turboCheckoutLandscapeOrientation"):d.logCount("turboCheckoutPortraitOrientation");g.isConflictingOnClickListenerPresent(a(c.currentTarget))&&(C=!0);c&&c.currentTarget&&c.currentTarget.id||(h("Click event target is INVALID. Expected event target with an id. Turbo will NOT show",c),C=!0);if(C)C=!1,h("Buy now button callbacks supressed");else{e.resolveProductState(c.currentTarget.id);
h("Calling buy now button callbacks...");var f=!1;for(var m=0;m<v.length;m++)f=f||v[m]();f?(h("Suppressing default buy now button action"),c.preventDefault(),c.stopPropagation(),c.stopImmediatePropagation(),f=!0):f=void 0;if(f)return!1}b.getForms(a(c.currentTarget)).attr("data-action",r());h("Calling default BuyNow action. User will be sent to Checkout SPC. Turbo will NOT show.");d.logCount("turboCheckoutBuyNowDefault");g.callCachedOnClickListenerIfPresent(c.currentTarget,c);return!0}function r(){return n().attr("name")||
"submit.buy-now"}function l(a){for(var b=v.length-1;0<=b;--b)v[b]===a&&v.splice(b,1)}function p(a){if(!a&&1<n().length)throw Error("Button id parameter is NOT present. Cannot execute action without a button id on a page with multiple buy now buttons!");}function A(a){a=n(a);u(a);a.click()}function u(b){for(var c=k.get(k.KEYS.CONFLICTING_INITIATE_LISTENERS),e=0;e<c.length;e++){var f=c[e];h("Unbound configured event '"+f+"' from buy now button");d.logCount("turboCheckoutBuyNowButtonConflictingListeners");
b.unbind(f);a(document.body).undelegate(b.selector,f)}}var x=k.get(k.KEYS.BUY_NOW_CLICK_EVENT),v=[],C=!1,q="portrait";c.on("turbo:checkout:clickInitiate",A);c.on("turbo:checkout:orientation:onChange",function(a){q=a.orientation});d.logCount("turboCheckoutBuyNowButtonBound");return{registerOnClickCallback:function(a){l(a);v.push(a)},deregisterOnClickCallback:l,executeOriginalBuyNowAction:function(a){p(a);C=!0;var e=b.getForms(n(a)).attr("action");e&&-1!==e.indexOf("/checkout/entry/buynow")?d.logCount("turboCheckoutYieldToTango"):
d.logCount("turboCheckoutYieldToGurupa");c.trigger("turbo:checkout:buyNowDisabled");c.trigger("turbo:checkout:clickInitiate",a)},executeTurboBuyNowAction:function(a){p(a);C=!1;A(a)},getSubmitAction:r,bindTurboClickEvent:function(a){a=a||n();g.removeConflictingOnClickListenerIfPresentAndCacheIt(a);a.unbind(x).bind(x,t)},removeConflictingListeners:u,getBuyNowButtons:n}});"use strict";l.when("A","jQuery","turbo-checkout-csm","turbo-checkout-utils","turbo-checkout-page-ready").register("turbo-checkout-buy-now-onclick-handler",
function(c,a,d,f){function e(b,c){b.each(function(b,d){a(d).removeProp(c)})}function b(b,c){var d=!1;b.each(function(){var b=a(this),e=b.find("[onclick]"),f=b.prop("onclick"),g=e.prop("onclick");return h(f)&&h(g)||1<e.length||!h(f||g)||k(b)!==c?(d=!0,!1):!0});return d}function g(a){return a.prop("onclick")||a.find("[onclick]").prop("onclick")}function k(a){return a.attr("onclick")||a.find("[onclick]").attr("onclick")}function h(a){return"function"===typeof a}function n(a,b){f.logDebug("turbo-checkout-buy-now-onclick-handler",
a,b)}var m;return{callCachedOnClickListenerIfPresent:function(a,b){h(m)&&(n("BuyNow button onclick listener function called."),d.logCount("turboCheckoutBuyNowButtonOnClickListenerCalled"),m.call(a,b.originalEvent))},removeConflictingOnClickListenerIfPresentAndCacheIt:function(a){var c=g(a),f=k(a);h(c)&&f&&(b(a,f)?(n("[DOM ERROR] Turbo will NOT show. BuyNow button node has INVALID 'onclick' DOM structure.",a),d.logCount("turboCheckoutBuyNowButtonInvalidOnClickDOM")):(n("BuyNow button node has 'onclick' attribute. Removing its listener and caching it.",
a),d.logCount("turboCheckoutBuyNowButtonOnClickListenerRemoveAndCache"),m=c,c=a.find("[onclick]"),e(a,"onclick"),e(c,"onclick")))},isConflictingOnClickListenerPresent:function(a){if(a=h(g(a)))n("Turbo will NOT show. BuyNow button node has conflicting 'onclick' listener."),d.logCount("turboCheckoutBuyNowButtonConflictingOnClickListener");return a}}});"use strict";l.when("A","turbo-checkout-utils","turbo-checkout-buy-now-button","turbo-checkout-page-ready").register("turbo-checkout-buy-now-integration",
function(c,a,d){function f(b,c){a.logDebug(b,"turbo-checkout-buy-now-integration",c)}var e=c.$,b=[];c.on("turbo:checkout:page:reappear",function(){f("Removing additional form inputs from form",b);for(var a;(a=b.shift())!==B;)a.remove()});return{isBuyNow:function(a){return a instanceof e&&a.attr("data-action")===d.getSubmitAction()},checkoutWith:function(c,d){if(Array.isArray(c)&&d instanceof e){var h=d;for(var g=1;0<h.find('input[name\x3d"asin.'+g+'"]').length||0<h.find('input[name\x3d"offeringID.'+
g+'"]').length;)g++;h=g;g=[];for(var m=0;m<c.length;m++){var k=c[m];if(k!==B&&k.asin&&k.offerListingId){var r=h;k=[e("\x3cinput /\x3e",{type:"hidden",name:"asin."+r,value:k.asin}),e("\x3cinput /\x3e",{type:"hidden",name:"offeringID."+r,value:k.offerListingId}),e("\x3cinput /\x3e",{type:"hidden",name:"quantity."+r,value:k.quantity||1})];Array.prototype.push.apply(g,k);h++}else f('Line item inputs are invalid. Expected "asin" and "offerListingId" keys in object. Customer purchase inputs ignored!',k),
a.logError('Line item inputs are invalid. Expected "asin" and "offerListingId" keys in object. Customer purchase inputs ignored!')}m=d.find('input[name\x3d"itemCount"]');1===m.length?m.val(h):d.append(e("\x3cinput /\x3e",{type:"hidden",name:"itemCount",value:h}));f("Appended additional buy now inputs.",g);d.append.apply(d,g);b=g}else h="Inputs are invalid. Expected array and jQuery object. lineItems \x3d "+c+" $form \x3d "+d,f(h,arguments),a.logError(h)}}});"use strict";l.when("turbo-checkout-page-ready").register("turbo-configuration-keys",
function(c){var a={HOST_PAGE_TYPE_IDENTIFIER:"HOST_PAGE_TYPE_IDENTIFIER",IS_BUY_NOW_TO_TANGO_ENABLED:"IS_BUY_NOW_TO_TANGO_ENABLED",IS_BUY_NOW_TO_TANGO_PRIME_SPLIT:"IS_BUY_NOW_TO_TANGO_PRIME_SPLIT",BUY_NOW_TO_TANGO_PARAMETER_EXCLUSION_LIST:"BUY_NOW_TO_TANGO_PARAMETER_EXCLUSION_LIST",BUY_NOW_TO_TANGO_PARAMETER_EXCLUSION_LIST_PRIME:"BUY_NOW_TO_TANGO_PARAMETER_EXCLUSION_LIST_PRIME",BUY_NOW_TO_TANGO_PARAMETER_EXCLUSION_LIST_NON_PRIME:"BUY_NOW_TO_TANGO_PARAMETER_EXCLUSION_LIST_NON_PRIME",BUY_NOW_TO_TANGO_PARAMETER_TO_FEATURE_MAPPING:"BUY_NOW_TO_TANGO_PARAMETER_TO_FEATURE_MAPPING",
BUY_NOW_TO_TANGO_FEATURE_PARAMETER_GROUP_MAPPING:"BUY_NOW_TO_TANGO_FEATURE_PARAMETER_GROUP_MAPPING",FORM_TYPE:"FORM_TYPE",FORM_SELECTOR_OVERRIDE:"FORM_SELECTOR_OVERRIDE",BUY_NOW_BUTTON_SELECTOR:"BUY_NOW_BUTTON_SELECTOR",BUY_NOW_BUTTON_V2_SELECTOR:"BUY_NOW_BUTTON_V2_SELECTOR",BUY_NOW_CLICK_EVENT:"BUY_NOW_CLICK_EVENT",BUY_NOW_CSS_CLASS_TO_RESOLVE_DUPLICATE_BUTTON_ID:"BUY_NOW_CSS_CLASS_TO_RESOLVE_DUPLICATE_BUTTON_ID",QUANTITY_SELECT_SELECTOR:"QUANTITY_SELECT_SELECTOR",ADDRESS_INPUT_SELECTORS:"ADDRESS_INPUT_SELECTORS",
SESSION_ID_SELECTOR:"SESSION_ID_SELECTOR",LEGACY_SESSION_ID_IDENTIFIER:"LEGACY_SESSION_ID_IDENTIFIER",WARRANTY_CHECKBOX_INPUT_SELECTOR:"WARRANTY_CHECKBOX_INPUT_SELECTOR",WARRANTY_CHECKBOX_RELATIVE_PARENT_SELECTOR:"WARRANTY_CHECKBOX_RELATIVE_PARENT_SELECTOR",WARRANTY_ASIN_INPUT_NAME:"WARRANTY_ASIN_INPUT_NAME",WARRANTY_OFFER_INPUT_SELECTOR:"WARRANTY_OFFER_INPUT_SELECTOR",AJAX_PAGE_UPDATE_EVENT:"AJAX_PAGE_UPDATE_EVENT",PREFETCH_TREATMENT:"PREFETCH_TREATMENT",NO_PREFETCH_TREATMENT:"NO_PREFETCH_TREATMENT",
BUY_NOW_ONLY_TREATMENT:"BUY_NOW_ONLY_TREATMENT",IS_DEVICE_FILTER_REQUIRED:"IS_DEVICE_FILTER_REQUIRED",IS_SIGN_IN_SUPPORTED:"IS_SIGN_IN_SUPPORTED",USES_MASH_WILL_REAPPEAR:"USES_MASH_WILL_REAPPEAR",SHOW_SIGN_IN_INTERFACE:"SHOW_SIGN_IN_INTERFACE",IFRAME_ID:"IFRAME_ID",EXTEND_ELIGIBLE_STATE:"EXTEND_ELIGIBLE_STATE",VIEW_ADAPTER:"VIEW_ADAPTER",PAGE_STATE_PARSING_ROOT_NODE_SELECTOR:"PAGE_STATE_PARSING_ROOT_NODE_SELECTOR",PRODUCT_STATE_PARSING_ROOT_NODE_SELECTOR:"PRODUCT_STATE_PARSING_ROOT_NODE_SELECTOR",
JAVA_CHECKOUT_URL_PAGE_STATE_PARSING_ROOT_NODE_SELECTOR:"JAVA_CHECKOUT_URL_PAGE_STATE_PARSING_ROOT_NODE_SELECTOR",TURBO_PAGE_STATE_KEY:"TURBO_PAGE_STATE_KEY",TURBO_PRODUCT_STATE_KEY:"TURBO_PRODUCT_STATE_KEY",JAVA_CHECKOUT_URL_PAGE_STATE_KEY:"JAVA_CHECKOUT_URL_PAGE_STATE_KEY",DEVICE_OVERRIDE:"DEVICE_OVERRIDE",CONFLICTING_INITIATE_LISTENERS:"CONFLICTING_INITIATE_LISTENERS",VAS_CHANGE_EVENTS:"VAS_CHANGE_EVENTS",VAS_CHECKBOX_SELCTOR:"VAS_CHECKBOX_SELCTOR",CHECKBOX_EXCLUSION_ROOT_NODES:"CHECKBOX_EXCLUSION_ROOT_NODES",
MASH_ADAPTER:"MASH_ADAPTER",IS_ADD_TO_CART_ENABLED:"IS_ADD_TO_CART_ENABLED",IS_BUYNOW_ENABLED_FOR_SCREENREADER:"IS_BUYNOW_ENABLED_FOR_SCREENREADER",BACKGROUND_SCROLL_TARGET_SELECTOR:"BACKGROUND_SCROLL_TARGET_SELECTOR",NO_PREFETCH_EXPERIMENT_WEBLABS:"NO_PREFETCH_EXPERIMENT_WEBLABS",ENABLED_ACCESSORIES_SELECTOR:"ENABLED_ACCESSORIES_SELECTOR",OVERRIDE_ELIGIBILITY:"OVERRIDE_ELIGIBILITY",validate:function(c){if("string"!==typeof c||!a[c])throw Error("The key '"+c+"' is not defined within 'turbo-configuration-keys'.");
}};return a});"use strict";l.when("A","turbo-configuration-keys","turbo-device-configuration","turbo-client-configuration","turbo-eligibility-override","turbo-checkout-page-ready").register("turbo-configuration",function(c,a,d,f,e){function b(a,b){var c=g(a);n[a]=c===B?b:c}function g(a){var b=f[a];a=d[a];if(k(b))return b;if(k(a))return a}function k(a){return"boolean"===typeof a||a}function h(a){if(!k(f[a])&&!k(d[a]))throw Error("Required configuration override for key '"+a+"' is missing");n[a]=g(a)}
var n,m={isGift:"GiftOptions","items[0.base][additionalParameters][giftOptions][includeGiftReceipt]":"GiftOptions","gift-wrap":"GiftOptions",offerListingID:"OfferService",snsMostCommonFrequency:"SNS",snsOnmlOfferId:"SNS",snsOptIn:"SNS",rcxOrdFreq:"SNS",snsOfferListingID:"SNS",ref:"SNS",skipCart:"",isBuyBack:"",shippingAddressID:"",tag:"",b2brdOptIn:"",cartCustomerID:"",fromSignIn:"",siteState:"",mbboid:"",mbbq:"",mbba:"","openid.assoc_handle":"","openid.claimed_id":"","openid.identity":"","openid.mode":"",
"openid.ns":"","openid.ns.pape":"","openid.op_endpoint":"","openid.pape.auth_policies":"","openid.pape.auth_time":"","openid.response_nonce":"","openid.return_to":"","openid.sig":"","openid.signed":"","custom-name.1.incentivizedCart":"IncentivizedCart","custom-value.1.incentivizedCart":"IncentivizedCart",pickupAddressId:"BOPIS",pickupStoreChainId:"BOPIS",pickupStoreChainOwnerId:"BOPIS",inHouseInstallments:"UFO","installments-check":"UFO","installments-programId":"UFO",isInstallmentsChecked:"UFO",
paymentOfferInfo:"UFO","items[0.base][additionalParameters][paymentOfferInfo]":"UFO","items[0.base][additionalParameters][installments][programId]":"UFO",serial:"",a:"",checkoutClientId:"","discoveredAsins.1":"",customId:"MerchOnDemand",customizationToken:"ConfigurableProduct",fulfillmentType:"",claim_type:"",new_account:"",returnFromLogin:"",captcha_verified:"",pickupAsin:"","session-id":"",clientName:"",merchantID:"",useDefaultCart:"",distributableLicense:"","asin.1":"","offeringID.1":"","quantity.1":"",
purchaseAsin:"",type:"",AssociateTag:"",dplnkId:"","submit.buy-now":"","custom-name.2.1":"","address-ui-widgets-enableEmailAddress":"",oid:"",sr:"",ASIN:"","custom-name.1.2":"","address-ui-widgets-enableAddressWizardInlineSuggestions":"","address-ui-widgets-enableAddressWizardForm":"","address-ui-widgets-enterAddressPostalCode":"","address-ui-widgets-locale":"",rebateId:"","custom-value.1.5":"","address-ui-widgets-avsSuppressSoftblock":"",offerListingId:"","custom-value.1.6":"",qid:"",cimarronIssuerId:"",
"custom-name.2.2":"",popoverContentStringId:"","custom-name.1.11":"","address-ui-widgets-csrfToken":"",registryItemID:"","address-ui-widgets-delivery-instructions-desktop-expander-context":"",paymentCadenceValue:"",numberOfPayments:"","address-ui-widgets-obfuscated-customerId":"","address-ui-widgets-enterAddressLine2":"","custom-name.1.13":"",addressID:"","custom-name.1.3":"","address-ui-widgets-amazonBusinessGroupId":"","custom-name.2.3":"",timestamp:"","ppw-widgetState":"",taxDistributionStrategy:"",
"address-ui-widgets-enableLatestAddressWizardForm":"","custom-value.2.3":"","custom-value.2.1":"","custom-value.2.2":"","custom-value.1.13":"","address-ui-widgets-enterAddressFullName":"","inHouseInstallments-programType":"","address-ui-widgets-enableAddressDetails":"",_from:"","address-ui-widgets-enterAddressPhoneNumber":"","custom-value.1.0":"","address-ui-widgets-locationData":"",turboPageRequestId:"","custom-name.2.4":"","address-ui-widgets-delivery-instructions-data":"","address-ui-widgets-enterAddressCity":"",
quantity:"",paymentCadenceUnit:"","address-ui-widgets-returnLegacyAddressID":"",addressId:"","custom-value.1.7":"",purchaseInputs:"","custom-value.1.1":"","custom-name.1.1":"","preorder-button":"","address-ui-widgets-heading-string-id":"",ref_:"","address-ui-widgets-enterAddressStateOrRegion":"",triggerTurboWeblab:"","custom-value.1.2":"","custom-name.1.4":"",sessionID:"","address-ui-widgets-enableDeliveryInstructions":"","address-ui-widgets-avsSuppressSuggestion":"","custom-name.1.6":"",ttclid:"",
"address-ui-widgets-countryCode":"","custom-name.1.5":"",turboPageSessionId:"","address-ui-widgets-ab-delivery-instructions-data":"","address-ui-widgets-form-load-start-time":"","custom-value.1.3":"",termsAndConditionUrl:"","custom-value.1.11":"",offeringID:"","custom-name.1.0":"","address-ui-widgets-addressFormHideHeading":"","address-ui-widgets-address-wizard-interaction-id":"","custom-name.1.7":"","address-ui-widgets-use-as-my-default":"","custom-name.1.12":"","custom-value.1.12":"","address-ui-widgets-addressFormButtonText":"",
offerConfigurationType:"","address-ui-widgets-clientName":"",registryID:"","address-ui-widgets-enableAddressTips":"",buyNow:"","address-ui-widgets-previous-address-form-state-token":"",asin:"",fbclid:"","custom-value.1.4":"",triggerTurboWeblabName:"","custom-value.2.4":"","address-ui-widgets-addressFormHideSubmitButton":"","address-ui-widgets-enterAddressLine1":"","items[0.upsell][asin]":"AccessoryUpsell"},l={},r;for(r in m)if(m.hasOwnProperty(r)&&""!==m[r]){var w=m[r];l[w]||(l[w]=[]);l[w].push(r)}return{get:function(c){a.validate(c);
n||(n={},h(a.HOST_PAGE_TYPE_IDENTIFIER),h(a.SHOW_SIGN_IN_INTERFACE),h(a.EXTEND_ELIGIBLE_STATE),h(a.VIEW_ADAPTER),b(a.IS_BUY_NOW_TO_TANGO_ENABLED,!1),b(a.IS_BUY_NOW_TO_TANGO_PRIME_SPLIT,!1),b(a.BUY_NOW_TO_TANGO_PARAMETER_EXCLUSION_LIST,{}),b(a.BUY_NOW_TO_TANGO_PARAMETER_EXCLUSION_LIST_PRIME,{}),b(a.BUY_NOW_TO_TANGO_PARAMETER_EXCLUSION_LIST_NON_PRIME,{}),b(a.FORM_TYPE,"form"),b(a.FORM_SELECTOR_OVERRIDE,""),b(a.BUY_NOW_BUTTON_SELECTOR,"#buy-now-button"),b(a.BUY_NOW_BUTTON_V2_SELECTOR,".checkout-buy-now"),
b(a.BUY_NOW_CLICK_EVENT,"click.turboCheckout"),b(a.BUY_NOW_CSS_CLASS_TO_RESOLVE_DUPLICATE_BUTTON_ID,""),b(a.QUANTITY_SELECT_SELECTOR,'select[name\x3d"quantity"]'),b(a.SESSION_ID_SELECTOR,""),b(a.LEGACY_SESSION_ID_IDENTIFIER,""),b(a.ADDRESS_INPUT_SELECTORS,["#unifiedLocation1ClickAddress","#unifiedLocationAddress"]),b(a.WARRANTY_CHECKBOX_INPUT_SELECTOR,".mbb-checkbox input[name\x3dmbba]"),b(a.WARRANTY_CHECKBOX_RELATIVE_PARENT_SELECTOR,".mbb-checkbox-column"),b(a.WARRANTY_ASIN_INPUT_NAME,"mbba"),b(a.WARRANTY_OFFER_INPUT_SELECTOR,
"#mbb-offering-id"),b(a.AJAX_PAGE_UPDATE_EVENT,"a:pageUpdate"),b(a.PREFETCH_TREATMENT,"PREFETCH_DISABLED"),b(a.NO_PREFETCH_TREATMENT,"T1"),b(a.BUY_NOW_ONLY_TREATMENT,"BUY_NOW_LAUNCHED"),b(a.IS_DEVICE_FILTER_REQUIRED,!1),b(a.IS_SIGN_IN_SUPPORTED,!0),b(a.USES_MASH_WILL_REAPPEAR,!1),b(a.IFRAME_ID,"turbo-checkout-iframe"),b(a.PAGE_STATE_PARSING_ROOT_NODE_SELECTOR,"#turboState"),b(a.PRODUCT_STATE_PARSING_ROOT_NODE_SELECTOR,"#turboState"),b(a.JAVA_CHECKOUT_URL_PAGE_STATE_PARSING_ROOT_NODE_SELECTOR,"#turboState"),
b(a.TURBO_PAGE_STATE_KEY,"turbo-checkout-page-state"),b(a.TURBO_PRODUCT_STATE_KEY,"turbo-checkout-page-state"),b(a.JAVA_CHECKOUT_URL_PAGE_STATE_KEY,"java-checkout-url-page-state"),b(a.DEVICE_OVERRIDE,""),b(a.CONFLICTING_INITIATE_LISTENERS,[]),b(a.CHECKBOX_EXCLUSION_ROOT_NODES,"#simpleBundle_feature_div #monthlyPayments_feature_div #bbg_feature_div #addons_feature_div #mobile-accessory-upsell #twister-plus-feature #payment-options-feature #detailPageGifting_feature_div #giftingODF_feature_div #giftWrapInfoFeature_feature_div #dynamicGiftWrapInfoFeature_feature_div".split(" ")),
b(a.ENABLED_ACCESSORIES_SELECTOR,".simpleBundleCheckBoxArea"),b(a.MASH_ADAPTER,""),b(a.IS_ADD_TO_CART_ENABLED,!0),b(a.IS_BUYNOW_ENABLED_FOR_SCREENREADER,!0),b(a.BACKGROUND_SCROLL_TARGET_SELECTOR,"#productTitleGroupAnchor"),b(a.VAS_CHANGE_EVENTS,["turbo:checkout:sheet:doClose"]),b(a.VAS_CHECKBOX_SELCTOR,"#vas-checkbox-input"),b(a.VAS_CHANGE_EVENTS,["turbo:checkout:sheet:doClose"]),b(a.VAS_CHECKBOX_SELCTOR,"#vas-checkbox-input"),b(a.NO_PREFETCH_EXPERIMENT_WEBLABS,["RCX_CHECKOUT_TURBO_PRIME_UPSELL_222066"]),
b(a.BUY_NOW_TO_TANGO_PARAMETER_TO_FEATURE_MAPPING,m),b(a.BUY_NOW_TO_TANGO_FEATURE_PARAMETER_GROUP_MAPPING,l),b(a.OVERRIDE_ELIGIBILITY,e));var d=n;return d[c]},KEYS:c.copy(a)}});"use strict";l.when("A","turbo-checkout-utils","turbo-checkout-weblab-allocation","turbo-checkout-eligibility-aggregator","turbo-checkout-state-handler","turbo-checkbox-exclusion-listener","turbo-checkout-content-loader","turbo-checkout-device-filter","turbo-callback-list","turbo-checkout-auto-open","turbo-checkout-vas-input",
"turbo-checkout-accessories-input","turbo-checkout-page-ready").register("turbo-base-eligible-state",function(c,a,d,f,e,b,g,k,h,n,m,l){function r(){C=!0}function t(){C=!1}function p(){var a=new q;k.isDeviceTurboEligible()||a.invalidate("Device is NOT eligible");g.isError()&&!d.isNoPrefetch()&&a.invalidate("Prefetch failed");e.isProductTurboEligible()||a.invalidate("Product is NOT eligible");n.isAutoOpenEnabled()||C||a.invalidate("Cheetah eligibility response is false");d.isControl()&&a.invalidate("Weblab is in CONTROL");
d.isBuyNowOnly()&&a.invalidate("Weblab is in buy now only treatment");m.isSelected()&&a.invalidate("Value added service is selected and NOT supported");l.isEligible()||a.invalidate("Accessory selection was not eligible");b.isAnyCheckboxChecked()&&a.invalidate("Exclusion case checkbox is checked");0!==B("#account-linking").length&&a.invalidate("Account linking checkbox present");x.callAll(a);a.logInvalidState();return a.canShow()}function q(){var b=!0,c=[];this.invalidate=function(a){b=!1;c.push(a)};
this.logInvalidState=function(){b||a.logDebug("turbo-base-eligible-state","Cannot show turbo because: "+c)};this.canShow=function(){return b}}function u(a){v.callAll(p(),a)}var x=h.create(),v=h.create(),C=!1,B=c.$;return{addStateCheck:function(a){x.push(a)},canShow:p,registerStateChangeCallback:function(a){v.push(a)},onStateChange:u,isTangoAsinEligibleAndTurboIneligible:function(){return e.isProductTangoEligible()&&(!C||!f.isTurboEligible())},setup:function(){g.registerCallback({onTurboEligible:r,
onFinish:r,onTurboIneligible:t});e.registerCallback(u);b.onStateChange(u);m.onChange(u);l.registerCallback(u)}}});"use strict";l.when("A","turbo-callback-list","turbo-checkout-page-ready").register("turbo-checkout-base-view",function(c,a){function d(c){if("string"!==typeof c)throw Error("Parameter 'iFrameContainerSelector' is not a string.");this.onBoundsAdjustedCallbacks=a.create();this.IFRAME_CONTAINER_SELECTOR=c}var f=c.$;d.prototype.updateBounds=function(a,b){if("number"!==typeof a)throw Error("Parameter 'iFrameContainerHeightInPixels' is not a number. Cannot validate bounds.");
var c=this.$getIFrameContainer().height(),d=a-c,e=c+d;0!==d&&(this.$getIFrameContainer().height(e),this.updateScrollHeight(a,b),a=parseInt(this.$getIFrameContainer().css("min-height"),10),e=e>a?e:a,c!==e&&this.onBoundsAdjustedCallbacks.callAll(e))};d.prototype.updateScrollHeight=function(a,b){b&&a!==b?(this.$getIFrame().height(b),this.$getIFrameContainer().css("overflow-y","scroll"),this.$getIFrameContainer().css("-webkit-overflow-scrolling","touch")):(this.$getIFrame().height("100%"),this.$getIFrameContainer().css("overflow-y",
""),this.$getIFrameContainer().css("-webkit-overflow-scrolling",""))};d.prototype.getHeight=function(){return this.$getIFrameContainer().height()};d.prototype.$getIFrameContainer=function(){return f(this.IFRAME_CONTAINER_SELECTOR)};d.prototype.$getIFrame=function(){return f(this.IFRAME_CONTAINER_SELECTOR+" iframe")};d.prototype.pushBoundsAdjustedCallback=function(a){this.onBoundsAdjustedCallbacks.push(a)};return{extend:function(){function a(){d.apply(this,arguments)}a.prototype=Object.create(d.prototype);
return a.prototype.constructor=a}}});"use strict";l.when("turbo-configuration","turbo-checkout-page-ready").execute("turbo-eligible-state-check",function(c){c.get(c.KEYS.EXTEND_ELIGIBLE_STATE)||l.when("turbo-base-eligible-state").register("turbo-checkout-eligible-state",function(a){return{canShow:a.canShow,registerStateChangeCallback:a.registerStateChangeCallback,setup:a.setup}})});"use strict";l.when("A","turbo-checkout-state-handler","turbo-configuration","turbo-initiate-migration-switch","turbo-checkout-utils",
"turbo-checkout-page-ready").register("turbo-checkout-weblab-allocation",function(c,a,d,f){function e(){return a.getWeblabAllocation()}function b(){return a.getExperimentName()}function g(){var b=a.getAdditionalWeblabAndTreatmentMap(),c={},d;for(d in b)b.hasOwnProperty(d)&&-1===n.indexOf(d)&&(c[d]=b[d]);return c}function k(){return"C"===e()}function h(){var a=d.get(d.KEYS.NO_PREFETCH_EXPERIMENT_WEBLABS);return Array.isArray(a)&&-1!==a.indexOf(b())&&!k()}var n="PAX_CHECKOUT_BUY_NOW_TO_TANGO_MOBILE_EXPERIMENT_969578 PAX_CHECKOUT_BUY_NOW_TO_TANGO_DESKTOP_EXPERIMENT_969581 PAX_CHECKOUT_BUY_NOW_TO_TANGO_DESKTOP_EXPERIMENT_NON_PRIME_1088576 UPMT_CHECKOUT_BUY_NOW_GIFT_TANGO_MOBILE_1044567 UPMT_CHECKOUT_BUY_NOW_GIFT_TANGO_DESKTOP_1044576 PAX_CHECKOUT_BUY_NOW_UFO_TANGO_MOBILE_1116443 PAX_CHECKOUT_BUY_NOW_UFO_TANGO_DESKTOP_1118473 PAX_CHECKOUT_BUY_NOW_AMP_TANGO_MOBILE_1118485 PAX_CHECKOUT_BUY_NOW_AMP_TANGO_DESKTOP_1118500 PAX_CHECKOUT_BUY_NOW_GC_TANGO_1121297 PAX_CHECKOUT_BUY_NOW_TO_TANGO_REMOVE_LEGACY_PIPELINE_PARAMETER_1125072 PAX_CHECKOUT_VAS_ENABLE_BUY_NOW_TANGO_1165794 PAX_CHECKOUT_ALC_BUY_NOW_TANGO_1185935 PAX_CHECKOUT_REGISTRY_PARAMS_TANGO_BUYNOW_1190070 CETECH_CHECKOUT_WARRANTIES_ENABLE_BUY_NOW_TANGO_1184394".split(" ");
return{getAllocation:e,getExperimentName:b,getAdditionalWeblabAndTreatmentMap:g,getBuyNowToTangoWeblabs:function(){for(var b=n,c=a.getAdditionalWeblabAndTreatmentMap(),d={},e=0;e<b.length;e++)c.hasOwnProperty(b[e])&&(d[b[e]]=c[b[e]]);return d},getHoldbackSecondaryPanelsWeblab:function(){return a.getHoldbackSecondaryPanelsWeblab()},isControl:k,isBuyNowOnly:function(){return e()===d.get(d.KEYS.BUY_NOW_ONLY_TREATMENT)&&!f.isEnabled()},isDisableTurboWeblabInTreatment:function(){for(var a=g(),b=["RCX_CHECKOUT_DISABLE_TURBO_FOR_NPA_EXPERIMENT_543201",
"RCX_CHECKOUT_DISABLE_TURBO_FOR_PRIME_MOBILE_EXPERIMENT_601969","RCX_CHECKOUT_DISABLE_TURBO_FOR_PRIME_DESKTOP_EXPERIMENT_601976","RCX_CHECKOUT_DISABLE_TURBO_FOR_NPA_MOBILE_EXPERIMENT_1173806","RCX_CHECKOUT_DISABLE_TURBO_FOR_NPA_DESKTOP_EXPERIMENT_1173801"],c=0;c<b.length;c++){var d=b[c];if(d in a&&"T1"===a[d])return!0}return!1},isPrefetch:function(){return f.isEnabled()?!1:!h()&&e()===d.get(d.KEYS.PREFETCH_TREATMENT)},isNoPrefetch:function(){if(f.isEnabled())return!0;var a=d.get(d.KEYS.NO_PREFETCH_TREATMENT);
return h()||!!e().match(a)},isBuyNowToTangoCustomerEligibilityCheckRemovalWeblabInTreatment:function(){var b=a.getAdditionalWeblabAndTreatmentMap();return b.hasOwnProperty("PAX_CHECKOUT_BUY_NOW_TO_TANGO_CUSTOMER_ELIGIBILITY_CHECK_REMOVAL_1134797")&&"T1"===b.PAX_CHECKOUT_BUY_NOW_TO_TANGO_CUSTOMER_ELIGIBILITY_CHECK_REMOVAL_1134797}}});"use strict";l.when("A","jQuery","turbo-checkout-ajax-wrapper","turbo-checkout-utils","turbo-checkout-urls","turbo-checkout-csm","turbo-checkout-weblab-allocation","turbo-checkout-buy-now-button",
"turbo-checkout-form","turbo-configuration","turbo-checkout-state-handler","turbo-checkout-eligibility-response-weblabs","turbo-checkout-eligible-state","turbo-initiate-migration-switch","turbo-checkout-page-ready").register("turbo-checkout-weblab-trigger",function(c,a,d,f,e,b,g,k,h,n,m,l,r,w){function p(){c.on("turbo:checkout:prefetch:onTurboEligible",function(){H=!0;v()})}function t(){c.on("turbo:checkout:prefetch:onTurboIneligible",function(){H=!1;v()})}function u(){c.on("a:pageUpdate",function(){v()})}
function x(){c.on("turbo:checkout:auto:open",function(){G()})}function v(){0===C().length?b.logCount("turboCheckoutBuyNowButtonMissing"):0===h.getForms(C()).length&&b.logCount("turboCheckoutBuyNowFormMissing");0<h.getForms(C()).length&&(H?(f.logDebug("turbo-checkout-weblab-trigger","Adding trigger to form: "+g.getAllocation()),z.val(g.getAllocation()),y.val(g.getExperimentName()),F.val(m.getRequestId()),L.val(m.getSessionId()),h.getForms(C()).append(z,y,F,L)):(f.logDebug("turbo-checkout-weblab-trigger",
"Removing trigger from form: "+g.getAllocation()),z.remove(),y.remove(),F.remove(),L.remove()))}function C(){var b=n.get(n.KEYS.BUY_NOW_BUTTON_SELECTOR),c=n.get(n.KEYS.BUY_NOW_BUTTON_V2_SELECTOR);return 0===a(b).length?a(c):a(b)}function B(){if(l.get()&&0<l.get().length||!D()){f.logDebug("turbo-checkout-weblab-trigger","Calling cheetah to trigger: "+g.getAllocation());0<h.getForms(C()).find(z).length||b.logCount("turboCheckoutTriggerMissing");var a=D()?e.buildTriggerWeblabPathWithoutWeblab(m.getRefTag,
m.getRequestId(),m.getSessionId()):e.buildTriggerWeblabPathWith(m.getRefTag(),g.getExperimentName(),g.getAllocation(),m.getRequestId(),m.getSessionId());if(D()||!r.canShow())if(m.getPrimeStatus()&&g.isControl()||g.isBuyNowOnly())if(!H||w.isEnabled())var c=[];else{var d=w.getWeblabInControlOnlyToTrigger(),k=[];for(c in d)d.hasOwnProperty(c)&&k.push({weblabName:c,weblabAllocation:d[c]});c=k}else c=[];else{c=g.getAdditionalWeblabAndTreatmentMap();k=[];for(d in c)c.hasOwnProperty(d)&&k.push({weblabName:d,
weblabAllocation:c[d]});c=k}G(a,c)}}function G(c,d){d=[].concat(d).concat(l.get());d={additionalWeblabsToTrigger:JSON.stringify(d)};var e="function"===typeof q.Blob;"function"===typeof q.navigator.sendBeacon&&e?(d=new Blob([a.param(d)],{type:"application/x-www-form-urlencoded"}),q.navigator.sendBeacon(c,d)||b.logCount("turboCheckoutTriggerRecordingFailed")):E(c,d)}function E(a,c){d.load(a,{method:"POST",params:c,error:function(a,c,d){a&&204===a.http.status||b.logCount("turboCheckoutTriggerRecordingFailed")},
abort:function(a){b.logCount("turboCheckoutTriggerRecordingFailed")}})}function D(){return!H||m.isTurboLaunched()&&!w.isEnabled()}var z,y,F,L,H=!1;return{setup:function(){z=a("\x3cinput/\x3e",{type:"hidden",name:"triggerTurboWeblab",value:""});y=a("\x3cinput/\x3e",{type:"hidden",name:"triggerTurboWeblabName",value:""});F=a("\x3cinput/\x3e",{type:"hidden",name:"turboPageRequestId",value:""});L=a("\x3cinput/\x3e",{type:"hidden",name:"turboPageSessionId",value:""});u();p();t();k.registerOnClickCallback(B);
x()},sendTurboWeblabRequest:G}});"use strict";l.when("A","turbo-checkout-form","turbo-checkout-utils","turbo-checkout-state-handler","turbo-checkout-page-ready").register("turbo-checkout-page-filter",function(c,a,d,f){function e(a,c){d.logDebug("turbo-checkout-page-filter",a,c)}return{isCurrentViewTurboEligible:function(){var b=c.$(f.getInitiateSelector()),d=a.getForms(b),k=0<b.length&&b.length===d.length;k||(e("Page is NOT turbo eligible. Parent forms / nested links do not match the number of initiate selectors",
b),e("Forms",d));return k}}});"use strict";l.when("turbo-configuration","turbo-checkout-page-ready").execute("turbo-device-filter-check",function(c){c.get(c.KEYS.IS_DEVICE_FILTER_REQUIRED)||l.when("turbo-checkout-cacher","turbo-checkout-page-ready").register("turbo-checkout-device-filter",function(a){var c=function(){return!0};return{isDeviceTurboEligible:a.createCache(c),isSignInSupported:a.createCache(c),isMashBeta:a.createCache(function(){return!1}),isBuyNowToTangoSupported:a.createCache(c)}})});
"use strict";l.when("A","turbo-checkout-state-handler","turbo-checkout-device-filter","turbo-checkout-page-filter","turbo-checkout-weblab-allocation","buy-now-to-tango-switch","turbo-chewbacca-migration-switch","turbo-checkout-page-ready").register("turbo-checkout-eligibility-aggregator",function(c,a,d,f,e,b,g){function k(){return f.isCurrentViewTurboEligible()&&a.isProductTurboEligible()&&(!e.isBuyNowOnly()||g.isGatingWeblabEnabled())}function h(){return e.isBuyNowToTangoCustomerEligibilityCheckRemovalWeblabInTreatment()?
!1:b.isEnabled()&&a.isProductTangoEligible()}return{isTurboEligible:k,isTurboOrTangoPrefetchEligible:function(){return k()||h()},isSignInSupported:function(){return d.isSignInSupported()&&(!e.isBuyNowOnly()||g.isGatingWeblabEnabled())},shouldAttemptTangoPrefetch:h,shouldAttemptTurboPrefetch:function(){return d.isDeviceTurboEligible()&&(!e.isBuyNowOnly()||g.isGatingWeblabEnabled())}}});"use strict";l.when("A","turbo-view-adapter","turbo-checkout-ref-tagger","turbo-filtered-callback-list","turbo-checkout-state-handler",
"turbo-checkout-ajax-wrapper","turbo-checkout-utils","turbo-checkout-urls","turbo-checkout-csm","turbo-checkout-eligibility-aggregator","turbo-checkout-eligibility-response-weblabs","turbo-checkout-accessories-input","turbo-chewbacca-migration-switch","turbo-chewbacca-migration-shadow","turbo-initiate-migration-switch","buy-now-to-tango-switch","turbo-checkout-navigation-window","turbo-chewbacca-migration-optimistic-flushing","turbo-checkout-weblab-allocation","turbo-chewbacca-migration-get-request",
"turbo-checkout-page-ready").register("turbo-checkout-content-loader",function(c,a,d,f,e,b,g,k,h,n,m,l,r,w,p,q,u,x,v,C){function t(f){h.logCount("turboCheckoutInitiate");K();N=!1;O=f;P=Date.now();z("Notifying loading callbacks");I="started";U.callAll();c.trigger("turbo:checkout:prefetch:onStart");f&&(q.isEnabled()&&e.isProductTangoEligible()&&h.logCount("tangoCheckCustomerEligibilityPrefetchStarted"),n.shouldAttemptTurboPrefetch&&n.isTurboEligible()&&h.logCount("turboCheckCustomerEligibilityPrefetchStarted"));
h.logCount("turboCheckoutPrefetchStart");var g=f?[]:e.getLineItems(),m=f?d.generateEligibilityValue():e.getRefTag();g=(f?k.buildEligibilityPathWith:k.buildInitiatePathWith)(m,e.getExperimentName(),e.getClientId(),e.getRequestId(),e.getSessionId(),g,e.getPrimeStatus());p.isEnabled()&&a.updateBottomSheetAttributes();M=b.loadWithJQXHR(g,{type:p.isEnabled()&&!O&&C.isEnabled()?"GET":"POST",data:A(f),headers:E(),xhr:D,success:L,error:H})}function A(a){var b={isAsync:1};e.getAddressId()&&(b.addressID=e.getAddressId());
e.isPhysicalGiftCardExperimentEligible()&&(b.isPhysicalGiftCard=!0);if(a&&l.isEligible()&&l.getLineItem()){var c=l.getLineItem();b["offerListing.1"]=c.offerListingId;b["requiresEligibilityCheck.1"]="true"}a||e.getLineItems().forEach(function(a,c){c+=1;b["offerListing."+c]=a.offerListingId;b["quantity."+c]=a.quantity;a.incentivizedCart&&(b["incentivizedCart."+c]=a.incentivizedCart,b.incentivizedCart=a.incentivizedCart);a.customItemPrice&&(b["customItemPrice."+c]=a.customItemPrice,b.customItemPrice=
a.customItemPrice);var d=a.addToCartTimeAsUnixEpochMilliseconds;d&&(b["addToCartTimeAsUnixEpochMilliseconds."+c]=d);(d=a.addToCartSessionId)&&(b["addToCartSessionId."+c]=d);a.concealmentEligibilityType&&(b["concealmentEligibilityType."+c]=a.concealmentEligibilityType)});return b}function E(){var a={"x-amz-support-custom-signin":1};a["x-amz-turbo-checkout-dp-url"]=u.getWindow().location.href;a["x-amz-checkout-entry-referer-url"]=u.getWindow().location.href;var b=e.getCSRFToken();b&&0<b.length&&(a["x-amz-checkout-csrf-token"]=
b);return a}function D(){var d=b.createXHRRequest();d.receivedDataLength=0;d.addEventListener("readystatechange",function(){if(S()&&N&&(3===d.readyState||4===d.readyState)){var b=d.responseText.substring(d.receivedDataLength);0===d.receivedDataLength?a.initiateIFrameContent(b):a.appendToIFrameContent(b);d.receivedDataLength=d.responseText.length}else if(N||!d.readyState||2>d.readyState)z("Ignoring ready state changed event because headers already received or missing xhr");else if(N=!0,h.logCount("turboCheckoutPrefetchHeadersReceived"),
h.logCount("turboCheckoutPrefetchHeadersReceivedDuration",Date.now()-P),d&&d.getResponseHeader("x-amz-turbo-checkout-eligible")){z("Headers received: Turbo eligible");h.logCount("turboCheckoutTurboEligibleAfterCheetahChecks");b=d&&d.getResponseHeader("x-amzn-checkout-login-required");var e=n.isSignInSupported();b&&(z("Headers received: Signin required"),h.logCount("turboCheckoutSigninRequired"),e||(z("Sign-in required but it is disabled or not supported."),h.logCount("turboCheckoutSigninNotSupported")));
if(e||!b)z("Notifying turbo eligible callbacks"),V.callAll(),c.trigger("turbo:checkout:prefetch:onTurboEligible");F(d)&&W.callAll(d.getResponseHeader("x-amzn-checkout-login-provider"));v.isDisableTurboWeblabInTreatment()?(z("Turbo Headers received, But Holdback experiment is in T1,Checking Tango Eligibility"),y(d)):(z("Turbo Headers received, No Holdback experiment and calling TangoIneligible callbacks"),Q.callAll())}else z("Only Tango Headers received, No turbo headers received"),X.callAll(),c.trigger("turbo:checkout:prefetch:onTurboIneligible"),
y(d)});return d}function z(a,b){g.logDebug("turbo-checkout-content-loader",a,b)}function y(a){a=v.isBuyNowToTangoCustomerEligibilityCheckRemovalWeblabInTreatment()?e.isProductTangoEligible():a&&a.getResponseHeader("x-amz-tango-checkout-eligible");a?(z("Tango Eligible callback method invoked "),h.logCount("tangoCheckoutEligibleAfterCheetahChecks"),Y.callAll()):(z("Tango InEligible callback method invoked "),Q.callAll())}function F(a){return n.isSignInSupported()&&a&&a.getResponseHeader("x-amzn-checkout-login-required")}
function L(a,b,d){h.logCount("turboCheckoutPrefetchEnd",Date.now()-P);M=null;b=d&&d.getResponseHeader("x-amz-turbo-checkout-eligible");var e=a&&a.match(ba);if(e&&0<e.length)try{var f=T(e[0]);var k=T.parseJSON(f.text())}catch(R){g.logError("Could not extract page state from cheetah page: "+R)}else z("Could not extract page state from response data");f=k&&"turbo"===k.pipelineType;e=k&&k.currentPurchaseId&&0<String(k.currentPurchaseId).trim().length;var v=d.getResponseHeader("x-amzn-experiment-weblabs-to-trigger");
if(v!==B){var l=[];try{l=JSON.parse(v)}catch(R){console.error("Error parsing additional weblabs from xhr response header: ",R)}m.set(l)}f&&!e&&g.logError("No purchaseid provided, cannot show turbo");b&&f&&e?("started"!==I&&g.logError("turbo-checkout-content-loader","Error processing turbo available callbacks. Expected state to be started but was "+I),z("Notifying turbo available callbacks"),I="success",Z.callAll(a,k),c.trigger("turbo:checkout:prefetch:onSuccess"),h.logCount("turboCheckoutTurboPrefetchSuccess")):
b&&F(d)?z("Body received: Eligible and sign-in is supported and required."):d.getResponseHeader("x-amz-checkout-redirect")?u.replace(d.getResponseHeader("x-amz-checkout-redirect")):(z("Body received: No turbo page or not eligible: isTurboEligible: "+b+" isTurboPage: "+f+" hasPurchaseId: "+e),J(),h.logCount("turboCheckoutTurboPrefetchFail"))}function H(a,b,c){h.logCount("turboCheckoutPrefetchEnd");M=null;z("Error while initiate",c);h.logCount("turboCheckoutTurboPrefetchError");"timeout"===b&&h.logCount("turboCheckoutInitiateTimeOut");
J()}function J(){"started"!==I&&g.logError("turbo-checkout-content-loader","Error processing turbo not available callbacks. Expected state to be started but was "+I);z("Notifying error callbacks");I="error";aa.callAll();c.trigger("turbo:checkout:prefetch:onError")}function K(){M&&M.abort&&(z("Aborting running request..."),M.abort())}function S(){return p.isEnabled()&&!O&&x.isEnabled()}var ba=/<script.*data-a-state.*checkout:conductor:page.*>.*<\/script>/,T=c.$,M,I="stopped",P,N=!1,O=!1,U=f.create("onStart"),
Z=f.create("onFinish"),aa=f.create("onError"),V=f.create("onTurboEligible"),X=f.create("onTurboIneligible"),Y=f.create("onTangoEligible"),Q=f.create("onTangoIneligible"),W=f.create("onSigninRequired");c.on("turbo:checkout:signInController:onDoSignIn",J);return{registerCallback:function(a){U.push(a);Z.push(a);aa.push(a);V.push(a);W.push(a);X.push(a);Y.push(a);Q.push(a)},callInitiate:function(){z("Calling turbo initiate");t(!1)},checkEligibility:function(){z("Calling turbo eligibility check only");
t(!0)},abortCall:K,isSuccess:function(){return"success"===I},isError:function(){return"error"===I},isStarted:function(){return"started"===I},shadowCallChewbaccaInitiate:function(){r.isShadowModeEnabled()&&w.shadowCallChewbaccaInitiate()},isTurboOptimisticFlushingEnabled:S}});"use strict";l.when("A","jQuery","turbo-checkout-ref-tagger","turbo-checkout-utils","turbo-checkout-page-ready").register("turbo-checkout-history-manager",function(c,a,d,f){function e(){if(q.history.state&&q.history.state.turboAction)return q.history.state.turboAction}
function b(){e();e()||(f.logDebug("turbo-checkout-history-manager","Adding turbo history state"),q.history.pushState({turboAction:"popover"},document.title+" Turbo open"))}var g=!1;a(q).bind("popstate.turbo",function(a){e();g?(f.logDebug("turbo-checkout-history-manager","Trigger Subpanel Back Clicked"),c.trigger("turbo:checkout:dimmer:clicked"),g=!1,b()):e()?(f.logDebug("turbo-checkout-history-manager","Trigger sheet open"),c.trigger("turbo:checkout:sheet:doOpen")):(f.logDebug("turbo-checkout-history-manager",
"Trigger sheet close"),c.trigger("turbo:checkout:sheet:doClose",{immediate:!1,reason:d.TAGS.BACK}))});return{sheetOpened:b,sheetClosed:function(){e();e()&&(f.logDebug("turbo-checkout-history-manager","Removing turbo history state"),q.history.back())},subPanelOpened:function(){g=!0},subPanelClosed:function(){g=!1}}});"use strict";l.when("A","turbo-checkout-page-ready").register("turbo-base-visibility-manager",function(c){function a(){c.trigger("turbo:checkout:page:gone")}return{setup:function(){c.on("turbo:checkout:sheet:onNavigateAway",
a)}}});l.when("turbo-configuration","turbo-checkout-page-ready").execute("turbo-mash-will-reappear-check",function(c){c.get(c.KEYS.USES_MASH_WILL_REAPPEAR)||l.when("turbo-base-visibility-manager").register("turbo-checkout-page-visibility-manager",function(a){return a})});"use strict";l.when("A","jQuery","turbo-checkout-view-state","turbo-checkout-weblab-allocation","turbo-checkout-state-handler","turbo-checkout-content-loader","turbo-checkout-prefetch-timer","turbo-checkout-page-visibility-manager",
"turbo-checkout-counter","turbo-checkout-utils","turbo-checkout-eligibility-aggregator","turbo-checkout-auto-open","turbo-checkout-page-ready").register("turbo-checkout-prefetcher",function(c,a,d,f,e,b,g,k,h,l,m,t){function n(a){var b=p;p=a;l.logDebug("turbo-checkout-prefetcher","Transitioning from "+b.name+" to "+a.name);if(b.onExit)b.onExit(a.name);if(a.onEnter)a.onEnter(b.name);c.trigger("turbo:checkout:prefetcher:state:"+a.name);c.trigger("turbo:checkout:prefetcher:state",a.name)}var w,p,q=function(){var a=
b.isError(),c=!m.isTurboOrTangoPrefetchEligible(),d=g.isTimeout(),e=0===w;l.logDebug("turbo-checkout-prefetcher","Test is data stale: isStaleWhenCheetahReturnsError: "+a+" isStaleWhenProductNotEligiblie: "+c+" isStaleWhenTimeoutOccurs: "+d+" isStaleWhenNoMorePrefetchesAvailable: "+e);return a||c||d||e},u=function(){var a=m.isTurboOrTangoPrefetchEligible()&&!g.isTimeout()&&0<w;l.logDebug("turbo-checkout-prefetcher","Test should prefetch: eligibilityAggregator.isTurboOrTangoPrefetchEligible(): "+m.isTurboOrTangoPrefetchEligible()+
" !timer.isTimeout(): "+!g.isTimeout()+" _prefetchesAvailable: "+w);return a},x={name:"start",onEvent:function(a){m.shouldAttemptTurboPrefetch()||m.shouldAttemptTangoPrefetch()?"controller:onPageLoaded"===a&&n(v):(l.logDebug("turbo-checkout-prefetcher","Turbo experience is disabled eligibilityAggregator.shouldAttemptTurboPrefetch() is"+m.shouldAttemptTurboPrefetch()+" and product is not Tango eligible since eligibilityAggregator.shouldAttemptTangoPrefetch() is also"+m.shouldAttemptTangoPrefetch()+
" Hence customer eligibility prefetch call is not fired"),n(G))},onExit:function(){e.startMonitoringPage()}},v={name:"dataStale",onEvent:function(a){"page:gone"!==a&&"prefetch:onError"!==a&&"sheet:afterClose"!==a&&u()&&n(C)}},C={name:"dataPrefetching",onEnter:function(){h.incrementPrefetchCounter();f.isPrefetch()||d.isOpeningOrOpen()||t.isAutoOpenReadyToBeOpened()?b.callInitiate():b.checkEligibility();--w},onEvent:function(a){if("page:gone"===a)n(v);else{var c=b.isSuccess()&&f.isPrefetch(),d=b.isSuccess()&&
f.isNoPrefetch();l.logDebug("turbo-checkout-prefetcher","Test is data fresh: isFreshWhenPrefetchResultOKInT1: "+c+" isFreshWhenPrefetchResultOKInT4: "+d);c||d?n(B):q()?n(v):"product:onChange"===a&&u()&&n(C)}},onExit:function(a){"dataFresh"!==a&&b.abortCall()}},B={name:"dataFresh",onEnter:function(){g.startTimer()},onEvent:function(a){"page:gone"===a?n(v):q()?n(v):(d.isClosed()||"product:onChange"===a)&&u()&&n(C)},onExit:function(){g.resetTimer()}},G={name:"end"},E="controller:onPageLoaded sheet:beforeOpen sheet:afterClose product:onChange prefetch:onSuccess prefetch:onError timer:onTimeout page:gone page:reappear".split(" "),
D={"sheet:beforeOpen":function(){w=10}};return{setup:function(){w=10;p=x;a.each(E,function(a,b){var d=D[b];c.on("turbo:checkout:"+b,function(a){l.logDebug("turbo-checkout-prefetcher","Processing "+b);d&&d();if(p.onEvent)p.onEvent(b)})})},getState:function(){return p.name}}});"use strict";l.when("A","turbo-signin-adapter","turbo-checkout-content-loader","turbo-checkout-buy-now-button","turbo-checkout-csm","turbo-checkout-weblab-allocation","turbo-checkout-utils","turbo-callback-list","turbo-checkout-state-handler",
"turbo-checkout-eligible-state","turbo-checkout-page-ready").register("turbo-checkout-signin-controller",function(c,a,d,f,e,b,g,k,h,l){function m(){u=!1}function n(a){u=!0;x=a;e.logCount("turboCheckoutSigninRequired")}function r(){var b=u&&l.canShow();b&&(g.logDebug("turbo-checkout-signin-controller","Showing sign in dialog"),e.logCount("turboCheckoutSigninPopup"),a.show(x,w,p),c.trigger("turbo:checkout:signInController:onDoSignIn"));return b}function w(){g.logDebug("turbo-checkout-signin-controller",
"Signin success");e.logCount("turboCheckoutSigninSuccess");q.callAll()}function p(){g.logDebug("turbo-checkout-signin-controller","Signin failed");e.logCount("turboCheckoutSigninFailed")}var q=k.create(),u=!1,x;return{setup:function(){d.registerCallback({onStart:m,onSigninRequired:n});f.registerOnClickCallback(r)},registerCallback:q.push}});"use strict";l.when("A","turbo-configuration","turbo-callback-list","turbo-filtered-callback-list","turbo-initiate-migration-switch","turbo-checkout-page-ready").register("turbo-checkout-iframe",
function(c,a,d,f,e){function b(a){if("string"!==typeof a)throw Error("Attempted to write non-string value to iFrame. typeof \x3d "+typeof a);}function g(){return c.$("#"+t)}function k(){if(!(0<g().length))throw Error("Attempted to read / write the iFrame without it being in the DOM. This would result in an undefined iFrame document.");var a=g()[0];return a.contentDocument||a.contentWindow.document}function h(){if(0<g().length)throw Error("Attempted to insert multiple Turbo Checkout iFrames");}function l(){var a=
c.$("\x3ciframe/\x3e",{id:t,src:"about:blank",scrolling:"no","class":"turbo-checkout-blank"});e.isEnabled()&&a.css({borderRadius:"24px 24px 0px 0px"});return a}function m(a){p.push(a)}var t=a.get(a.KEYS.IFRAME_ID),r=f.create("beforeFramePopulated"),w=f.create("afterFramePopulated"),p=d.create(),q=f.create("beforeOptimisticFlushing"),u=f.create("afterOptimisticFlushing"),x=f.create("csmMarkFirstByte");m(function(a){a.addClass("turbo-checkout-shown")});c.on("turbo:checkout:iframe:document:loaded",function(){p.callAll(g())});
return{write:function(a){r.callAll();a+='\x3cscript\x3e"use strict";window.parent.P.now("turbo-checkout-controller").execute("callbackPageController", function callbackPageController(controller) {controller.frameHtmlRendered();});P.when("load").execute("onTurboDocumentLoaded", function onTurboDocumentLoaded() {window.parent.P.when("A").execute("triggerTurboDocumentLoaded", function triggerTurboDocumentLoaded(A) {A.trigger("turbo:checkout:iframe:document:loaded");});});\x3c/script\x3e';b(a);var c=
k();c.open();c.write(a);c.close();w.callAll(g()[0])},remove:function(){g().remove()},appendTo:function(a){h();a.append(l())},insertInto:function(a){h();a.html(l())},hasContent:function(){var a=0<g().length&&k();return a&&(a.body.hasChildNodes()||a.head.hasChildNodes())},registerCallbacks:function(a){r.push(a);w.push(a);q.push(a);u.push(a);x.push(a)},onContentLoaded:m,appendToIFrameDocument:function(a,c){b(c);var d=k();a?(q.callAll(),d.open(),d.write(c),x.callAll()):d.write(c)},finalizeAndAppendCallback:function(){var a=
k();a.write('\x3cscript\x3e"use strict";window.parent.P.now("turbo-checkout-controller").execute("callbackPageController", function callbackPageController(controller) {controller.frameHtmlRendered();});P.when("load").execute("onTurboDocumentLoaded", function onTurboDocumentLoaded() {window.parent.P.when("A").execute("triggerTurboDocumentLoaded", function triggerTurboDocumentLoaded(A) {A.trigger("turbo:checkout:iframe:document:loaded");});});\x3c/script\x3e');a.close();u.callAll()}}});"use strict";
l.when("A","turbo-checkout-page-ready").register("turbo-checkout-view-state",function(c){function a(a,c){return function(){return e===a||e===c}}function d(a){return function(){e=a;f.apply(f,arguments)}}function f(a,d){a&&"string"===typeof a&&c.trigger(a,d)}var e=0;return{isClosed:a(0),isClosing:a(1),isOpen:a(2),isOpening:a(3),isClosingOrClosed:a(1,0),isOpeningOrOpen:a(3,2),setToOpen:d(2),setToOpening:d(3),setToClosed:d(0),setToClosing:d(1)}});"use strict";l.when("turbo-checkout-page-load-spinner",
"turbo-checkout-controller","turbo-checkout-csm","turbo-checkout-page-state","turbo-constants","turbo-checkout-page-ready").register("turbo-checkout-startup",function(c,a,d,f,e){f.get().turboAssetsMode!==e.ASSET_MODE_CLT_CX_ONLY&&(c.removePageLoadSpinner(),d.logCount("turboCheckoutControllerPageLoaded"),a.pageLoaded())});"use strict";l.when("turbo-checkout-assets-load-trigger").register("turbo-checkout-page-ready",function(){q.ue&&q.ue.count&&"undefined"!==typeof q.ue_t0&&q.ue.count("turboCheckoutPageReady",
Date.now()-q.ue_t0)});"use strict";l.when("A","turbo-checkout-csm","turbo-checkout-utils","turbo-checkout-state-handler","turbo-checkout-quantity-input","turbo-checkout-warranty-input","turbo-checkout-accessories-input","turbo-checkout-navigation-window","turbo-checkout-page-ready").register("turbo-checkout-authportal-return-query",function(c,a,d,f,e,b,g,k){function h(a){d.logDebug("turbo-checkout-authportal-return-query",a)}function l(a){return!!a.match("trb_auth\x3d1")}function m(b){if(l(b)){b=
((b||"").match(w)||[])[1]||"";var c=f.getSessionId();d.isNonEmptyString(b)||a.logCount("turboCheckoutPostAuthEmptySessionParameter");d.isNonEmptyString(c)||a.logCount("turboCheckoutPostAuthEmptySessionPageState");d.isNonEmptyString(b)&&d.isNonEmptyString(c)&&b!==c&&(d.logWarning("Turbo Session Flip Detected. Post authentication sessionId \x3d "+c+", Expected \x3d "+b,"turbo-checkout-authportal-return-query"),a.logCount("turboCheckoutPostAuthSessionFlip"))}}var t=/&?(openid|aToken|serial)[^&]*/g,r=
/&?trb_(open|auth|qty|warrAsin|sid|accessory(Asin|Offer))=[^&]*/g,w=/&?trb_sid=([^&]*)/,p=/\?[?&]*/,q=/[?&]{2,}/g;m(k.getWindow().location.search);return{buildFrom:function(a){h("Initial Query \x3d "+a);a=(a||"?").replace(t,"");a=a.replace(r,"");a+="\x26trb_auth\x3d1\x26trb_open\x3d1";var c=e.getQuantity();a+=1<c?"\x26trb_qty\x3d"+c:"";c=b.getLineItem();a+=c&&c.asin?"\x26trb_warrAsin\x3d"+c.asin:"";c=f.getSessionId();a+=0<c.length?"\x26trb_sid\x3d"+c:"";c=f.getActiveId();a+=c?"\x26trb_bid\x3d"+c:
"";c=g.getLineItem();a+=c&&c.asin&&c.offerListingId?"\x26trb_accessoryAsin\x3d"+c.asin+"\x26trb_accessoryOffer\x3d"+c.offerListingId:"";a=a.replace(p,"?").replace(q,"\x26");h("Final Query \x3d "+a);return a},isReturningFromAuthPortal:l,validateSession:m}});"use strict";l.when("turbo-checkout-utils","turbo-checkout-csm","turbo-checkout-authportal-return-query","turbo-checkout-navigation-window","turbo-checkout-page-ready").register("turbo-checkout-signin-utils",function(c,a,d,f){function e(a){return null!==
a.match(g)}function b(){var a=d.buildFrom(f.getWindow().location.search);return encodeURIComponent("https://"+f.getWindow().location.hostname+f.getWindow().location.pathname.replace(k,"/ref\x3dtrb_chk_auth")+a)}var g=/openid\.return_to=([^&$]+)/,k=/(\/ref=[^/]*\/?$|\/?$)/;return{encodeSignInUrl:function(d){if(e(d)){a.logCount("turboCheckoutForceMobileClaimCollection");var f=d.match(g)[1],h=decodeURIComponent(f);f===h&&c.logError("The pre-defined returnTo seems to be un-encoded");h=encodeURIComponent(h+
(-1===h.indexOf("?")?"?":"\x26")+"openid.return_to\x3d"+b());return d.replace(f,h)}return d+(-1===d.indexOf("?")?"?":"\x26")+"openid.return_to\x3d"+b()},isEnforceMobileClaimUrl:function(a){var b=null!==a.match("openid.pape.preferred_auth_policies%3DEnforcePossessionOnMobileClaim")||null!==a.match(decodeURIComponent("openid.pape.preferred_auth_policies%3DEnforcePossessionOnMobileClaim"));a=null!==a.match("intercept%3Dfalse")||null!==a.match(decodeURIComponent("intercept%3Dfalse"));return b&&a},_isReturnToParameterPredefined:e}});
"use strict";l.when("turbo-checkout-utils","turbo-checkout-csm","turbo-checkout-auto-open","turbo-checkout-authportal-return-query","turbo-checkout-signin-utils","turbo-checkout-navigation-window","turbo-checkout-page-ready").register("turbo-checkout-browser-signin",function(c,a,d,f,e,b){function g(){var c=b.getWindow().location.search.match(k)?"turboCheckoutSigninSuccess":"turboCheckoutSigninFailed";a.logCount(c)}var k=/openid\.mode=id_res/;f.isReturningFromAuthPortal(b.getWindow().location.search)&&
(a.logCount("turboCheckoutAuthPortalReturn"),g());return{show:function(c){c=e.encodeSignInUrl(c);a.logCount("turboCheckoutSignInUrlSize",c.length);d.reset();b.assign(c)}}});"use strict";l.when("turbo-checkout-utils","turbo-checkout-state-handler","turbo-checkout-page-ready").register("turbo-checkout-strings",function(c,a){function d(d){return function(){var e=a.getStrings()[d];if(e)return c.escapeHtml(e);c.logDebug("turbo-checkout-strings",'String for key "'+d+'" is undefined! Returning empty string.');
return""}}return{getHeaderText:d("TURBO_CHECKOUT_HEADER"),getLoadingText:d("TURBO_LOADING_TEXT"),getCloseText:d("TURBO_CLOSE_TEXT")}});"use strict";l.when("jQuery","A","turbo-checkout-ref-tagger","turbo-checkout-strings","turbo-initiate-migration-switch","turbo-checkout-page-ready").register("turbo-checkout-loading-spinner",function(c,a,d,f,e){function b(){return c("#turbo-loading-container")}function g(a){var b=c("\x3cdiv\x3e",{id:"turbo-loading-content"}).append(c("\x3cdiv\x3e",{id:"turbo-loading-spinner",
"class":"a-spinner a-spinner-medium"}));if(e.isEnabled()){var d=c("\x3cspan/\x3e",{id:"turbo-checkout-loading-sheet-dimmer-close",tabindex:0,role:"button","aria-label":f.getCloseText()});b.append(d);d.bind("click",k);d.bind("keypress",h)}"string"===typeof a&&a&&b.append(c("\x3cdiv\x3e",{id:"turbo-loading-text",text:a}));return b}function k(){a.trigger("turbo:checkout:sheet:doClose",{reason:d.TAGS.TOUCH_X})}function h(b){13===(b.which||b.keyCode||0)&&(b.preventDefault(),a.trigger("turbo:checkout:sheet:doClose",
{reason:d.TAGS.TOUCH_X}))}return{create:function(a){return c("\x3cdiv\x3e",{id:"turbo-loading-container"}).append(g(a))},get:b,show:function(){b().addClass("turbo-checkout-shown")}}});"use strict";l.when("A","turbo-checkout-utils","turbo-checkout-page-ready").register("turbo-checkout-eligibility-response-weblabs",function(c,a){var d=[];return{set:function(a){c.$.isArray(a)&&(d=a)},get:function(){return d}}});"use strict";l.when("turbo-checkout-csm","turbo-checkout-utils","turbo-checkout-page-ready").register("turbo-checkout-session-storage",
function(c,a){function d(c,d){a.logDebug("turbo-checkout-session-storage",c,d)}return{isPresent:function(a){a:{try{var e=q.sessionStorage.getItem(a);break a}catch(b){c.logCount("turboCheckoutSessionStorageExceptionGet"),d("turboCheckoutSessionStorage get() exception",b)}e=null}return null!==e&&e!==B},set:function(a,e){try{q.sessionStorage.setItem(a,e)}catch(b){c.logCount("turboCheckoutSessionStorageExceptionSet"),d("turboCheckoutSessionStorage set() exception",b)}},remove:function(a){try{return q.sessionStorage.removeItem(a)}catch(e){c.logCount("turboCheckoutSessionStorageExceptionRemove"),
d("turboCheckoutSessionStorage remove() exception",e)}}}});"use strict";l.when("A","turbo-configuration","turbo-checkout-page-ready").register("turbo-checkout-load-events",function(c,a){var d=a.get(a.KEYS.AJAX_PAGE_UPDATE_EVENT);return{bind:function(a){c.off(d,a);c.off("turbo:checkout:controller:onPageLoaded",a);c.on(d,a);c.on("turbo:checkout:controller:onPageLoaded",a)}}});"use strict";l.when("A","jQuery","turbo-checkout-csm","turbo-checkout-utils","turbo-checkout-buy-now-button","turbo-configuration",
"turbo-checkout-page-ready").register("turbo-checkout-event-verification",function(c,a,d,f,e,b){function g(){var a=b.get(b.KEYS.BUY_NOW_CLICK_EVENT).split(".");return 1<a.length?a[1]:"turboCheckout"}function k(a){var b=a.map(function(a){return a.namespace}).filter(function(a,b,c){return c.indexOf(a)===b});a.length!==b.length&&d.logCount("turboCheckoutBuyNowButtonDuplicateClickHandler")}function h(a){if((a=a.filter(function(a){return a!==B&&"click"===a.type&&0<=t.indexOf(a.namespace)}))&&0<a.length){var b=
0;a.forEach(function(a){a.namespace!==g()&&(d.logCount("turboCheckoutBuyNowButtonClickHandlerWhitelisted:"+a.namespace),b++)});0<b&&d.logCount("turboCheckoutBuyNowButtonClickHandlerWhitelistedQuantity:"+b)}}function l(a){if((a=a.filter(function(a){return a!==B&&"click"===a.type&&0>t.indexOf(a.namespace)}))&&0<a.length){var b=0;a.forEach(function(){d.logCount("turboCheckoutBuyNowButtonClickHandlerNotWhitelisted");b++});d.logCount("turboCheckoutBuyNowButtonClickHandlerNotWhitelistedQuantity:"+b)}}var m=
!1,t=[g(),"accessoryUpsellInterstitial","makoPreRegistration","moq","siatc","hctpDFL","bbg","vasBuyNow","ppdBundles","makoGiftingMetrics","financialOptionsCheckout"];return{logBuyNowButtonClickHandlerMetrics:function(){var b=e.getBuyNowButtons();if(!m&&b&&0<b.length){for(var c=0;c<b.length;c++){var g=a._data(b[c],"events");if(!g||!g.click){d.logCount("turboCheckoutBuyNowButtonNoBoundHandlers");return}var n=(g=g.click)?g.length:0;1<n&&(f.logDebug("turbo-checkout-event-verification","Multiple handlers bound to 'click' in Buy Now button. Number of handlers: "+
n,void 0),d.logCount("turboCheckoutBuyNowButtonMultipleClickEventsBound"),d.logCount("turboCheckoutBuyNowButtonMultipleClickEventsBoundQuantity:"+n));k(g);l(g);h(g)}m=!0}}}});"use strict";l.when("turbo-checkout-page-ready").register("turbo-constants",function(){return{ASSET_MODE_TURBO_ONLY:"TURBO_ONLY",ASSET_MODE_CLT_CX_ONLY:"CLT_CX_ONLY",ASSET_MODE_TURBO_AND_CLT_CX:"TURBO_AND_CLT_CX"}});"use strict";l.when("A","turbo-checkout-state-handler","turbo-checkout-ajax-wrapper","turbo-checkout-utils","turbo-checkout-urls",
"turbo-checkout-csm","turbo-checkout-navigation-window","turbo-checkout-page-ready").register("turbo-chewbacca-migration-shadow",function(c,a,d,f,e,b,g){function k(a,b){f.logDebug("turbo-chewbacca-migration-shadow",a,b)}function h(){var a=d.createXHRRequest();a.addEventListener("readystatechange",function(){p||!a.readyState||2>a.readyState?k("Chewbacca Request Ignoring ready state changed event because headers already received or missing xhr"):(p=!0,b.logCount("turboCheckoutChewbaccaHeadersReceived"),
b.logCount("turboCheckoutChewbaccaHeadersReceivedDuration",Date.now()-q),a&&a.getResponseHeader("x-amz-turbo-checkout-eligible")?(k("Chewbacca Request Headers received: Turbo eligible"),b.logCount("turboCheckoutChewbaccaEligible")):(k("Chewbacca Request Headers received: Not turbo eligible"),b.logCount("turboCheckoutChewbaccaNotEligible")))});return a}function l(a,c,d){b.logCount("turboCheckoutChewbaccaCallEnd",Date.now()-q);A=null;c=d&&d.getResponseHeader("x-amz-turbo-checkout-eligible");if((a=a&&
a.match(u))&&0<a.length)try{var e=x(a[0]);var g=x.parseJSON(e.text())}catch(D){f.logError("Chewbacca Request Could not extract page state from chewbacca page: "+D)}else k("Chewbacca Request Could not extract page state from response data");g=(e=g)&&"turbo"===e.pipelineType;e=e&&e.currentPurchaseId&&0<String(e.currentPurchaseId).trim().length;g&&!e&&f.logError("Chewbacca Request No purchaseid provided, cannot show turbo");c&&g&&e?(k("Notifying Chewbacca Request success"),b.logCount("turboCheckoutChewbaccaCallSuccess")):
(k("Notifying Chewbacca Request Fail"),b.logCount("turboCheckoutChewbaccaCallFail"))}function m(a,c,d){b.logCount("turboCheckoutChewbaccaCallEnd");A=null;k("Chewbacca Request Error while initiate",d);b.logCount("turboCheckoutChewbaccaCallError");"timeout"===c&&b.logCount("turboCheckoutChewbaccaInitiateTimeOut")}function t(){var b={isAsync:1};a.getAddressId()&&(b.addressID=a.getAddressId());a.isPhysicalGiftCardExperimentEligible()&&(b.isPhysicalGiftCard=!0);a.getLineItems().forEach(function(a,c){c+=
1;b["offerListing."+c]=a.offerListingId;b["quantity."+c]=a.quantity;a.incentivizedCart&&(b["incentivizedCart."+c]=a.incentivizedCart,b.incentivizedCart=a.incentivizedCart);a.customItemPrice&&(b["customItemPrice."+c]=a.customItemPrice,b.customItemPrice=a.customItemPrice)});return b}function r(){var b={"x-amz-support-custom-signin":1};b["x-amz-turbo-checkout-dp-url"]=g.getWindow().location.href;b["x-amz-checkout-entry-referer-url"]=g.getWindow().location.href;var c=a.getCSRFToken();c&&0<c.length&&(b["x-amz-checkout-csrf-token"]=
c);return b}var q,p=!1,A,u=/<script.*data-a-state.*checkout:conductor:page.*>.*<\/script>/,x=c.$;return{shadowCallChewbaccaInitiate:function(){b.logCount("turboCheckoutChewbaccaInitiate");A&&A.abort&&(k("Aborting running Chewbacca request..."),A.abort());p=!1;q=Date.now();b.logCount("turboCheckoutChewbaccaCallStart");var c=e.buildInitiatePathWith(a.getRefTag(),a.getExperimentName(),a.getClientId(),a.getRequestId(),a.getSessionId(),a.getLineItems(),a.getPrimeStatus(),!0);A=d.loadWithJQXHR(c,{type:"POST",
data:t(),headers:r(),xhr:h,success:l,error:m})}}});"use strict";l.when("A","turbo-checkout-utils","turbo-checkout-page-ready").execute("turbo-checkout-buy-again-workaround",function(c,a){c.on("ride:show",function(){a.logDebug("turbo-checkout-buy-again-workaround","Firing page:gone event to reset prefetches");c.trigger("turbo:checkout:page:gone")})})});
/* ******** */
'use strict';(function(d){var m=window.AmazonUIPageJS||window.P,r=m._namespace||m.attributeErrors,a=r?r("TurboCheckoutDesktopAssets","TurboCheckout"):m;a.guardFatal?a.guardFatal(d)(a,window):a.execute(function(){d(a,window)})})(function(d,m,r){d.when("turbo-configuration-keys","turbo-checkout-page-ready").register("turbo-device-configuration",function(a){if(!b){var b={};b[a.SHOW_SIGN_IN_INTERFACE]="turbo-checkout-browser-signin";b[a.EXTEND_ELIGIBLE_STATE]=!1;b[a.IS_DEVICE_FILTER_REQUIRED]=!0;b[a.VIEW_ADAPTER]=
"turbo-checkout-modal";b[a.WARRANTY_CHECKBOX_INPUT_SELECTOR]="input[id^\x3dmbb-offeringID-]";b[a.WARRANTY_CHECKBOX_RELATIVE_PARENT_SELECTOR]=".abbListItem";b[a.WARRANTY_OFFER_INPUT_SELECTOR]="input[id^\x3dmbb-offeringID-]:checked";b[a.WARRANTY_ASIN_INPUT_NAME]="asin"}return b});"use strict";d.when("A","turbo-checkout-csm","turbo-checkout-utils","turbo-configuration","turbo-checkout-device-variant","turbo-checkout-is-touch-and-orientation-enabled","turbo-checkout-page-ready").register("turbo-checkout-device-filter",
function(a,b,g,d,f,r){function h(a){var c=!1;this.countOnce=function(){c||(b.logCount(a),c=!0)}}function e(a){g.logDebug("turbo-checkout-device-filter",a)}var m="turboCheckoutDisabledDesktopAuiVariant"+f,k,v,c,y,t,n,p;return{isDeviceTurboEligible:function(){k=k||new h("Desktop"===f?"turboCheckoutDesktopAuiVariantEligible":m);var b;(b=v)||(b=g.isInternetExplorer()?"turboCheckoutDisabledDesktopIE":g.isIPad()?"turboCheckoutDisabledDesktopIPad":g.isIPhone()?"turboCheckoutDisabledDesktopIPhone":g.isAndroid()?
"turboCheckoutDisabledDesktopAndroid":"turboCheckoutDesktopUserAgentEligible",b=new h(b));v=b;c=c||new h("turboCheckoutDisabledDesktopTouch");y=y||new h("turboCheckoutDisabledDesktopOrientation");t=t||new h("turboCheckoutDisabledDesktopTouchAndOrientation");n=n||new h("turboCheckoutDisabledTurboDesktopOnDevice");p=p||new h("turboCheckoutEnabledTurboDesktopOnDevice");k.countOnce();"Desktop"===f||e("Aui device variant is NOT Desktop. Turbo will NOT show. Variant is "+f);(b="Desktop"!==f)||(v.countOnce(),
b=!!(g.isInternetExplorer()||g.isIPad()||g.isAndroid()||g.isIPhone()));if(b)return n.countOnce(),!1;if(b=a.capabilities.touch)c.countOnce(),e("Touch enabled device. Turbo will NOT show");var d=a.capabilities.orientation;d&&(y.countOnce(),e("Orientation enabled device. Turbo will NOT show"));b&&d&&t.countOnce();if((b||d)&&!r)return n.countOnce(),!1;p.countOnce();return!0},isSignInSupported:function(){return d.get(d.KEYS.IS_SIGN_IN_SUPPORTED)},isMashBeta:function(){return!1},isBuyNowToTangoSupported:function(){return!0}}});
"use strict";d.when("turbo-checkout-page-ready").execute(function(){d.declare("turbo-checkout-device-variant","Desktop")});"use strict";d.when("A","a-modal","turbo-checkout-csm","turbo-checkout-utils","turbo-checkout-iframe","turbo-checkout-base-view","turbo-checkout-loading-spinner","turbo-checkout-view-state","turbo-checkout-ref-tagger","turbo-checkout-strings","turbo-checkout-navigation-window","turbo-checkout-page-ready").register("turbo-checkout-modal",function(a,b,d,m,f,G,h,e,A,k,v){function c(a){m.logDebug("turbo-checkout-modal",
a)}function g(){!B()||e.isOpeningOrOpen()?c("show() suppressed. View is null or undefined or view state is opening or open"):(e.setToOpening(),p().show())}function t(a){u&&e.isOpeningOrOpen()&&(f.appendTo(w()),a?f.appendToIFrameDocument(!0,u):f.write(u))}function n(){f.remove();if(0<w().length)c("Modal frame is in DOM. Inserting Spinner"),w().height("").html(h.create(k.getLoadingText())).append(z()),q("#turbo-checkout-modal-header").text(k.getHeaderText());else{c("Modal frame is NOT in DOM. Resetting Modal");
var a={inlineContent:q("\x3cdiv\x3e",{id:"turbo-checkout-frame"}).html(h.create(k.getLoadingText())).append(z()).prop("outerHTML"),padding:"none",dataStrategy:"inline",header:'\x3cdiv id\x3d"turbo-checkout-modal-header"\x3e'+k.getHeaderText()+"\x3c/div\x3e"};p().update(a)}}function p(){return C=C||b.get(q("#turbo-checkout-modal"))}function z(){return q("\x3cscript/\x3e",{type:"text/javascript",html:'P.when("A").execute(function turboFrameReady(A) { A.trigger("turbo:checkout:frame:ready"); });'})}
function w(){return q("#turbo-checkout-frame")}function x(a){!B()||e.isClosingOrClosed()?c("close() suppressed. View is undefined or null or view state is closing or closed"):(l=a||l,l.notify=!0===l.notify||l.notify===r,e.setToClosing(),p().hide())}function B(){var a=p();a||c("Modal is undefined or null. Modal \x3d "+a);return a?!0:!1}function D(b){q(document.body).unbind("click");b();a.trigger("turbo:checkout:sheet:onNavigateAway");x({notify:!1,immediate:!0,doNotLog:!0})}function E(a){c("onDismiss");
l={notify:!0,reason:a}}var q=a.$,l={},u,C,F=new (G.extend())("#turbo-checkout-frame");f.onContentLoaded(function(a){h.get().remove()});a.on("a:popover:dismiss:turbo",function(){c("onClick_X");E(A.TAGS.TOUCH_X)});a.declarative("a-popover-floating-close","click",function(){c("onDimmerClicked");E(A.TAGS.TOUCH)});a.on("a:popover:beforeShow:turbo",function(){c("onBeforeOpen");e.setToOpening("turbo:checkout:sheet:beforeOpen");n()});a.on("a:popover:show:turbo",function(){c("onOpen");e.setToOpen();u||h.show()});
a.on("a:popover:beforeHide:turbo",function(){c("onBeforeClose");e.setToClosing.apply(e,!0===l.notify?["turbo:checkout:sheet:beforeClose",l]:r);w().removeClass("turbo-checkout-shown")});a.on("a:popover:hide:turbo",function(){c("onClose");e.setToClosed("turbo:checkout:sheet:afterClose");l={}});a.on("a:popover:afterHide:turbo",n);a.on("turbo:checkout:sheet:doOpen",g);a.on("turbo:checkout:sheet:doClose",x);a.on("turbo:checkout:frame:ready",t);a.on(a.constants.BROWSER_EVENTS.ORIENTATION_CHANGE,function(){d.logCount("turboCheckoutDesktopOrientationChange");
e.isOpen()&&d.logCount("turboCheckoutDesktopOrientationChangeWhenModalOpen")});a.on("turbo:checkout:state:product:resolved",function(){q("#turbo-checkout-modal-header").text(k.getHeaderText())});a.on("turbo:checkout:update:modal:header:afterReload",function(a){null!==a&&q("#turbo-checkout-modal-header").text(a)});return{show:g,setContent:function(a){u=a;c("iFrame content saved");e.isOpeningOrOpen()?t():(c("setFrameContent NOT called"),c("viewState is not opening? isOpeningOrOpen \x3d "+e.isOpeningOrOpen()),
c("iFrame already has content? iFrame.hasContent \x3d "+f.hasContent()))},removeContent:function(){u="";n()},close:x,closeToFullscreen:function(a){D(function(){v.assign(a)})},closeImmediatelyThenExecute:D,closeAndNavigate:function(b){v.assign(b);a.trigger("turbo:checkout:sheet:onNavigateAway");x({notify:!1,doNotLog:!0})},registerCallbacks:f.registerCallbacks,updateBounds:function(a){F.updateBounds(a)},getHeight:function(){return F.getHeight()},updateBottomSheetAttributes:function(){},initiateIFrameContent:function(a){u=
a;e.isOpeningOrOpen()&&!f.hasContent()&&t(!0)},appendToIFrameContent:function(a){f.appendToIFrameDocument(!1,a)},finalizeIFrameContent:function(){f.finalizeAndAppendCallback()}}});"use strict";d.declare("turbo-checkout-is-touch-and-orientation-enabled",!1)});
/* ******** */
'use strict';(function(e){var f=window.AmazonUIPageJS||window.P,g=f._namespace||f.attributeErrors,a=g?g("DetailPageTurboCheckoutDesktopAssets",""):f;a.guardFatal?a.guardFatal(e)(a,window):a.execute(function(){e(a,window)})})(function(e,f,g){e.when("turbo-configuration-keys","turbo-product-state-key","turbo-state-parsing-root-node-selector","turbo-checkout-page-ready").register("turbo-client-configuration",function(a,e,f){var g="asin sessionID timestamp qid sr offeringID buyNow addressID registryID registryItemID quantity rebateId triggerTurboWeblab triggerTurboWeblabName turboPageRequestId turboPageSessionId pipelineType referrer ref_ isBuyNow anti-csrftoken-a2z items[0.base][customerVisiblePrice][amount] items[0.base][customerVisiblePrice][currencyCode] items[0.base][customerVisiblePrice][displayString] items[0.base][asin] clientName items[0.base][offerListingId] pageLoadTimestampUTC offerListingID session-id ASIN isMerchantExclusive merchantID isAddon nodeID sellingCustomerID storeID tagActionCode viewID ctaDeviceType ctaPageType usePrimeHandler smokeTestEnabled rsid sourceCustomerOrgListID sourceCustomerOrgListItemID wlPopCommand items[0.base][quantity] submit.buy-now dropdown-selection dropdown-selection-ubb skipCart custom-name.1.incentivizedCart custom-value.1.incentivizedCart items[0.base][additionalParameters][incentivizedCart] ue_back".split(" "),
h="items[0.freebies][additionalParameters][itemAssociation][associatedItemId] items[0.freebies][additionalParameters][itemAssociation][deleteConstraint][mutuallyInclusive] items[0.freebies][additionalParameters][itemAssociation][programType] items[0.freebies][additionalParameters][itemAssociation][properties][accessoryType] items[0.freebies][additionalParameters][itemAssociation][renderType] items[0.freebies][asin] items[0.freebies][offerListingId] items[0.freebies][quantity]".split(" "),k="items[0.warranty][additionalParameters][itemAssociation][associatedItemId] items[0.warranty][additionalParameters][itemAssociation][deleteConstraint][mutuallyInclusive] items[0.warranty][additionalParameters][itemAssociation][programType] items[0.warranty][additionalParameters][itemAssociation][quantityConstraint][invarianceFactor] items[0.warranty][additionalParameters][itemAssociation][quantityConstraint][quantityEditable] items[0.warranty][additionalParameters][itemAssociation][renderType] items[0.warranty][asin] items[0.warranty][offerListingId] items[0.warranty][quantity]".split(" "),
l="items[0.base][additionalParameters][itemAssociation][associatedItemId] items[0.base][additionalParameters][itemAssociation][deleteConstraint][mutuallyInclusive] items[0.base][additionalParameters][itemAssociation][programType] items[0.base][additionalParameters][itemAssociation][renderType] items[0.vasItem][additionalParameters][itemAssociation][associatedItemId] items[0.vasItem][additionalParameters][itemAssociation][deleteConstraint][mutuallyInclusive] items[0.vasItem][additionalParameters][itemAssociation][programType] items[0.vasItem][additionalParameters][itemAssociation][renderType] items[0.vasItem][asin] items[0.vasItem][offerListingId] items[0.vasItem][quantity]".split(" "),
b={};g.forEach(function(a){b[a]="PAX_CHECKOUT_BUY_NOW_TO_TANGO_DESKTOP_EXPERIMENT_969581"});l.forEach(function(a){b[a]="PAX_CHECKOUT_VAS_ENABLE_BUY_NOW_TANGO_1165794"});k.forEach(function(a){b[a]="CETECH_CHECKOUT_WARRANTIES_ENABLE_BUY_NOW_TANGO_1184394"});b["items[0.base][additionalParameters][giftOptions][includeGiftReceipt]"]="UPMT_CHECKOUT_BUY_NOW_GIFT_TANGO_DESKTOP_1044576";b["gift-wrap"]="UPMT_CHECKOUT_BUY_NOW_GIFT_TANGO_DESKTOP_1044576";b.paymentOfferInfo="PAX_CHECKOUT_BUY_NOW_UFO_TANGO_DESKTOP_1118473";
b["items[0.base][additionalParameters][paymentOfferInfo]"]="PAX_CHECKOUT_BUY_NOW_UFO_TANGO_DESKTOP_1118473";b.inHouseInstallments="PAX_CHECKOUT_BUY_NOW_AMP_TANGO_DESKTOP_1118500";b["installments-check"]="PAX_CHECKOUT_BUY_NOW_AMP_TANGO_DESKTOP_1118500";b.isInstallmentsChecked="PAX_CHECKOUT_BUY_NOW_AMP_TANGO_DESKTOP_1118500";b["items[0.base][additionalParameters][installments][programId]"]="PAX_CHECKOUT_BUY_NOW_AMP_TANGO_DESKTOP_1118500";b["installments-programId"]="PAX_CHECKOUT_BUY_NOW_AMP_TANGO_DESKTOP_1118500";
b["items[0.base][additionalParameters][giftCardMetadata][amount][amount]"]="PAX_CHECKOUT_BUY_NOW_GC_TANGO_1121297";b["items[0.base][additionalParameters][giftCardMetadata][amount][currencyCode]"]="PAX_CHECKOUT_BUY_NOW_GC_TANGO_1121297";b["items[0.base][additionalParameters][giftCardMetadata][amount][displayString]"]="PAX_CHECKOUT_BUY_NOW_GC_TANGO_1121297";b["items[0.base][additionalParameters][giftCardMetadata][type]"]="PAX_CHECKOUT_BUY_NOW_GC_TANGO_1121297";h.forEach(function(a){b[a]=""});var c=
{};g.forEach(function(a){c[a]="PAX_CHECKOUT_BUY_NOW_TO_TANGO_DESKTOP_EXPERIMENT_NON_PRIME_1088576"});l.forEach(function(a){c[a]="PAX_CHECKOUT_VAS_ENABLE_BUY_NOW_TANGO_1165794"});k.forEach(function(a){c[a]="CETECH_CHECKOUT_WARRANTIES_ENABLE_BUY_NOW_TANGO_1184394"});c["items[0.base][additionalParameters][giftOptions][includeGiftReceipt]"]="UPMT_CHECKOUT_BUY_NOW_GIFT_TANGO_DESKTOP_1044576";c["gift-wrap"]="UPMT_CHECKOUT_BUY_NOW_GIFT_TANGO_DESKTOP_1044576";c.paymentOfferInfo="PAX_CHECKOUT_BUY_NOW_UFO_TANGO_DESKTOP_1118473";
c["items[0.base][additionalParameters][paymentOfferInfo]"]="PAX_CHECKOUT_BUY_NOW_UFO_TANGO_DESKTOP_1118473";c.inHouseInstallments="PAX_CHECKOUT_BUY_NOW_AMP_TANGO_DESKTOP_1118500";c["installments-check"]="PAX_CHECKOUT_BUY_NOW_AMP_TANGO_DESKTOP_1118500";c.isInstallmentsChecked="PAX_CHECKOUT_BUY_NOW_AMP_TANGO_DESKTOP_1118500";c["items[0.base][additionalParameters][installments][programId]"]="PAX_CHECKOUT_BUY_NOW_AMP_TANGO_DESKTOP_1118500";c["installments-programId"]="PAX_CHECKOUT_BUY_NOW_AMP_TANGO_DESKTOP_1118500";
c["items[0.base][additionalParameters][giftCardMetadata][amount][amount]"]="PAX_CHECKOUT_BUY_NOW_GC_TANGO_1121297";c["items[0.base][additionalParameters][giftCardMetadata][amount][currencyCode]"]="PAX_CHECKOUT_BUY_NOW_GC_TANGO_1121297";c["items[0.base][additionalParameters][giftCardMetadata][amount][displayString]"]="PAX_CHECKOUT_BUY_NOW_GC_TANGO_1121297";c["items[0.base][additionalParameters][giftCardMetadata][type]"]="PAX_CHECKOUT_BUY_NOW_GC_TANGO_1121297";h.forEach(function(a){c[a]=""});if(!d){var d=
{};d[a.HOST_PAGE_TYPE_IDENTIFIER]="detail";d[a.IS_BUY_NOW_TO_TANGO_ENABLED]=!0;d[a.IS_BUY_NOW_TO_TANGO_PRIME_SPLIT]=!0;d[a.BUY_NOW_TO_TANGO_PARAMETER_EXCLUSION_LIST_PRIME]=b;d[a.BUY_NOW_TO_TANGO_PARAMETER_EXCLUSION_LIST_NON_PRIME]=c;d[a.BUY_NOW_ONLY_TREATMENT]="T1";d[a.NO_PREFETCH_TREATMENT]=/T[2-9]/;d[a.ADDRESS_INPUT_SELECTORS]=["#unifiedLocation1ClickAddress","#addToCart input[name\x3d'dropdown-selection']","#unifiedLocationAddress","input[name\x3d'dropdown-selection']"];d[a.QUANTITY_SELECT_SELECTOR]=
"#quantity";d[a.CONFLICTING_INITIATE_LISTENERS]=["click.siatc"];d[a.VAS_CHANGE_EVENTS]=["vas:remove-service-asin-buybox-event","vas:add-service-asin-buybox-event"];d[a.VAS_CHECKBOX_SELCTOR]="#ppdb-add-service-checkbox";d[a.SESSION_ID_SELECTOR]='input[name\x3d"session-id"]';d[a.TURBO_PRODUCT_STATE_KEY]=e;d[a.PAGE_STATE_PARSING_ROOT_NODE_SELECTOR]=f;d[a.PRODUCT_STATE_PARSING_ROOT_NODE_SELECTOR]=f}return d});"use strict";e.when("turbo-checkout-page-ready").execute(function(){e.declare("turbo-product-state-key",
"turbo-checkout-page-state")});"use strict";e.when("turbo-checkout-page-ready").execute(function(){e.declare("turbo-state-parsing-root-node-selector","#turboState")})});
/* ******** */
(function(c){var a=window.AmazonUIPageJS||window.P,d=a._namespace||a.attributeErrors,b=d?d("DetailPageSoftlinesFitProductAssets",""):a;b.guardFatal?b.guardFatal(c)(b,window):b.execute(function(){c(b,window)})})(function(c,a,d){c.when("A","ready").execute(function(b){b.$("#fit-sizechartv2-0").length&&"object"===typeof a.ue&&a.ue.count&&a.ue.count("SizeChartV2:TableRendered.",1)})});
/* ******** */
