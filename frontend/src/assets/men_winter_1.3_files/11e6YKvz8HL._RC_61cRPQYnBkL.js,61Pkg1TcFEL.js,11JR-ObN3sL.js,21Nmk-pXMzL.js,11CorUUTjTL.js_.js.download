(function(d){var m=window.AmazonUIPageJS||window.P,f=m._namespace||m.attributeErrors,b=f?f("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):m;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,m,f){d.when("A","imageBlockUtils").register("ImageBlockModel",function(b,c){function p(b,a,q,e,n,h){c.isDefined(b)&&(g.type=b);c.isDefined(a)&&(g.index=a);c.isDefined(q)&&(g.thumbnailIndex=q);c.isDefined(e)&&(g.variant=e);c.isDefined(n)&&(g.color=
n);g.shoppableScene=h||null}function k(b){p("image",0,0,"MAIN",b||a.landingAsinColor||a.defaultColor,null)}function e(a){a=a.data;l=b.copy(g);p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function h(a){e(a);a=b.copy(a);a.data=b.copy(g);n.dispatch("updateView",a)}function d(){l=b.copy(g);k(g.color)}var a,n,g={},l={},m,f;return function(c,r){n=r;a=c;n.register("updateSelection",h);n.register("updateModel",e);n.register("resetModel",d);this.init=function(){k()};this.getCurrentItem=
function(){return b.copy(g)};this.getPreviousItem=function(){return b.copy(l)};this.setCurrentEvent=function(a){m=a};this.getCurrentEvent=function(){return m};this.setImmersiveViewModalInstance=function(a){f=a};this.getImmersiveViewModalInstance=function(){return f};this.updateTitle=function(b){a.title=b};this.setToPreviousItem=function(){p(l.type,l.index,l.thumbnailIndex,l.variant,l.color,l.shoppableScene)};this.setToCurrentItem=function(a){p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});
"use strict";d.when("imageBlockUtils").register("ImageBlockState",function(b){return function(c,d,k){this.getImageHash=function(e){var h=k.getCurrentItem();e=b.getIndexForVariant(h.color,e||"MAIN",c);return b.getImageHash(h.color,e,c)};this.onImageUpdateForTwister=function(b){d.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";d.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",
function(b,c,d,k,e){var h={};return function(f){var a=this;a.dispatch=function(a,c){a=h[a];k.isDefined(a)&&b.each(a,function(a,b){b.call(m,c)})};a.register=function(a,b){k.isDefined(h[a])||(h[a]=[]);"function"===typeof b&&h[a].push(b)};a.model=new c(f,a);a.view=new d(f,a,a.model);a.api=new e(f,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";d.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,c,f,k){b=b.extend(!0,
{},f,k);var e=new c(b);d.register("ImageBlockAPI",function(){return e.api});return e})});
/* ******** */
(function(L){var p=window.AmazonUIPageJS||window.P,Y=p._namespace||p.attributeErrors,X=Y?Y("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):p;X.guardFatal?X.guardFatal(L)(X,window):X.execute(function(){L(X,window)})})(function(L,p,Y){L.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(m,c,f,M,l,I,B){function F(k,b,a,e,h){if(!f.isjQueryObjDefined(k.find(".a-button-selected"))){var d=
n.getCurrentItem();if(!e||"chromeless-video"!==d.type||!g.autoplayVideo){e=0;"image"===d.type&&(e=Math.max(f.getIndexForVariant(d.color,d.variant,g),0));var J=0;f.isDefined(g.heroImage[d.color])&&(J=g.heroImage[d.color].length);h=e-(b>=g.maxAlts?g.maxAlts-h-J:0);b=0<=h?b+h:e+J;b>=a&&(e=0,b=J);a=f.getImageHash(d.color,e,g);-1!==a&&(q.dispatch("updateModel",{data:{index:e,thumbnailIndex:b,variant:a.variant,type:"image",shoppableScene:a.shoppableScene}}),a=k.find(".item").get(b),f.selectGivenThumbnail(c(a),
k))}}}function u(c){if(!g.useChildVideos)return f.lazyLoadingRequired(n.getCurrentItem(),n,g)?void 0:g.videos;if(g.colorToVideo[c])return g.colorToVideo[c];var b=g.colorToAsin[c];if(b&&b.asin){var a={};a.params={asin:b.asin,productGroupID:g.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:g.useChromelessVideoPlayer,isUDP:g.isUDP};g.isDPXFeatureEnabled||(a.success=function(a){videosOnTwisterRefresh(a)},M.load(VIDEO_AJAX_ENDPOINT,a));return g.colorToVideo&&g.colorToVideo[c]}}function G(d,
b,a){if((2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment)&&a)return d;var e=u(b),h=f.isDefined(e)&&0<e.length&&g.alwaysIncludeVideo?1:0;b=g.colorImages&&g.colorImages[b];e=d;var q=0;f.isDefined(b)&&(c.each(b,function(a,b){if(q>=g.maxAlts-h&&d<g.maxAlts+g.additionalNumberOfImageAlts){if(2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment){var e=c(".thumbItemUnrolled");e[d]?e[d].querySelector("img").src=b.thumb:c('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
a+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(d+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(d+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(d+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+b.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".regularAltImageViewLayout"))}else f.createThumbnail({type:"image",
index:a,thumbnailIndex:d,variant:b.variant,shoppableScene:b.shoppableScene},b.thumb,k,"imageThumbnail");d++}q++}),I.isEnabled&&B.logAltImgRequestPlacedOnThumbnails(c,I,n),F(k,e,d,a,h));return d}function W(c,b){g.useIV&&f.isDefined(b.hiRes)&&c.css("cursor","pointer")}function A(d,b){if("image"===d.type&&S){var a=c("#image-canvas-caption #canvasCaption"),e=g.staticStrings,k=g.colorImages,h=d.color,r=d.index,q=!0;var n='\x3ca href\x3d"#"\x3e'+e.clickForFullView+"\x3c/a\x3e";f.isShoppableScenesEnabled()&&
d.shoppableScene?n=e.clickSceneTagsToShopProducts:b&&g.useIV?(n='\x3ca href\x3d"#"\x3e'+e.clickForFullView+"\x3c/a\x3e",q=!0):k[h]&&k[h][r].hiRes&&g.useHoverZoom?(g.useHoverZoomIpad?n=e.touchToZoom:g.useClickZoom&&(n=e.clickToZoom),g.hoverZoomIndicator&&(n="\x3cimg src\x3d'"+g.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+n)):g.useIV&&(n='\x3ca href\x3d"#"\x3e'+e.clickForFullView+"\x3c/a\x3e",q=!0);a.html(n);q&&(d=c("#image-canvas-caption #canvasCaption a"),m.declarative.create(d,"iv-open-caption-click"))}}
function z(d,b){var a="a-dynamic-image";if(!g.acEnabled){var e;c.each(d.main,function(a,b){f.isDefined(e)||(e=parseFloat(b[1]/b[0])<=parseFloat(g.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});a+=e}var k=f.getMaxDimensionsOfMainImage(d.main,C,g),h=k[0],q=k[1];k=c("\x3cdiv\x3e\x3c/div\x3e");h={"max-height":h,"max-width":q};k.addClass(a).css(h).attr({"data-old-hires":d.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",d.main);return k}function t(d,b,a){var e=
"desktop-dp-atf-ib-shoppablescenes-tags-"+d;"function"==typeof uet&&uet("bb",e,{wb:1});a.attr("data-a-image-name","shoppable-scene:"+d);a=w.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");a.addClass("celwidget").attr("cel_widget_id",e);a.children("span").css("display","inline-block");q.dispatch("initialize-shoppable-scene",{index:d,shoppableScene:b.shoppableScene,imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:a.find(".mirai-scene-tag-placeholder"),
$viewProductsButton:a.find(".mirai-scene-view-products-button")});"MutationObserver"in p&&(new MutationObserver(function(a,e){a.forEach(function(a){"childList"===a.type&&a.target.classList.contains("mirai-scene-image-block-tag-container")&&1===a.addedNodes.length&&"IMG"===a.addedNodes[0].tagName&&""!==a.addedNodes[0].src&&(a=a.addedNodes[0],"function"!==typeof a.onload&&(a.onload=function(){m.trigger("shoppable-scene-image-loaded",{index:d,shoppableScene:b.shoppableScene})}),e.disconnect())})})).observe(a.find(".mirai-scene-image-block-tag-container")[0],
{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",e,{wb:1});return a}function x(d,b,a){a=z(d,a);d=f.isShoppableScenesEnabled()&&d.shoppableScene?t(b,d,a):w.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");d.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});d.find(".placeHolder").replaceWith(a);w.find(".list").append(d);
m.loadImageManually(a);return d}function H(d){var b=C.css("height");null!==b&&d.find(".imgTagWrapper").css("height",b);d.addClass("selected");g.imgTagWrapperClasses&&d.find(".imgTagWrapper").addClass(g.imgTagWrapperClasses)}function K(d,b,a,e){if(2!==g.unrolledImageBlockTreatment&&3!==g.unrolledImageBlockTreatment||e||"unavailable"===d.type){if("image"===d.type||"unavailable"===d.type||"lazy-loaded"===d.type){a=f.getImageHash(d.color,d.index,g);if(-1===a)return b={data:{index:0,thumbnailIndex:0,variant:"",
type:"unavailable"}},f.lazyLoadingRequired(d,n,g)||(q.dispatch("updateModel",b),f.showUnavailable(d.color)),-1;e=w.find(".item.itemNo"+d.thumbnailIndex);f.isjQueryObjDefined(e)||(e=x(a,d.thumbnailIndex,b));H(e);q.dispatch("loadMagnifier");A(d);W(e,a);m.trigger("dp:image-block:update",a)}}else{d=g.colorImages&&g.colorImages[a];b=c(".unrolledImg");a=u(a);var k=f.isDefined(a)&&0<a.length&&g.alwaysIncludeVideo?1:0;b.length>g.maxAlts&&b.each(function(a){a>=g.maxAlts&&c(this).remove()});f.isDefined(d)&&
c.each(d,function(a,b){a<g.maxAlts-k+g.additionalNumberOfImageAlts&&a>=g.maxAlts-k&&c('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(a+k+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(a+k)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
(a+k)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hires\x3d"'+b.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".unrolledScrollBox .list-unrolled"))})}}function D(d){var b=n.getCurrentItem().color;g.colorImages[b]||(g.colorImages[b]=d);d={type:"updatedData",data:n.getCurrentItem()};q.dispatch("updateView",d);(b=g.colorToAsin[b])&&
b.asin&&L.register(f.rankedImagesReadyEvent(b.asin))}function N(){var d=w.find(".item .imgTagWrapper"),b=f.getContainerHeight(C,g.holderRatio,g.holderMaxHeight);0<b&&(C.height(b),d.height(b));w.find("img.a-dynamic-image").each(function(){var a=c(this);a.data("a-manual-replacement")&&m.loadDynamicImage(this);var b=a.data("a-dynamic-image");b=f.getMaxDimensionsOfMainImage(b,C,g);a.css({"max-height":b[0]+"px","max-width":b[1]+"px"})})}function h(d){A(n.getCurrentItem(),"mouseenter"===d.type)}var d,g,
n,q,k,w,C,E,S=(l=m.state("imageBlockStateData"))?!l.shouldRemoveCaption:!0;return function(l,b,a,e){d=this;g=l;n=b;q=e;m.on("triggerImageAjax",D);g.colorImages[g.landingAsinColor]=g.colorImages[g.defaultColor];d.render=function(a,b,e,d,h,y,v){w=e;k=d;C=h;E=G(b,a,y);y||(b=n.getCurrentItem(),f.lazyLoadingRequired(b,n,g)&&q.dispatch("updateModel",{data:{type:"lazy-loaded"}}));b=n.getCurrentItem();e=!y;f.lazyLoadingRequired(b,n,g)||(c("#imageBlock").css("opacity","1"),w.css("opacity","1"),f.spinner(w,
!1),w.find("li").removeClass("selected"),S&&c("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),e&&w.find(".list .item").remove());K(n.getCurrentItem(),v,a,y);return E};d.update=function(a){};g.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");q.register("imageHover",h);q.register("resize",N)}});"use strict";L.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(m,c,f){var p,l,I,B;return function(c,u,M,W){p=this;l=c;I=W;p.render=function(c,
u,t,x,M,K,D){B=x;p=this;t=l.maxAlts;x=u;M=l.colorImages[c]?l.colorImages[c].length:0;M+=f.getVideosCount(c,l);c=l.heroImage[c];K=0;c&&(K=c.length);c=M+K;c>t&&(t=c-t,c=B.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),t+="+",x={type:"ingress",index:0,thumbnailIndex:u,variant:""},c.find("#altIngressText").append(t),m.declarative.create(c,"thumb-action",x),B.append(c),x=u++);return x};p.update=function(c){"ingress"===c.data.type&&"click"===
c.type&&I.dispatch("imageClick",c)}}});"use strict";L.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(m,c,f,p){function l(h,d,g,n){if(!f.isjQueryObjDefined(h.find(".a-button-selected"))){var q=x.getCurrentItem();if(!n||"chromeless-video"!==q.type||!t.autoplayVideo){n=0;if("hero-image"===q.type){n=B(q.color,q.variant);if(-1===n)return;n=-1!==n?n:0}var k=d+n;k>=g&&(n=0,k=d);d=p.getHeroImageHash(t,q.color,n);-1!==d&&(H.dispatch("updateModel",{data:{index:n,
thumbnailIndex:k,variant:d.variant,type:"hero-image"}}),d=h.find(".item").get(k),f.selectGivenThumbnail(c(d),h))}}}function M(h,d,g){if("hero-video"===x.getCurrentItem().type)return h;d=t.heroImage&&t.heroImage[d];var n=h;f.isDefined(d)&&(c.each(d,function(d,c){h<t.maxAlts&&(f.createThumbnail({type:"hero-image",index:d,thumbnailIndex:h,variant:c.variant},c.thumb,K,"imageThumbnail"),h++)}),l(K,n,h,g));return h}function B(h,d){var g=t.heroImage;if(1>g.length||!f.isDefined(g[h])||!f.isDefined(d))return-1;
var n=-1;c.each(g[h],function(c,f){f.variant===d&&(n=c)});return n}function F(){if(D.length&&t.repositionHeroImage){var c=p.getHeroDimParams(t,x.getCurrentItem());if(f.isDefined(c)){var d=f.isDefined(c.xPos)?c.xPos+"px "+c.yPos+"px ":"center "+c.yPos+"px ";D.css({"background-position":d,"background-size":c.width+"px "+c.height+"px ","max-width":c.width+"px ","min-height":c.height+"px ",filter:"","-ms-filter":""})}}}function u(c,d,g,n){if(D.length&&c&&d){if("function"===typeof g||n){var h=new Image;
h.onload=n?function(){D.css("background-image",'url("'+c+'")')}:g;h.src=c}g=d[1];h=d[0];n||D.css({"background-image":'url("'+c+'")'});if(t.repositionHeroImage&&(d=p.getHeroDimParams(t,x.getCurrentItem(),d),f.isDefined(d))){g=d.width;h=d.height;var k=f.isDefined(d.xPos)?d.xPos+"px "+d.yPos+"px ":"center "+d.yPos+"px "}D.css({"background-position":k,"background-size":g+"px "+h+"px ","max-width":g+"px ","min-height":h+"px ",filter:"","-ms-filter":""})}}function G(f,d,g,n){f=p.getHeroImageHash(t,f,d);
if(-1===f)return-1;d=c.map(f.main,function(d,c){return c})[0];u(d,f.main[d],g,n)}function W(c,d,f){if("hero-image"!==c.type)return-1;var h=B(c.color,x.getCurrentItem().variant);h=-1!==h?h:0;if(-1===p.getHeroImageHash(t,c.color,h))return-1;var g=x.getCurrentItem();c.thumbnailIndex=g.thumbnailIndex;c.type=g.type;c.variant=g.variant;c.index=h;A(c,d,f)}function A(c,d,f){var g=p.getHeroImageHash(t,c.color,c.index);var h=c&&N&&m.equals(c,N)?!0:!1;N||(N=c);if(!h&&c||d)G(c.color,c.index,d,f),N=c;D.removeClass("hide-background");
m.trigger("dp:image-block:update",g)}var z,t,x,H,K,D,N={};return function(h,d,g,n){z=this;t=h;x=d;H=n;t.heroImage[t.landingAsinColor]=t.heroImage[t.defaultColor];z.render=function(d,f,g,h,n,l,m){K=h;D=c("#heroImage");d=M(f,d,l);W(x.getCurrentItem(),m,l);return d};z.update=function(c){var d=c.data;"ingress"!==d.type&&D.addClass("hide-background");"swatchHover"===c.type?c.captured||(d.type=x.getCurrentItem().type,-1!==W(d)&&(c.captured=!0)):"hero-image"===d.type&&(A(d),"click"!==c.type&&t.usePeekHover||
f.selectGivenThumbnail(c.$declarativeParent,K))};H.register("resize",F)}});"use strict";L.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(m,c,f,M,l,I){function B(c){K?c.css("cursor","url('"+A.staticImages.zoomIn+"'), auto"):(c.css("cursor","-webkit-zoom-in"),c.css("cursor","-moz-zoom-in"),c.css("cursor","zoom-in"))}function F(c){var d=c.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);c={};if(f.isDefined(d)){d=
d[1].split("_");for(var g=0;g<d.length;g++){var h=d[g].match(/^([A-Z]+)(\d+(\.\d+)?)$/);f.isDefined(h)&&(c[h[1]]=parseInt(h[2],10))}}return c}function u(h,d){function g(){if(d.useClickZoom){var a=d.offsetInClickZoom;a=[Math.min(1,Math.max(0,z[0]-(v[0]+a))/(v[2]-2*a)),Math.min(1,Math.max(0,z[1]-(v[1]+a))/(v[3]-2*a))]}else a=x&&x.updatePosition();if(a&&r&&r.detailSize){var b=[r.detailSize[0]-r.rect.width,r.detailSize[1]-r.rect.height];m.capabilities.rtl?r.detailImage.get(0).style.right=-(a[0]*b[0])+
"px":r.detailImage.get(0).style.left=-(a[0]*b[0])+"px";r.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function n(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function q(a){var b=T?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";z=T?[b.pageX,b.pageY]:[a.pageX,a.pageY];if(m.capabilities.rtl){var d=c(p).width();z=T?[d-b.pageX,b.pageY]:[d-a.pageX,a.pageY]}}function k(a){q(a);d.useClickZoom?a=[v[0],v[1],v[0]+v[2],v[1]+v[3]]:(a=x?x.offset:h.offsetParent().offset(),
a=A.acEnabled?[a.left,a.top,J.width()+a.left,J.height()+a.top]:[y[0]+a.left,y[1]+a.top,y[0]+y[2]+a.left,y[1]+y[3]+a.top]);return z[0]<a[0]||z[1]<a[1]||z[0]>=a[2]||z[1]>=a[3]||A.acEnabled&&!n(h)?!0:!1}function w(a){T&&a.preventDefault();N=k(a)?!1:!0}function u(a){T&&a.preventDefault();k(a)?(D||(d.fadeMagnifier?ca||(ca=!0,Y=setTimeout(function(){E(!0)},500)):d.useClickZoom||E(),X&&(X=!1,clearTimeout(ia))),D=!1):(X||(X=!0,ia=setTimeout(function(){M.postCountMetric("dppc_hoverZoomOpened");l.isEnabled&&
I.logHoverZoomRequestServed(l)},1E3)),d.fadeMagnifier&&ca&&(ca=!1,clearTimeout(Y)),D||g())}function E(a){a&&e.suppressMagnifier(!0);if(U){r&&r.hide();x&&(x.destroy(),x=null);D&&G();U=!1;T?(h.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),c(document).trigger("disengaged.magnifier")):c(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier");t();if(a)h.one("click.magnifier touchstart.magnifier",function(a){S(a,!0)});c(document).unbind("keydown.magnifier")}}function S(b,
f){f&&e.suppressMagnifier(!1);N||(D=!1);if(!(U||Q||D)){0===W&&(M.postCountMetric("dppc_hoverTime",new Date-(p.ue&&p.ue.t0||0)),W=1);aa[R]||(M.postCountMetric("dppc_hoverMain"),aa[R]=1);R&&(q(b),r?r.refit().show():r=new L,d.useClickZoom||(x=x||new H),v=r.getWindowSize(),g());U=!0;T?(h.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",u).bind("touchend.magnifier",E),c(document).trigger("engaged.magnifier")):(A.acEnabled?J.unbind("mousemove.magnifier"):h.unbind("mousemove.magnifier"),
c(document).trigger("engaged.magnifier").bind("mousemove.magnifier",u));if(f&&(b=c("#zoomWindow"),0<b.length))b.one("click.magnifier touchend.magnifier",function(a){E(!0)});c(document).bind("keydown.magnifier",a)}}function t(){d.useHoverZoom&&(T?h.bind("touchstart.magnifier touchmove.magnifier",S):(A.acEnabled?n(h)&&J.bind("mousemove.magnifier",S):h.bind("mousemove.magnifier",S),c(document).bind("mousemove.magnifierCursor",w)))}function b(a){return[a.position().left,a.position().top,a.width(),a.height()]}
function a(a){if("key"in a?"Escape"===a.key||"Esc"===a.key:27===a.keyCode)D=!0,E(!0)}var e=this,J=h.offsetParent(),O={detailImageUrl:h.attr("data-old-hires"),location:"over",locationElement:h,prelaod:"ready",zIndex:50,offsetInClickZoom:50};d=c.extend(O,d);d.adjustment=[10,0,-10,0];var r=null,x=null,z=null,y=b(h),v=null,fa={"null":1,"":1,undefined:1},U=!1,Q=!1,R=d.detailImageUrl,T=d.useHoverZoomIpad||0,W=0,aa={},H=function(){function a(a){var b=Math.round(Math.min(h.width(),r.rect.width/a));a=Math.round(Math.min(h.height(),
r.rect.height/a));g.css({width:b,height:a});e=[b,a]}var b=this,e=[0,0],f=(r.detailSize&&r.detailSize[0]||5E8)/y[2],k=(r.detailSize&&r.detailSize[1]||5E8)/y[3];f=k>f?k:f;c("#magnifierLens").remove();var g=c("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});d.generalImageUrls.zoomLensBackground&&g.css({backgroundImage:"url("+d.generalImageUrls.zoomLensBackground+")"});A.showMagnifierOnHover?B(g):g.css("cursor","pointer");b.updatePosition=function(){var a=[y[2]-e[0],y[3]-e[1]],c=0>=a[0]?
.5:Math.max(0,Math.min(1,(z[0]-e[0]/2-y[0]-b.offset.left)/a[0])),d=0>=a[1]?.5:Math.max(0,Math.min(1,(z[1]-e[1]/2-y[1]-b.offset.top)/a[1])),f=y[0]+Math.round(c*a[0]);a=y[1]+Math.round(d*a[1]);g.get(0).style.left=f+"px";g.get(0).style.top=a+"px";return[c,d]};b.destroy=function(){g.remove()};b.offset=h.offsetParent().offset();a(f);b.updatePosition();g.appendTo(h.parent());r.detailImage[0].complete||r.detailImage.load(function(){var c=r.detailImage.width()/y[2];a(c);b.updatePosition()})};H.preload=function(){e.preload(d.generalImageUrls.lensBackgroundUrl)};
var L=function(){function a(){var a={};if("over"===d.location){a=d.useClickZoom;var b={},g=c("#leftCol"),ra=c("#centerCol"),y=c("#rightCol"),v=c("#hover-zoom-end"),R=c("#actionPanelContainer"),J=f.isjQueryObjDefined(g)?g.outerHeight():ra.outerHeight();b.top=f.isjQueryObjDefined(g)?g.offset().top:ra.offset().top;b.bottom=J+b.top;b.right=f.isjQueryObjDefined(y)?y.offset().left:R.offset().left;b.left=a?0:g.offset().left+g.outerWidth();f.isjQueryObjDefined(v)&&v.offset().top>b.bottom&&(b.bottom=v.offset().top);
a=b}else"right"===d.location&&(a=h.offset(),a={left:a.left+h.outerWidth(),top:a.top,right:a.left+h.outerWidth()+400,bottom:a.top+400});d.minHeightElement&&(a.bottom=Math.max(a.bottom,a.top+c(d.minHeightElement).outerHeight()));a.bottom=Math.min(a.bottom,c(p).scrollTop()+c(p).height());a.left+=k[0];a.top+=k[1];a.right+=k[2];a.bottom+=k[3];a.width=a.right-a.left;a.height=a.bottom-a.top;d.enhancedHoverOverlay&&f.isDefined(p.pageXOffset)&&(b=c(p).width(),a.width=b-a.left+p.pageXOffset-18,a.height-=14);
Q.css({left:a.left,top:a.top,width:a.width,height:a.height});e.rect=a;return e}function b(a){var b=new Image;e.detailSize=[0,0];b.onload=function(){e.detailSize=[b.width,b.height];g()};b.src=a.attr("src");if(0<b.width&&0<b.height)e.detailSize=[b.width,b.height];else if(d.detailImageSize)e.detailSize=d.detailImageSize;else{a=F(b.src);var c=y[2]/y[3];a.SS||a.AA?(a=a.SS||a.AA,e.detailSize=[a,a]):a.SX?e.detailSize=[a.SX,Math.round(a.SX/c)]:a.SY?e.detailSize=[Math.round(a.SY*c),a.SY]:a.SL&&(e.detailSize=
1<=c?[a.SL,Math.round(a.SL/c)]:[Math.round(a.SL*c),a.SL])}}var e=this,k=d.adjustment;c("#zoomWindow").remove();var v={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:d.zIndex};d.enhancedHoverOverlay&&(v.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",v.border="1px solid #949494",v.borderColor="rgb(148,148,148)");var Q=c("\x3cdiv id\x3d'zoomWindow' /\x3e").css(v);d.fadeMagnifier&&Q.fadeIn(200);d.useClickZoom&&(K?Q.css("cursor",'url("'+d.zoomOutIcon+'"), auto'):(Q.css("cursor","-webkit-zoom-out"),
Q.css("cursor","-moz-zoom-out"),Q.css("cursor","zoom-out")));e.updateImage=function(a){a=c("\x3cimg id\x3d'detailImg' src\x3d'"+a+"'/\x3e").css("position","absolute");e.detailImage&&e.detailImage.remove();Q.append(a);c(document).trigger("updated.magnifier");e.detailImage=a;b(e.detailImage)};e.refit=function(){a();b(e.detailImage);return e};d.fadeMagnifier?(e.show=function(){Q.fadeIn(200);return e},e.hide=function(){Q.fadeOut(200);return e}):(e.show=function(){Q.show();return e},e.hide=function(){Q.hide();
return e});e.destroy=function(){Q.remove();return e};e.getWindowSize=function(){return[e.rect.left,e.rect.top,e.rect.width,e.rect.height]};e.updateImage(R);a();Q.appendTo(document.body)},ca=!1,Y,X=!1,ia;e.preload=function(a){a=c.makeArray(a);for(var b=a.length,d=0;d<b;d++)a[d]instanceof Array?e.preload(a[d]):"string"===typeof a[d]&&a[d]&&!fa[a[d]]&&(fa[a[d]]=new Image,fa[a[d]].src=a[d])};e.changeImage=function(a,f){U&&E();R=f;h.attr("src",a);e.preload(a);y=b(h);f&&("immediately"===d.preload?e.preload(f,
!0):c(p).ready(function(){e.preload(f)}),r?r.updateImage(f):h.attr("data-old-hires",f))};e.destroy=function(){A.acEnabled?J.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):h.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");c(document).unbind("mousemove.magnifier");x&&x.destroy();x=null;r&&r.destroy();r=null};e.detailImage=function(){return r.detailImage};e.suppressMagnifier=function(a){Q=a};e.isEngaged=function(){return U};e.engageMagnifier=
S;e.disengageMagnifier=E;h[0].complete?t():h.one("load",t);e.preload(h.attr("src"));p.performance&&performance.now&&p.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(d.preload){var ja=d.detailImageUrl;O=function(){e.preload(ja,!0);d.useClickZoom||H.preload()};var V=d.preload;V.constructor!==Array&&(V=[V]);for(var ba=0;ba<V.length;ba++)if("immediately"===V[ba])O();else if(c(p)[V[ba]])c(p)[V[ba]](O);else c(p).bind(V[ba],O)}return e}function G(){if(A.useHoverZoom){var h={adjustment:[0,
0,1,1],generalImageUrls:A.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:A.useHoverZoomIpad,useHoverZoom:A.useHoverZoom,useClickZoom:A.useClickZoom,fadeMagnifier:A.fadeMagnifier,zoomOutIcon:A.staticImages.zoomOutCur,enhancedHoverOverlay:A.enhancedHoverOverlay||A.atfEnhancedHoverOverlay};x&&(x.destroy(),x=Y);var d=H.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");f.isjQueryObjDefined(d)?
A.useClickZoom?(d.one("click.loadmagnifier touchstart.loadmagnifier",function(c){x=new u(d,h);x.engageMagnifier(c,!0)}),K?d.css("cursor",'url("'+A.staticImages.zoomInCur+'"), auto'):(d.css("cursor","-webkit-zoom-in"),d.css("cursor","-moz-zoom-in"),d.css("cursor","zoom-in"))):x=new u(d,h):l.isEnabled&&I.logHoverZoomApplicability(c,l)}}var W,A,z,t,x,H,K=navigator.userAgent.match(/msie|trident/i),D=!1,N=!1;return function(c,d,f,n){W=this;A=c;z=d;l.refToModel=z;t=n;W.render=function(c,d,f,g,h,l){H=f;
x&&(x.destroy(),x=Y)};W.update=function(c){};t.register("loadMagnifier",G);t.register("resize",G)}});"use strict";L.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(m,c,f,M){function l(c,l,m){c=(c=m?m:f.getColorFromState(l.getState().hovered_variations,F))&&""!==c?c:F.defaultColor;G.dispatch("updateView",{type:"swatchHover",data:{color:c}});M.postCountMetric("swatchHover")}function I(c,l,m,t){c=(c=t?t:f.getColorFromState(l.getState().selected_variations,
F))&&""!==c?c:F.defaultColor;c===u.getCurrentItem().color?"function"===typeof m&&m():(G.dispatch("updateSelection",{type:"swatchClick",data:{color:c},onload:function(){var c={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof p.markFeatureRender&&p.markFeatureRender("imageblock",c);m()}}),M.postCountMetric("swatchClick"))}var B,F,u,G;return function(c,f,p,t){B=this;F=c;u=f;G=t;m.on("image-block-twister-swatch-hover",l);m.on("image-block-twister-swatch-click",I);B.render=function(c,
f,m,l,p){};B.update=function(c){}}});"use strict";L.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(m,c,f,M,l,I,B){function F(a,b,e,d){if(!f.isjQueryObjDefined(a.find(".a-button-selected"))){var g=w.getCurrentItem();if(!d||"chromeless-video"!==g.type||!k.autoplayVideo)if(d=0,"image"===g.type&&(d=Math.max(A(g.color,g.variant),0)),!(g.thumbnailIndex>=k.maxAlts&&0!=d)){var y=b+d;y>=e&&(d=0,
y=b);b=f.getImageHash(g.color,d,k);-1!==b&&(C.dispatch("updateModel",{data:{index:d,thumbnailIndex:y,variant:b.variant,type:"image",shoppableScene:b.shoppableScene}}),b=a.find(".item").get(y),f.selectGivenThumbnail(c(b),a))}}}function u(a,b,e){if((2===k.unrolledImageBlockTreatment||3===k.unrolledImageBlockTreatment)&&e)return a;var d=k.colorImages&&k.colorImages[b];b=a;2!==k.unrolledImageBlockTreatment&&3!==k.unrolledImageBlockTreatment||c(".thumbItemUnrolled").each(function(a){(!c(this)[0].classList.contains("thumbTypeimage")||
a>=d.length||a>=k.maxAlts)&&c(this).remove()});f.isDefined(d)&&(c.each(d,function(b,e){if(a<k.maxAlts)if(2===k.unrolledImageBlockTreatment||3===k.unrolledImageBlockTreatment){a++;var g=c(".thumbItemUnrolled");g[b]?g[b].querySelector("img").src=e.thumb:c('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+b+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+a+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+
a+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+a+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+e.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".regularAltImageViewLayout"))}else b={type:"image",index:b,thumbnailIndex:a,variant:e.variant,shoppableScene:e.shoppableScene},e=f.createThumbnail(b,e.thumb,Z,"imageThumbnail"),"T1"!==k.desktopCollapsibleThumbnailsExperience&&"T2"!==k.desktopCollapsibleThumbnailsExperience||
f.updateImageThumbnailOverlay(e,b,d),a++}),I.isEnabled&&B.logAltImgRequestPlacedOnThumbnails(c,I,w),F(Z,b,a,e));return a}function G(a,b){k.useIV&&f.isDefined(b.hiRes)&&a.css("cursor","pointer")}function W(a,b){if("image"===a.type&&Y){var e=c("#image-canvas-caption #canvasCaption"),d=k.staticStrings,g=k.colorImages,h=a.color,y=a.index,v=!1;if(f.isShoppableScenesEnabled()&&a.shoppableScene)var l=d.clickSceneTagsToShopProducts;else b&&k.useIV?(l='\x3ca href\x3d"#"\x3e'+d.clickForFullView+"\x3c/a\x3e",
v=!0):g[h]&&g[h][y].hiRes&&k.useHoverZoom?(k.useHoverZoomIpad?l=d.touchToZoom:k.useClickZoom?l=d.clickToZoom:(l='\x3ca href\x3d"#"\x3e'+d.clickForFullView+"\x3c/a\x3e",v=!0),k.hoverZoomIndicator&&(l="\x3cimg src\x3d'"+k.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+l)):k.useIV&&(l='\x3ca href\x3d"#"\x3e'+d.clickForFullView+"\x3c/a\x3e",v=!0);e.html(l);v&&(a=c("#image-canvas-caption #canvasCaption a"),m.declarative.create(a,"iv-open-caption-click"))}}function A(a,b){return f.getIndexForVariant(a,b,
k)}function z(a,b,c){var d=b.thumbnailIndex,f=k.colorToAsin[b.color]&&k.colorToAsin[b.color].asin;b="altImageHover"===c&&e&&e.altImageIdx===d&&e.asin===f&&"swatchClick"===e.event?!0:"swatchHover"===c?e&&e.asin===f&&e.event===c:e&&e.altImageIdx===d&&e.asin===f&&e.event===c;if(!b){var g="#",h=a.find(".imgTagWrapper img").get(0);h&&(g=h.src);a=new Image;a.onload=function(){if(h){h.src=g;var a=h.width,b=h.height,e=h.naturalWidth,k=h.naturalHeight;try{var y=(Math.abs(a/e*k-b)/b).toFixed(2);.01<y&&(p.ue&&
((("landing"!==c||r||P)&&"swatchClick"!==c||p.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===c||"swatchClick"===c)?p.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==c||P?"altImageHover"!==c||r||(p.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),r=!0):(p.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),P=!0)),p.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},p.ueLogError("swatchHover"===c?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+
f+" Event:"+c+" Diff:"+y.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+f+" at altImageIdx "+d+" Event:"+c+" Diff:"+y.toString()+"]"},a)))}catch(ha){p.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},p.ueLogError(ha,a))}}};"#"!==g&&(a.src=g);e.altImageIdx=d;e.asin=f;e.event=c}}function t(b,e){var d="a-dynamic-image";if(!k.acEnabled){var g;c.each(b.main,function(a,b){f.isDefined(g)||(g=parseFloat(b[1]/b[0])<=parseFloat(k.holderRatio)?
" a-stretch-vertical":" a-stretch-horizontal")});d+=g}var h=f.getMaxDimensionsOfMainImage(b.main,a,k),y=h[0],v=h[1];h=c("\x3cdiv\x3e\x3c/div\x3e");y={"max-height":y,"max-width":v};h.addClass(d).css(y).attr({"data-old-hires":b.hiRes,"data-a-manual-replacement":"true",onload:e}).data("a-dynamic-image",b.main);return h}function x(a,c,e){var d="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",d,{wb:1});e.attr("data-a-image-name","shoppable-scene:"+a);e=b.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
e.find(".mirai-scene-image-block-tag-container").attr({"data-csa-c-content-id":d,"data-csa-c-slot-id":d,"data-csa-c-type":"widget","data-csa-c-asin":k.mediaAsin,"data-csa-c-physical-id":c.shoppableScene.physicalId,"data-product-line":c.shoppableScene.productLine});e.children("span").css("display","inline-block");C.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:c.shoppableScene,imageSource:c.hiRes||c.large||c.lowRes,$tagPlaceholder:e.find(".mirai-scene-tag-placeholder"),$viewProductsButton:e.find(".mirai-scene-view-products-button")});
"MutationObserver"in p&&(new MutationObserver(function(b,e){b.forEach(function(b){"childList"===b.type&&b.target.classList.contains("mirai-scene-image-block-tag-container")&&1===b.addedNodes.length&&"IMG"===b.addedNodes[0].tagName&&""!==b.addedNodes[0].src&&(b=b.addedNodes[0],"function"!==typeof b.onload&&(b.onload=function(){m.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:c.shoppableScene})}),e.disconnect())})})).observe(e.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,
childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",d,{wb:1});return e}function H(a,c,e){e=t(a,e);a=f.isShoppableScenesEnabled()&&a.shoppableScene?x(c,a,e):b.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");a.addClass("image item itemNo"+c+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":c+1});a.find(".placeHolder").replaceWith(e);b.find(".list").append(a);
m.loadImageManually(e);m.trigger("dp:image-block:imageBlockImageLoad",c);return a}function K(b){var c=a.css("height");null!==c&&b.find(".imgTagWrapper").css("height",c);b.addClass("selected");k.imgTagWrapperClasses&&b.find(".imgTagWrapper").addClass(k.imgTagWrapperClasses)}function D(a){if(a.isUserGenerated){var b=w.getPreviousItem(),c=a.variant;f.isDefined(c)&&b.thumbnailIndex!==a.thumbnailIndex&&(I.isEnabled&&B.logAltImgRequestServed(I),l.postCountMetric("ImageThumbnailSelectedVariant:"+c),0===
c.indexOf("IG")&&(l.postCountMetric("IGImageSelectedVariant:"+c),l.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function N(a,e,d,g){if(2!==k.unrolledImageBlockTreatment&&3!==k.unrolledImageBlockTreatment||g||"unavailable"===a.type){if("image"===a.type||"unavailable"===a.type||"lazy-loaded"===a.type){(h=f.isDefined(e))&&l.postCountMetric("mainImageUpdateOnTwisterVariationClick");d=f.getImageHash(a.color,a.index,k);if(-1===d)return e={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},
f.lazyLoadingRequired(a,w,k)||(C.dispatch("updateModel",e),f.showUnavailable(a.color)),-1;g=b.find(".item.itemNo"+a.thumbnailIndex);f.isjQueryObjDefined(g)||(g=H(d,a.thumbnailIndex,e),h?(P=r=!1,z(g,a,"swatchClick")):z(g,a,"altImageHover"));K(g);C.dispatch("loadMagnifier");W(a);G(g,d);D(a);m.trigger("dp:image-block:update",d)}}else if(a=k.colorImages&&k.colorImages[d],c(".unrolledImg").each(function(a){c(this).remove()}),f.isDefined(a)){c.each(a,function(a,b){if(a<k.maxAlts){var e=c(".unrolledImg");
e[a]?c(".unrolledImg #unrolledImgNo"+a+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hires\x3d"'+b.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):a>=e.length&&c('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(a+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+a+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
a+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hires\x3d"'+b.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".unrolledScrollBox .list-unrolled"))}});m.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img"));var h=f.isDefined(e);h&&(l.postCountMetric("mainImageUpdateOnTwisterVariationClick"),
e())}}function h(a){var c=Math.max(A(a.color,w.getCurrentItem().variant),0);c=f.getImageHash(a.color,c,k);if(-1===c)return f.lazyLoadingRequired(a,w,k)||f.showUnavailable(a.color),-1;var e=b.find(".swatchHoverExp"),d=t(c);e.find(".imgTagWrapper").html(d);m.loadImageManually(d);l.postCountMetric("mainImageUpdateOnTwisterVariationHover");K(e);z(e,a,"swatchHover");m.trigger("dp:image-block:update",c)}function d(a,e){f.lazyLoadingRequired(a,w,k)||(c("#imageBlock").css("opacity","1"),b.css("opacity","1"),
f.spinner(b,!1),b.find("li").removeClass("selected"),Y&&c("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),e&&b.find(".list .item").remove())}function g(){var e=b.find(".item .imgTagWrapper"),d=f.getContainerHeight(a,k.holderRatio,k.holderMaxHeight);0<d&&(a.height(d),e.height(d));b.find("img.a-dynamic-image").each(function(){var b=c(this);b.data("a-manual-replacement")&&m.loadDynamicImage(this);var e=b.data("a-dynamic-image");e=f.getMaxDimensionsOfMainImage(e,a,k);b.css({"max-height":e[0]+
"px","max-width":e[1]+"px"})})}function n(a){W(w.getCurrentItem(),"mouseenter"===a.type)}var q,k,w,C,E,S,Z,b,a,e={},J,O=null,r=!1,P=!1,Y=(M=m.state("imageBlockStateData"))?!M.shouldRemoveCaption:!0;m.on("triggerImageAjax",function(a){var b=w.getCurrentItem().color;k.colorImages[b]||(k.colorImages[b]=a);a={type:"updatedData",data:w.getCurrentItem()};C.dispatch("updateView",a);(b=k.colorToAsin[b])&&b.asin&&L.register(f.rankedImagesReadyEvent(b.asin))});return function(e,m,r,K){q=this;k=e;w=m;C=K;k.colorImages[k.landingAsinColor]=
k.colorImages[k.defaultColor];q.render=function(e,g,h,l,m,n,E,r){b=2!==k.unrolledImageBlockTreatment&&3!==k.unrolledImageBlockTreatment?h:c(".unrolledScrollBox");Z=l;a=m;J=u(g,e,n);n?0===g&&z(b.find(".item.itemNo0"),w.getCurrentItem(),"landing"):(g=w.getCurrentItem(),f.lazyLoadingRequired(g,w,k)&&C.dispatch("updateModel",{data:{type:"lazy-loaded"}}));d(w.getCurrentItem(),!n);2===k.unrolledImageBlockTreatment||3===k.unrolledImageBlockTreatment?"swatchClick"===r&&k&&k.colorImages?(O=k.colorImages[e],
N(w.getCurrentItem(),E,e,n)):"updatedData"===r&&k&&k.colorImages&&k.colorImages[e]!==O&&(O=k.colorImages[e],N(w.getCurrentItem(),E,e,n)):N(w.getCurrentItem(),E,e,n);return J};f.isImageBlockGridViewHoverDelayEnabled()?q.update=function(a){var b=a.data;w.setCurrentEvent(a);"ingress"!==b.type&&"swatchHover"!==a.type&&(w.setToPreviousItem(),"mouseenter"===a.type?(S&&clearTimeout(S),S=setTimeout(function(){w.setToCurrentItem(b);d(a.data,!1)},f.getHoveringDelayTimer())):"mouseleave"===a.type?S&&clearTimeout(S):
"click"===a.type&&(w.setToCurrentItem(b),d(a.data,!1)));"swatchHover"===a.type?("ingress"!==b.type&&d(a.data,!1),b.color===w.getCurrentItem().color?N(w.getCurrentItem(),null,b.color,!0):a.captured||-1===h(b)||(a.captured=!0)):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type?(l.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+J),E&&clearTimeout(E),E=setTimeout(function(){N(b,null,b.color,!0);k.usePeekHover||f.selectGivenThumbnail(a.$declarativeParent,
Z)},f.getHoveringDelayTimer())):"mouseleave"===a.type?E&&clearTimeout(E):"click"===a.type&&(N(b,null,b.color,!0),f.selectGivenThumbnail(a.$declarativeParent,Z),l.postCountMetric("dpcc_imageThumbClicked_total"),l.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+J)))}:q.update=function(a){var b=a.data;w.setCurrentEvent(a);"ingress"!==b.type&&d(a.data,!1);"swatchHover"===a.type?b.color===w.getCurrentItem().color?N(w.getCurrentItem(),null,b.color,!0):a.captured||-1===h(b)||(a.captured=
!0):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type&&l.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+J),N(b,null,b.color,!0),k.usePeekHover&&"click"!==a.type||(f.selectGivenThumbnail(a.$declarativeParent,Z),"click"===a.type&&(l.postCountMetric("dpcc_imageThumbClicked_total"),l.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+J))))};k.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");C.register("imageHover",n);
C.register("resize",g)}});"use strict";L.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(m,c,f,p){function l(f,l){f=c("\x3cimg src\x3d'"+(l?t.staticImages.shoppableSceneDotHighlighted:t.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");f.css({display:l?"none":"inline-block"});f.addClass("mirai-scene-tag").addClass(l?"active-tag":"inactive-tag");return f}function M(f){var p=c("\x3cspan\x3e");m.each(f.tags,function(f){var h=c("\x3cdiv\x3e").css({position:"absolute",
left:100*f.left+"%",top:100*f.top+"%",height:"auto",width:"auto"});h.append(l(f,!1));h.append(l(f,!0));h.bind("mouseenter",function(){B(c(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});m.declarative.create(h,"scenes-show-details-tags-ib",{tagId:f.link});p.append(h)});return p.children()}function B(c){c.addClass("mirai-scene-dot-pulsate");m.delay(function(){c.removeClass("mirai-scene-dot-pulsate")},4E3)}function F(c,f){c.css({display:"none"});f.css({display:"inline-block"})}function u(c,
f,l){c.eq(l).css({display:"inline-block"});f.eq(l).css({display:"none"})}function G(c){L.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){m.trigger("mirai:scene-details-change",{physicalId:c})})}function W(){var f=c("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),l=c("\x3cimg class\x3d'item-tag'\x3e").attr("src",t.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),m=c("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");
m.html(t.staticStrings.shoppableSceneViewProductsButton);return f.append(l).append(m)[0].outerHTML}function A(c){function f(){c.$tagPlaceholder.replaceWith(h);var d=h.find(".mirai-scene-tag.active-tag"),f=h.find(".mirai-scene-tag.inactive-tag");u(d,f,0);B(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));H=!0;c.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+c.index,{wb:1});q=!0;p.postCountMetric("miraiShoppableScenes_imageLoadedCount")}
if(c.shoppableScene){var l=c.$viewProductsButton.find(".a-button-text");if(0===l.children().length){l.append(W());m.declarative.create(c.$viewProductsButton,"scenes-show-details-view-products-ib",{tagId:c.shoppableScene.tags[0].link});var h=M(c.shoppableScene),d=h.find(".mirai-scene-tag.active-tag"),g=h.find(".mirai-scene-tag.inactive-tag"),n=c.shoppableScene.physicalId,q=!1;m.on("mirai:index:change",function(c){c.scenePhysicalId===n&&(c=c.selectedIndices[0],F(d,g),u(d,g,c),B(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(c)),
H=!0)});m.on("mirai:scene-details-change",function(c){c.physicalId!==n||H||(F(d,g),u(d,g,0),B(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),H=!0)});m.on("mirai:no-products-active",function(c){c.scenePhysicalId===n&&F(d,g)});m.on("mirai:set-first-product-active",function(c){c.scenePhysicalId===n&&(F(d,g),u(d,g,0))});m.on("a:image:load:shoppable-scene:"+c.index,function(){q||(f(),p.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});m.on("shoppable-scene-image-loaded",
function(d){d.index!=c.index||q||(f(),p.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});L.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",function(){m.trigger("mirai:scene-side-sheet-init",{icons:t.staticImages,strings:t.staticStrings});m.trigger("mirai:scene-details-init",{scene:c.shoppableScene,imageSource:c.imageSource})})}}}var z,t,x,H=!1;return function(c,l,m,h){z=this;t=c;x=h;f.isShoppableScenesEnabled()?(x.register("initialize-shoppable-scene",
A),z.render=function(c,f,h,l,k,m,p){},z.update=function(c){"mouseenter"===c.type&&(c.data.shoppableScene?G(c.data.shoppableScene.physicalId):H=!1)}):(c=function(){},z.render=c,z.update=c)}});L.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";var X="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"===typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m};L.when("A",
"jQuery","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(m,c,f,M,l,I,B,F){function u(b){return null!==b&&"undefined"!==typeof b}function G(b){var a=0;c.each(b,function(b,c){b=parseInt(c[1],10);b>a&&(a=b)});return a}function L(b){var a=0;c.each(b,function(b,c){b=parseInt(c[0],10);b>a&&(a=b)});return a}function A(b,a,c){a=a.width();if(c.naturalMainImageSize)return a;b=G(b);0<b&&(a=Math.min(a,
b));return a}function z(b,a,c){a=a.height();if(c.naturalMainImageSize)return a;b=L(b);0<b&&(a=Math.min(a,b));return a}function t(b){var a;c.each(b,function(b,c){u(a)||(a=c[1]/c[0])});return a||1}function x(b){if(b){if(0<b.indexOf(".m3u8"))return"application/x-mpegURL";if(0<b.indexOf(".mp4"))return"video/mp4"}return""}function H(b,a){a=a.find("img");u(a[b])&&c(a[b]).click()}function K(b,a){k[b]=a?a:k[b];return k[b]}function D(b,a,e){e=e||q;e=e.colorImages;if(1>e.length||!u(e[b])||!u(a))return-1;var d=
-1;c.each(e[b],function(b,c){c.variant===a&&(d=b)});return d}function N(b,a,e){e=e||q;e=e.colorImages;return!(u(e)&&u(e[b])&&u(e[b][a])&&u(e[b][a].main))||1>c.map(e[b][a].main,function(a,b){return b}).length?-1:e[b][a]}function h(b,a,c,d){d.parent().css("z-index",2);0!==c&&0!==a&&(a/=c,d.css("width",""),d.css("height",""),b>a?d.css("width",a/b*100+"%"):d.css("height",b/a*100+"%"))}function d(b,a){var e;if(e=b.useIV)e=b.colorImages&&b.colorImages[a]&&0<b.colorImages[a].length?!0:!1;b=e;I.isEnabled&&
(I.IVApplicaple=b,B.logImmersiveViewApplicability(c,I));return b}function g(){return 0<c(".gridImageBlockViewLayoutIn2x4").length||0<c(".gridImageBlockViewLayoutIn2x5").length||0<c(".gridImageBlockViewLayoutIn1x7").length}var n,q=c.extend(!0,{},M,l),k={},w=0,C=0,E=/gridAltImageViewLayoutIn(\d+)x(\d+)/g,S={},Z={};return{isDefined:u,isDefinedAndEmpty:function(b){return u(b)&&"object"===("undefined"===typeof b?"undefined":X(b))&&0===Object.keys(b).length},isUndefinedOrEmpty:function(b){return u(b)?"object"===
("undefined"===typeof b?"undefined":X(b))&&0===Object.keys(b).length:!0},isDefinedAndNotEmpty:function(b){return u(b)?"object"===("undefined"===typeof b?"undefined":X(b))&&0<Object.keys(b).length:!1},isjQueryObjDefined:function(b){return 0!==b.length},getAspectRatio:t,getMaxHeightOfMainImage:z,getMaxWidthOfMainImage:A,getMaxDimensionsOfMainImage:function(b,a,c){if(c.acEnabled)return[a.height(),a.width()];var e=z(b,a,c);a=A(b,a,c);b=t(b);c=a/b;a=Math.min(a,e*b);e=Math.min(e,c);return[e,a]},getContainerHeight:function(b,
a,c){var e=b.get(0);b=0;if(u(e)){b=Math.min(e.offsetWidth/a,c);var d;a=q.mainImageHeightPartitions;c=q.mainImageMaxSizes;if(u(c)&&u(a)){var f=0,g=p.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;for(e=0;e<a.length;e++)g>a[e]&&(f=e+1);c.length>=f&&(d=c[f])}u(d)&&(b=Math.min(d[1],b))}return b},getColorFromState:function(b,a){if(b){a=a||q;var e="";c.each(a.visualDimensions,function(a,c){b[c]&&(e+=" "+b[c])});return e&&e.substring(1)}},createThumbnail:function(b,a,c,d){var e=
c.find(".template").clone().removeClass("template").addClass("item"),f=document.createElement("img");f.src=a;e.find(".placeHolder").replaceWith(f);(a=b.heroVideoVariant)&&"hero-image"===b.type&&b.variant===a&&e.addClass("heroImageThumbnail");u(d)&&e.addClass(d);g()&&e&&(d=document.createElement("div"),d.className="imageBlockThumbnailImageGrayOverlay",f.parentNode.insertBefore(d,f));m.declarative.create(e,"thumb-action",b);e.attr&&(e.attr("data-ux-click",""),b.type&&b.type.match(/video/)?(e.attr("data-csa-c-type",
"uxElement"),e.attr("data-csa-c-element-type","navigational"),e.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(e.attr("data-csa-c-type","uxElement"),e.attr("data-csa-c-element-type","navigational"),e.attr("data-csa-c-action","image-block-alt-image-hover")),e.attr("data-csa-c-posy",b.thumbnailIndex+1));c.append(e);return e},updateImageThumbnailOverlay:function(b,a,c){b.find(".textMoreImages").append(c.length-a.thumbnailIndex+"+")},selectGivenThumbnail:function(b,a){b=b.find(".a-button");
a.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");b.addClass("a-button-selected").addClass("a-button-focus")},loadMediaIntoAiry:function(b,a,c,d){b&&b.getMediaSourceInfo()!==a.url&&(d?b.loadMedia?(n={mediaSourceInfo:[a.url],contentId:a.mediaObjectId,refTag:"vse_ib_tablet_web",title:a.title,altText:a.altText},b.loadMedia(n)):b.play({videoUrl:a.url,imageUrl:a.slateUrl,mimeType:"video/mp4",contentId:a.mediaObjectId,rankingStrategy:a.rankingStrategy,refTag:"vse_ib_tablet_web"}):
b.loadMedia?b.loadMedia({mediaSourceInfo:a.url,contentId:a.mediaObjectId,contentMinAge:Number(a.minimumAge||"")||0,contentTitle:a.title,slateImages:{preloadSlate:a.slateUrl,postMediaSlate:a.slateUrl}}):b.setInitialData({videoUrl:a.url,mimeType:x(a.url),contentId:a.mediaObjectId,rankingStrategy:a.rankingStrategy,imageUrl:a.slateUrl,aciContentId:a.aciContentId,title:a.title,altText:a.altText}))},showUnavailable:function(b){b&&(c("#imageBlock .unvailableVariation").html(b),c("#imageBlock .variationUnavailable").show())},
hideUnavailable:function(){c("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:function(b,a,c){a.fadeTo(500,0,function(){H(b,c);a.fadeTo(500,1)})},toggleVideoCaption:function(b){b&&b.toggle()},selectThumbnail:H,spinner:function(b,a){var e=c("#imageBlock .a-spinner").parent();0===e.length&&(e=c("\x3cdiv\x3e\x3c/div\x3e").append(c("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),b.append(e),e.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)",
"-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));a?e.show():e.hide();return e},rankedImagesReadyEvent:function(b){return"ranked-images-ready-for-"+b},ajaxState:K,getIndexForVariant:D,getImageHash:N,lazyLoadingRequired:function(b,a,c){a=Math.max(D(b.color,a.getCurrentItem().variant,c),0);a=-1!==N(b.color,a,c);b=c.colorToAsin[b.color]&&c.colorToAsin[b.color].asin;
b=!b||"success"!==K(b);return!c.lazyLoadExperienceDisabled&&!a&&b},lazyLoadOnHoverEnabled:function(b){return!b.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:h,repositionVideoBanner:function(b,a,c,d){setTimeout(function(){var c=b.width()/b.height();h(c,16,9,a)},d||0)},getVideosCount:function(b,a){return a.useChildVideos&&a.colorToVideo[b]?a.colorToVideo[b].length:a.videos?a.videos.length:0},getVideoHash:function(b,a,c){if(c.useChildVideos){if(!u(c.colorToVideo))return-1;b=c.colorToVideo[b]}else b=
c.videos;return u(b)&&u(b[a])&&u(b[a].url)?b[a]:-1},isImmersiveViewEnabled:d,playVideoInImmersiveView:function(b,a){return d(b,a)&&b.useTabbedImmersiveView},useTabbedImmersiveView:function(b){return b.useTabbedImmersiveView},getMediaSourceInfo:function(){return u(n)?n.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(b,a,c){return{requester:"DetailPageTablet",marketplaceID:c.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:c.languageCode,page:"DetailPageTablet",placement:"ImageBlock",
metadata:{shouldPreload:!1},video:{videoURL:c.url,imageURL:c.slateUrl}}},addTag:function(b){p.ue&&p.ue.tag&&p.ue.tag(b)},isShoppableScenesEnabled:function(){return F.isEnabled&&0<c(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:g,isImageBlockGridViewHoverDelayEnabled:function(){return 0<c(".gridImageBlockViewLayoutIn2x4").length||0<c(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return w},updateThumbnailHoverDelay:function(b){if(u(b)){w=
0;var a=b.closest("li");a=a.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(a);if(-1!==a){var c=C;b=b.closest("ul").attr("class");b===Y?c=!1:(b=E.exec(b),null===b||3!==b.length?c=!1:(b=b[2],c=Math.floor(c/b)>Math.floor(a/b)));c&&(w=100);C=a}}},setDimensionIngressData:function(b,a,c){S[b]=a;Z[b]=c},isDimensionIngressEnabled:function(b){return!!S[b]},getDimensionVariantList:function(b){return Z[b]},logError:function(b,a,c,d){p.ueLogError&&p.ueLogError(d,{logLevel:b,attribution:a,
message:c})},customerId:""}});"use strict";L.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(m,c,f,M,l,I){function B(b,d,g,h){!a.autoplayVideo||ia||a.useChromelessVideoPlayer?!f.isjQueryObjDefined(b.find(".a-button-selected"))&&(g=e.getCurrentItem(),!h||a.prioritizeVideos||"chromeless-video"===g.type&&a.autoplayVideo)&&(h=f.getVideoHash(g.color,0,a),-1===h||g.thumbnailIndex>=a.maxAlts-1||(d+=0,J.dispatch("updateModel",
{data:{index:0,thumbnailIndex:d,variant:h.variant,type:a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),d=b.find(".item").get(d),f.selectGivenThumbnail(c(d),b))):(f.selectGivenThumbnail(b.find("img:last"),b),f.fadeToThumbnail(b.find("img").length-1,X,b))}function F(b){var c=e.getCurrentItem().color;if(a.useChildVideos&&!a.colorToVideo[c]){var d=function(){if(b){a.colorToVideo[c]=b;var d={type:"updatedData",data:e.getCurrentItem()};J.dispatch("updateView",d)}};a.lazyLoadExperienceDisabled?
d():L.when(f.rankedImagesReadyEvent(a.colorToAsin[c].asin)).execute(function(){d()})}}function u(b){if(!a.useChildVideos)return f.lazyLoadingRequired(e.getCurrentItem(),e,a)?void 0:a.videos;if(a.colorToVideo[b])return a.colorToVideo[b];var c=a.colorToAsin[b];if(c&&c.asin){var d={};d.params={asin:c.asin,productGroupID:a.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:a.useChromelessVideoPlayer,isUDP:a.isUDP};a.isDPXFeatureEnabled||(d.success=function(a){F(a)},M.load("/gp/product/features/apparel-main-image/videos.html",
d));return a.colorToVideo&&a.colorToVideo[b]}}function G(b){v&&null===b&&2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment&&(v.hide(),r.parent().css("z-index",-1),P&&P.hide())}function W(b,c,d){c=X.width()/X.height();var e=parseInt(b.videoWidth,10),g=parseInt(b.videoHeight,10);f.updateAspectRatio(c,e,g,r);if(v&&"unrolled-video-add"!==d)v.show(),f.loadMediaIntoAiry(v,b,fa,a.tabletWeb);else if(a.tabletWeb)v=R;else{if("unrolled-video-add"===d){v=R;return}if(null===R||R===Y)V=setInterval(function(){v=
R;v!==Y&&null!==v&&(v.show(),f.loadMediaIntoAiry(v,b,fa,a.tabletWeb),A(),D(v),clearInterval(V),V=null)},500);else if(v=R,v!==Y&&null!==v){v.show();f.loadMediaIntoAiry(v,b,fa,a.tabletWeb);A();D(v);return}}A();D(v)}function A(){if(2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment)if(f.useTabbedImmersiveView(a)){if(1<f.getVideosCount(e.getCurrentItem().color,a)&&P){if(f.isDefined(y)){P.show();return}y=c('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(a.staticStrings.clickForFullView);
P.find("#videoCaption").append(y);m.declarative.create(y,"videoIngressClick",U)}f.playVideoInImmersiveView(a,e.getCurrentItem().color)&&(m.declarative.create(r,"videoIngressClick",U),r.attr&&r.attr("data-ux-click",""),r.children().css("z-index","-1"),r.css("display","inline-block"))}else P&&(P.find("#videoCaption").text(a.staticStrings.playVideo),P.show())}function z(b,c){if("chromeful-video"===b.type||"chromeless-video"===b.type||"unrolled-video-add"===c){var d=f.getVideoHash(b.color,b.index,a);
if(-1===d)return-1;"chromeful-video"===b.type&&W(d,b.thumbnailIndex+1,c)}}function t(a){na||(na=!0,l.postCountMetric("chromeless-video"===a?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}function x(b,d,g){if((2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment)&&g)return b;var h=u(d);d=b;var k=c(".unrolledImg"),n=f.isDefined(h)&&0<h.length&&a.alwaysIncludeVideo?1:0;f.isDefined(h)&&0<h.length&&!a.alwaysIncludeVideo&&b===a.maxAlts&&l.postCountMetric("IBVideoDrop");
k.length>a.maxAlts&&k.each(function(b){b>=a.maxAlts&&c(this).remove()});n&&b===a.maxAlts&&(2===a.unrolledImageBlockTreatment||3==a.unrolledImageBlockTreatment?(c(".thumbItemUnrolled").last().remove(),c(".unrolledImg").last().remove()):O.find(".item:last").remove(),b--);f.isDefined(h)&&(c.each(h,function(d,g){if(b<a.maxAlts){if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var k=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";c('\x3cli class\x3d"thumbItemUnrolled thumbType'+
k+" thumbIndex"+d+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+b+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+b+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+b+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+g.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c("ul.regularAltImageViewLayout"));
c('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+b+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+b+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
b+'" class\x3d"videoIndex'+d+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(c(".unrolledScrollBox .list-unrolled"));a.dp60InLastPositionUnrolledImageBlock||2!==a.dp60VideoPosition||H(c(".regularAltImageViewLayout"),a.dp60VideoPosition)}else{k=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";var m={type:k,index:d,thumbnailIndex:b,variant:g.variant};U={type:"video-ingress",index:d,thumbnailIndex:b,variant:g.variant};f.useTabbedImmersiveView(a)&&("chromeful-video"===
k&&(ja+=" videoBlockIngress  videoBlockDarkIngress",g.thumb=g.thumb.replace("_PKmb-play-button-overlay-thumb","")),a.altsOnLeft||(ja+=" a-align-top"));f.isImageBlockGridViewDisplayEnabled()&&(ja+=" videoImageBlockGridView");f.createThumbnail(m,g.thumb,O,ja);2===a.dp60VideoPosition&&H(O,a.dp60VideoPosition);f.useTabbedImmersiveView(a)&&(K(O.find(".videoBlockIngress img"),a.videoIngressATFSlateThumbURL),d=1<h.length?"multiple-videos":"one-video",(m=1<h.length?h.length+" "+a.staticStrings.multipleVideos:
a.staticStrings.singleVideo)&&O.find(".videoBlockIngress").append(O.find("#videoCount_template").clone().text(m).attr("id","videoCount")).addClass(d));qa=f.useTabbedImmersiveView(a)?h.map(function(a){return a.mediaObjectId}).join(","):g.mediaObjectId;g=l.buildNexusMetric("ib.thumbnailRender",b+1,g.mediaObjectId,g.rankingStrategy,f.customerId,g.groupType,ea,T,aa,da,qa);d=S(a,e.getCurrentItem().color);d!==g.pageAsin&&(g.pageAsin=d,g.pageUrl=Z(d));l.emitNexusMetric(g);t(k)}b++}if(f.useTabbedImmersiveView(a))return!1}),
B(O,d,b,g),q(w),a.imageBlockRenderingStartTime&&l.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",m.now()-a.imageBlockRenderingStartTime));return b}function H(b,d){if(0!==d)if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var e=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",f=b.children(".thumbTypeimage");b=b.children(".thumbType"+e);f&&b&&f[d-1]&&c(f[d-1]).before(b[0]);b=c(".unrolledScrollBox .list-unrolled");f=b.children(".unrolledImg.imgMedia");
b=b.children(".unrolledImg.videoMedia");f&&b&&f[d-1]&&c(f[d-1]).before(b[0]);c(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(a){for(var b=null,d=0;d<this.classList.length;d++)this.classList[d].includes("itemNo")&&(b=d);null!==b&&c(this).removeClass(this.classList[b]).addClass("itemNo"+a);this.querySelectorAll("div")[1].id="unrolledImgNo"+a})}else f=b.children(".imageThumbnail"),b=b.children(".videoBlockIngress"),f&&b&&f[d-1]&&c(f[d-1]).before(b[0])}function K(a,b){var c=
a.attr("src");c&&b&&(a.attr("src",b),b=new Image,b.onload=function(b){a.attr("src",c)},b.src=c)}function D(b){a.autoplayVideo&&b&&!ia&&(P&&f.toggleVideoCaption(P),b.setVolume(0),b.show(),b.play(),ia=!0)}function N(b){v&&v.pause();b.data=U;b.clickTimeStamp=b.$event.timeStamp;var d="a"===b.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";J.dispatch("imageClick",b);l.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp);b=l.buildNexusMetric("ib.thumbnailClick",b.data.thumbnailIndex+
1,a.videos[0].mediaObjectId,a.videos[0].rankingStrategy,f.customerId,a.videos[0].groupType,ea,T,aa,da);l.emitNexusMetric(b);l.postCountMetric(d);c("#main-video-container .vjs-control-bar").css("display","none");c("#main-video-container .vjs-poster").css("display","inline-block")}function h(a){null!==v&&v!==Y&&(v.frame&&v.frame.remove(),v=null,R.frame&&R.frame.remove(),R=null);R=a.player;c("#main-video-container .vse-airy-container.vse-player-container").css("min-width","auto");R.hide=function(){R.pause();
m.$("#main-video-container").find(".vse-player-container").hide()};R.show=function(){m.$("#main-video-container").find(".vse-player-container").show()};R.getMediaSourceInfo=function(){return f.getMediaSourceInfo()}}function d(b,d,g,h,k,l){G(l);r=null!==l?c("#unrolledImgNo"+l.thumbnailIndex):h.find("#main-video-container");ua&&(P=null!==l?"":r.parent().find("#video-canvas-caption"));X=null!==l?c(".unrolledScrollBox"):c("#main-image-container");null===l&&f.isImageBlockGridViewDisplayEnabled()&&(r.addClass("videoCenter"),
h.find("#video-outer-container").addClass("videoWrapperCenter"));ea=p.location.href;b=e.getCurrentItem().color;!0===k?T=a.mediaAsin:(T=a.colorToAsin[b]&&a.colorToAsin[b].asin,T=f.isDefined(T)?T:a.mediaAsin);a.useChromelessVideoPlayer||r.addClass("chromeful-container");null!==l?z(l,"unrolled-video-add"):z(e.getCurrentItem(),"");f.useTabbedImmersiveView(a)&&m.declarative("videoIngressClick",["click"],N);if(-1!==n&&null!==l){b=e.getCurrentItem().color;var n=f.getVideoHash(b,l.index,a);k={requester:"MediaBlockSoftlines",
marketplaceID:n.marketPlaceID,clientPrefix:"mbSoftlines"+l.thumbnailIndex,locale:n.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:n.url,imageURL:n.slateUrl},product:{contentID:S(a,b),contentIDType:"ASIN"}};I.get(m,"#unrolledImgNo"+l.thumbnailIndex,k,function(){m.$("#unrolledImgNo"+l.thumbnailIndex).find(".vse-player-container").show()},function(){m.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()})}}function g(a,
b){function d(){var a=Math.floor((O.width()-1)/k);return f?a-1:a}function e(a){a=d();b.slice(a).hide();b.slice(0,a).show();b.find(".textMoreImages").remove();b.removeClass("overlayRestOfImages");b.find("img").each(function(){c(this).parent().attr("aria-hidden","true")});if(a<b.length){var e=a-1;a=b.eq(e);b.eq(e).find("img").parent().attr("aria-hidden","false");e=b.length-e;e=c("\x3cspan\x3e").addClass("textMoreImages").text(e+"+");a.find("img").after(e);a.addClass("overlayRestOfImages")}}var f=0!=
O.find(".item.videoThumbnail").length,g=b.eq(0).width(),h=b.eq(1).position().left-b.eq(0).position().left-g,k=g+h;e();a.register("resize",e)}function n(a){var b=O.find(".item.imageThumbnail");if(!(1>=b.length)){var c=b.eq(0).find("img").get(0);c!==Y&&c.decode().then(function(){g(a,b)})}}function q(a){try{if(!a)return!1;pa=a;ka=document.querySelectorAll("#imageBlock #altImages ul li.videoThumbnail");a={root:null,rootMargin:"0%",threshold:.75};null!==ba&&ba.disconnect();0<ka.length&&(ba=new IntersectionObserver(k,
a));ka.forEach(function(a){ba.observe(a)})}catch(wa){l.postCountMetric("ib_dsktp_thumb_impr_intersection_obs_failed")}}function k(a){pa(a,va,sa,ka,ta)}function w(a,b,d,f,g){try{c.each(a,function(a,h){var k=c(f).index(h.target);h.isIntersecting?ma[k]||(ma[k]=setTimeout(function(){b=b.slice();b.push(k);d=b.sort(function(a,b){return a-b});var a=C(d,g);if(0!==a.length&&0!==d.length){var c=e.getCurrentItem().color;c=u(c);E(c,a);delete ma[k]}},1E3)):(clearTimeout(ma[k]),delete ma[k],b=b.filter(function(a){return a!==
k}),d=b.sort(function(a,b){return a-b}))})}catch(ya){l.postCountMetric("ib_dsktp_thumbnail_on_intersection_failed")}}function C(a,b){return b=a=a.slice().filter(function(a){return 0>b.indexOf(a)})}function E(a,b){try{if(!a||!b||0===a.length||0===b.length)return!1;c.each(b,function(b,c){if(c=1===ka.length?a[0]:a[c])b=l.buildNexusMetric("ib.thumbnailImpression",b+1,c.mediaObjectId,c.rankingStrategy,f.customerId,c.groupType,p.location.href,T,aa,da),l.emitNexusMetric(b)})}catch(xa){l.postCountMetric("ib_dsktp_thumbnail_impression_failed")}}
function S(a,b){if(a){if(a.colorToAsin&&a.colorToAsin[b]&&a.colorToAsin[b].asin)return a.colorToAsin[b].asin;if(a.mediaAsin)return a.mediaAsin}return""}function Z(a){ea=p.location.href;return ea.replace(/\/dp\/([A-Z0-9]{10})/,"/dp/"+a)}var b,a,e,J,O,r,P,X,y,v,fa,U,Q,R,T,ea,aa,da,la,ca,ha,na=!1,ia=!1,ja="videoThumbnail",V=null,ba=null,sa,ta=[],ka,va=[],pa=null,oa=m.state("imageBlockStateData"),ua=oa?!oa.shouldRemoveCaption:!0,ma={},qa;return function(g,k,p,u){b=this;a=g;e=k;J=u;fa=a.airyConfig;aa=
a.contentWeblab&&a.contentWeblab+":"+a.contentWeblabTreatment;f.customerId=f.customerId||a.customerId||"";a.colorToVideo={};a.colorToVideo[a.landingAsinColor]=a.colorToVideo[a.defaultColor]=a.videos;a.tabletWeb?(la="tablet",da="applicationType.ImageBlock.vse_ib_tablet_web"):m.capabilities.tablet?(la="tablet",m.capabilities.isAmazonApp&&(da="applicationType.ImageBlock.vse_ib_tablet_app")):(la="desktop",da="desktop_web.ImageBlock.vse_ib_iv");b.render=function(b,g,h,k,l,E){null!==V&&(clearInterval(V),
V=null,r&&r.parent&&r.parent().css("z-index",-1),P&&P.hide&&P.hide());var p=[];if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){O=c("ul.regularAltImageViewLayout");Q=x(g,b,E);p=[];g=c(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(var q=0;q<g.length;q++){var u=g[q].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",t=Number(g[q].classList[2].slice(10)),
v=c(".thumbItemUnrolled").index(g[q]);p.push({color:b,thumbnailIndex:v,type:u,varient:"MAIN",index:t})}for(q=0;q<p.length;q++)d(b,h,k,l,E,p[q])}else O=k,Q=x(g,b,E),d(b,h,k,l,E,null),b=e.getCurrentItem().color,h=f.getVideoHash(b,0,a),-1!==h&&(b=a.tabletWeb?f.getNilgiriServiceAjaxRequest(a,b,h):{requester:"MediaBlockSoftlines",marketplaceID:h.marketPlaceID,clientPrefix:"mbSoftlines",locale:h.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",
video:{videoURL:h.url,imageURL:h.slateUrl},product:{contentID:S(a,b),contentIDType:"ASIN"}},I.get(m,"#main-video-container",b,function(){m.$("#main-video-container").find(".vse-player-container").hide()},function(){m.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));a.collapsibleThumbnails&&n(J);return Q};b.setupIntersectionObserverToWatchVideoThumbnail=q;b.emitMultipleImpressionMetric=E;f.isImageBlockGridViewHoverDelayEnabled()?b.update=function(b){null!==V&&(clearInterval(V),V=
null,r&&r.parent&&r.parent().css("z-index",-1),P&&P.hide&&P.hide());var c=b.data;"ingress"===c.type||"swatchHover"===b.type||f.lazyLoadingRequired(c,e,a)||(e.setToPreviousItem(),"mouseenter"===b.type?(ha&&clearTimeout(ha),ha=setTimeout(function(){e.setToCurrentItem(c);G(null)},f.getHoveringDelayTimer())):"mouseleave"===b.type?ha&&clearTimeout(ha):"click"===b.type&&(e.setToCurrentItem(c),G(null)));if("swatchHover"===b.type)"ingress"===c.type||f.lazyLoadingRequired(c,e,a)||G(null),c.color===e.getCurrentItem().color?
z(e.getCurrentItem(),""):b.captured||f.lazyLoadingRequired(c,e,a)&&!f.lazyLoadOnHoverEnabled(a)&&z(e.getCurrentItem(),"");else if("chromeful-video"===c.type){var d=f.getVideoHash(c.color,c.index,a);"mouseenter"===b.type?(l.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+Q),d=l.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,d.mediaObjectId,d.rankingStrategy,f.customerId,d.groupType,ea,T,aa,da),l.emitNexusMetric(d),ca&&clearTimeout(ca),ca=setTimeout(function(){z(c,"");!a.usePeekHover&&
m.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&f.selectGivenThumbnail(b.$declarativeParent,O)},f.getHoveringDelayTimer())):"mouseleave"===b.type?ca&&clearTimeout(ca):"click"===b.type&&(z(c,""),m.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&(f.selectGivenThumbnail(b.$declarativeParent,O),d=l.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,d.mediaObjectId,d.rankingStrategy,f.customerId,d.groupType,ea,T,aa,da),(!f.useTabbedImmersiveView(a)&&"chromeless-video"===
c.type||"tablet"==la)&&l.emitNexusMetric(d),f.useTabbedImmersiveView(a)&&(l.emitNexusMetric(d),l.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+Q),U.action="videoIngressClick",U.clickTimeStamp=b.$event.timeStamp,U.$event=b.$event,U.$currentTarget=b.$currentTarget,J.dispatch("videoIngressClick",U),l.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}}:b.update=function(b){null!==V&&(clearInterval(V),V=null,r&&r.parent&&r.parent().css("z-index",-1),P&&P.hide&&P.hide());
var c=b.data;"ingress"===c.type||f.lazyLoadingRequired(c,e,a)||G(null);if("swatchHover"===b.type)c.color===e.getCurrentItem().color?z(e.getCurrentItem(),""):b.captured||f.lazyLoadingRequired(c,e,a)&&!f.lazyLoadOnHoverEnabled(a)&&z(e.getCurrentItem(),"");else if("chromeful-video"===c.type){var d=f.getVideoHash(c.color,c.index,a);if("mouseenter"===b.type){l.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+Q);var g=l.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,d.mediaObjectId,
d.rankingStrategy,f.customerId,d.groupType,ea,T,aa,da);l.emitNexusMetric(g)}z(c,"");a.usePeekHover&&"click"!==b.type||!m.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")||(f.selectGivenThumbnail(b.$declarativeParent,O),"click"===b.type&&(d=l.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,d.mediaObjectId,d.rankingStrategy,f.customerId,d.groupType,ea,T,aa,da),(!f.useTabbedImmersiveView(a)&&"chromeless-video"===c.type||"tablet"==la)&&l.emitNexusMetric(d),f.useTabbedImmersiveView(a)&&
(l.emitNexusMetric(d),l.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+Q),U.action="videoIngressClick",U.clickTimeStamp=b.$event.timeStamp,U.$event=b.$event,U.$currentTarget=b.$currentTarget,J.dispatch("videoIngressClick",U),l.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}};if(a.isDPXFeatureEnabled)m.on("triggerVideoAjax",F);m.on("vsePlayer-imageblock_tablet",h);m.on("vsePlayer-mbsoftlines",h)}});"use strict";L.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",
function(m,c){function f(c,f,I,B,F){function l(c){"click"===c.type&&B.postCountMetric("thumbClick");"click"===c.type&&q.overrideAltImageClickAction?k.dispatch("thumbActionClick",c):k.dispatch("updateSelection",c)}function G(c){q.useClickZoom||k.dispatch("imageClick",c)}function M(c){q.useClickZoom||k.dispatch("imageHover",c)}function A(c){k.dispatch("button360Click",c)}function z(c){k.dispatch("captionClick",c)}function t(d){!I.isDefined(d)||"swatchClick"!==d.type&&"updatedData"!==d.type?(n.update(d),
"swatchHover"!==d.type&&w.getPreviousItem().thumbnailIndex!==d.data.thumbnailIndex&&B.postCountMetric(d.data.type+"ThumbnailSelected"),c.trigger("image-block-thumbnail-selected",d.data)):(n.render(d.data.color,!1,d.onload,d.type),d={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof p.markFeatureRender&&p.markFeatureRender("imageblock",d))}function x(c){k.dispatch("resize",c)}function H(c){I.selectThumbnail(c,C)}function K(){"function"===typeof p.markFeatureInteractive&&
p.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function D(){q.interactiveCallJSPEnabled||("function"===typeof p.markFeatureInteractive&&p.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]}),1===m.useIV?L.when("a-modal").execute(function(){K()}):K());q.disableHoverOnAltImages||c.declarative("thumb-action",
["mouseenter","mouseleave"],l);c.declarative("thumb-action",["click"],l);c.declarative("main-image-click",["click"],G);c.declarative("main-image-click",["keydown"],function(c){var d=c.$event;"keyCode"in d&&13===d.keyCode&&G(c)});c.declarative("main-image-click",["mouseenter","mouseleave"],M);c.declarative("button-360-click",["click"],A);c.declarative("iv-open-caption-click",["click"],z);c.on("resize",x)}function N(c){var d=c.data,f;d&&"ingress"!==d.type&&"click"===c.type&&(f=c);return f}function h(c){var d=
w.getCurrentItem(),f={type:"click"};f.$declarativeParent=c;f.data=d;return f}function d(){var c=C.find(".item.imageThumbnail");if(!(1>=c.length)){var d=w&&w.getCurrentItem()&&w.getCurrentItem().color;d=(d=q.colorImages&&d&&q.colorImages[d])&&d.length;c.removeClass("overlayRestOfImages");c.length<d&&(c.eq(c.length-1).addClass("overlayRestOfImages"),c=document.createElement("div"),c.className="lastAltImageOverlay",(d=(d=(d=document.getElementsByClassName("overlayRestOfImages")[0])&&d.getElementsByTagName("img"))&&
0<d.length&&d[0])&&d.parentNode&&(d.parentNode.insertBefore(c,d),d=(d=d.parentNode.getElementsByClassName("textMoreImages"))&&0<d.length&&d[0]))&&("T1"===q.desktopCollapsibleThumbnailsExperience?(d.classList.add("textMoreImages-t1"),c.classList.add("lastAltImageOverlay-t1"),B.postCountMetric("desktopCollapsibleThumbnailShowT1")):"T2"===q.desktopCollapsibleThumbnailsExperience&&(d.classList.add("textMoreImages-t2"),c.classList.add("lastAltImageOverlay-t2"),B.postCountMetric("desktopCollapsibleThumbnailShowT2")))}}
function g(c){I.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===c.type&&I.updateThumbnailHoverDelay(c.$target)}var n,q,k,w,C;return function(c,l,m){n=this;q=c;k=l;w=m;C=f("#imageBlock #altImages ul");var b=f("#imageBlock .canvas"),a=f("#main-image-container"),e;n.subViews=[];for(l=0;l<F.length;l++)n.subViews.push(new F[l](c,m,n,k));n.render=function(c,g,k,l){var m=0;C.find(".item").remove();c=c||w.getCurrentItem().color;f.each(n.subViews,function(d,e){m=(2===q.unrolledImageBlockTreatment||
3===q.unrolledImageBlockTreatment?e.render(c,m,b,C,a,g,k,l):e.render(c,m,b,C,a,g,k))||m});"T1"!==q.desktopCollapsibleThumbnailsExperience&&"T2"!==q.desktopCollapsibleThumbnailsExperience||d();var p=C.find(".a-button-selected").closest(".a-declarative");e=h(p)};n.init=function(){C=f("#imageBlock #altImages ul");var a=C.find(".a-button-selected").closest(".a-declarative"),b=a.data("action");a=a.data(b)||{};a.color=q.landingAsinColor||q.defaultColor;k.dispatch("updateModel",{data:a});n.render(a.color,
!0);q.isDebug&&p.console&&console.log(q);k.register("updateView",t);k.register("selectThumbnail",H);D()};n.update=function(a){g(a);f.each(n.subViews,function(b,c){c.update(a)});q.usePeekHover&&("mouseleave"===a.type?k.dispatch("updateSelection",e):"click"===a.type&&(e=N(a)||e))}}}c=["A","jQuery","imageBlockUtils","postMetric"].concat(m.views);L.when.apply(L,c).register("ImageBlockView",function(){for(var c=arguments[0],l=arguments[1],m=arguments[2],p=arguments[3],F=[],u=4,G=arguments.length;u<G;u++)F.push(arguments[u]);
return f(c,l,m,p,F)})})});
/* ******** */
(function(D){var E=window.AmazonUIPageJS||window.P,na=E._namespace||E.attributeErrors,l=na?na("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):E;l.guardFatal?l.guardFatal(D)(l,window):l.execute(function(){D(l,window)})})(function(D,E,na){D.when("A","jQuery","imageBlockUtils","imageBlockImmersiveViewUtils","postMetric").register("ImageBlockImmersiveViewDimensionIngress",function(l,a,d,g,p){function J(c,b){var f=a(c+" image").attr("data");a(c+" image")[0].setAttribute("href",
f);c=new Image;c.src=f;c.onload=function(){b(this.width/this.height)}}function v(c){null!==a(c.euclidSvg)&&(new Promise(function(b,a){J(c.euclidSvg,b)})).then(function(b){if(null===a(c.featureDiv)||0===a(c.featureDiv).length||0>=b)var f=null;else{var d=a(c.featureDiv).width(),u=a(c.featureDiv).height(),h=2*(16+A(c.euclidHeightText,c.numberSpace)+10),m=d-h,n=a(c.euclidHeightLine).data("euclid-height-startx");0>n?h+=m*Math.abs(n)*2:1<n&&(h+=m*(n-1)*2);m=d-h;0>m&&(h=152);var V=a(c.euclidWidthLine).data("euclid-width-starty"),
l=1<V?u*(V-1)+50:50,q=u-l;if(m/q>b)var k=q*b,w=q,ia=q*b+h,ha=u;else k=m,w=m/b,ia=d,ha=m/b+l;f={imageWidth:k,imageHeight:w,svgWidth:ia,svgHeight:ha}}if("undefined"===typeof f||null===f||10>=f.imageWidth||10>=f.imageHeight||10>=f.svgWidth||10>=f.svgHeight)p.postCountMetric("dpcc_dimensionIngressEuclidInvalid");else{var z=f,M=c.euclidSvg;a(M+" image").attr("width",z.imageWidth);a(M+" image").attr("height",z.imageHeight);a(M).attr("width",z.svgWidth);a(M).attr("height",z.svgHeight);var G=(z.svgWidth-
z.imageWidth)/2;a(M+" image")[0].setAttribute("x",G);a(M+" image")[0].setAttribute("y",10);var y=z.imageWidth,I=z.imageHeight,g=(z.svgWidth-z.imageWidth)/2,r=a(c.euclidLengthLine).data("euclid-length-startx")*y,v=a(c.euclidLengthLine).data("euclid-length-starty")*I,X=a(c.euclidLengthLine).data("euclid-length-endx")*y,x=a(c.euclidLengthLine).data("euclid-length-endy")*I,U=a(c.euclidWidthLine).data("euclid-width-startx")*y,t=a(c.euclidWidthLine).data("euclid-width-starty")*I,B=a(c.euclidWidthLine).data("euclid-width-endx")*
y,Y=a(c.euclidWidthLine).data("euclid-width-endy")*I,H=a(c.euclidHeightLine).data("euclid-height-startx")*y,J=a(c.euclidHeightLine).data("euclid-height-starty")*I,Z=a(c.euclidHeightLine).data("euclid-height-endx")*y,N=a(c.euclidHeightLine).data("euclid-height-endy")*I,va=(Y-t)/(B-U),hb=0>=va?"leftInclined":"rightInclined",Ra=1/va,oa=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(Ra,2)))),pa=0===oa?16:Math.abs(Ra*oa),qa=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(Ra,2)))),sa=0===qa?3:Math.abs(Ra*qa),
D=(x-v)/(X-r),E=1/D,C=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(E,2)))),F=0===C?16:Math.abs(E*C),L=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(E,2)))),P=0===L?3:Math.abs(E*L),T=0>=D?"leftInclined":"rightInclined";if(.5<a(c.euclidHeightLine).data("euclid-height-startx")){var ba=H+g+16,Q=J+10,R=Z+g+16,W=N+10,ea=H+g+16-3,fa=J+10,ja=H+g+16+3,na=J+10,ib=Z+g+16-3,jb=N+10,kb=Z+g+16+3,lb=N+10,mb=(ba+R)/2+5,nb=(Q+W)/2+8,Aa=B+g+oa,Ba=Y+pa+10,Ca=U+g+oa,Da=t+pa+10,ob=B+g+oa-qa,pb=Y+pa-sa+10,qb=B+g+oa+qa,
rb=Y+pa+sa+10,sb=U+g+oa-qa,tb=t+pa-sa+10,ub=U+g+oa+qa,vb=t+pa+sa+10;if("leftInclined"===hb){var Sa=(Aa+Ca)/2;var Ta=(Ba+Da)/2+15}else Sa=(Aa+Ca)/2+5,Ta=(Ba+Da)/2;var Ea=r+g-C,Fa=v+F+10,Ga=X+g-C,Ha=x+F+10,wb=r+g-C-L,xb=v+F+P+10,yb=r+g-C+L,zb=v+F-P+10,Ab=X+g-C-L,Bb=x+F+P+10,Cb=X+g-C+L,Db=x+F-P+10,Gb=A(c.euclidLengthText,c.numberSpace);if("leftInclined"===T)var Ua=(Ea+Ga)/2,Va=(Fa+Ha)/2+15;else Ua=(Ea+Ga)/2-Gb,Va=(Fa+Ha)/2+15}else{ba=H+g-16;Q=J+10;R=Z+g-16;W=N+10;ea=H+g-16-3;fa=J+10;ja=H+g-16+3;na=J+
10;ib=Z+g-16-3;jb=N+10;kb=Z+g-16+3;lb=N+10;var Hb=A(c.euclidHeightText,c.numberSpace);mb=(ba+R)/2-Hb-3;nb=(Q+W)/2+8;Aa=B+g-oa;Ba=Y+pa+10;Ca=U+g-oa;Da=t+pa+10;ob=B+g-oa-qa;pb=Y+pa+sa+10;qb=B+g-oa+qa;rb=Y+pa-sa+10;sb=U+g-oa-qa;tb=t+pa+sa+10;ub=U+g-oa+qa;vb=t+pa-sa+10;var Eb=A(c.euclidWidthText,c.numberSpace);"leftInclined"===hb?(Sa=(Aa+Ca)/2-Eb,Ta=(Ba+Da)/2):(Sa=(Aa+Ca)/2-Eb,Ta=(Ba+Da)/2+15);Ea=r+g+C;Fa=v+F+10;Ga=X+g+C;Ha=x+F+10;wb=r+g+C+L;xb=v+F+P+10;yb=r+g+C-L;zb=v+F-P+10;Ab=X+g+C+L;Bb=x+F+P+10;Cb=
X+g+C-L;Db=x+F-P+10;"leftInclined"===T?(Ua=(Ea+Ga)/2,Va=(Fa+Ha)/2+15):(Ua=(Ea+Ga)/2+15,Va=(Fa+Ha)/2)}var Ib=Ea;var Jb=Fa;var Kb=Ga;var Lb=Ha;var Mb=wb;var Nb=xb;var Ob=yb;var Pb=zb;var Qb=Ab;var Rb=Bb;var Sb=Cb;var Tb=Db;var Ub=Ua;var Vb=Va;var Wb=Aa;var Xb=Ba;var Yb=Ca;var Zb=Da;var $b=ob;var ac=pb;var bc=qb;var cc=rb;var dc=sb;var ec=tb;var fc=ub;var gc=vb;var hc=Sa;var ic=Ta;var jc=ba;var kc=Q;var lc=R;var mc=W;var nc=ea;var oc=fa;var pc=ja;var qc=na;var rc=ib;var sc=jb;var tc=kb;var uc=lb;var vc=
mb;var wc=nb;da(M+" .hit-pd-euclid-height-line",jc,kc,lc,mc);da(M+" .hit-pd-euclid-height-start",nc,oc,pc,qc);da(M+" .hit-pd-euclid-height-end",rc,sc,tc,uc);ka(M+" .hit-pd-euclid-height-text",vc,wc);da(M+" .hit-pd-euclid-width-line",Wb,Xb,Yb,Zb);da(M+" .hit-pd-euclid-width-start",$b,ac,bc,cc);da(M+" .hit-pd-euclid-width-end",dc,ec,fc,gc);ka(M+" .hit-pd-euclid-width-text",hc,ic);da(M+" .hit-pd-euclid-length-line",Ib,Jb,Kb,Lb);da(M+" .hit-pd-euclid-length-start",Mb,Nb,Ob,Pb);da(M+" .hit-pd-euclid-length-end",
Qb,Rb,Sb,Tb);ka(M+" .hit-pd-euclid-length-text",Ub,Vb);S("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&(c===ca&&"dimension-ingress-image"===O.getCurrentItem().type?(K(),a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("a-declarative"),a("#imageBlock #main-image-container #dimension-ingress-outer-container").attr("data-action","dimension-hero-click"),p.postTimeMetric("dppc_loadDimensionHeroTime",Date.now()-
la)):c===aa&&(a("ivDimensionTab").css("display","block"),e(a("#iv-euclid"),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")),p.postTimeMetric("dppc_loadDimensionImmersiveTime",Date.now()-ma)))}});S("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container")&&C(c===ca,O.getCurrentItem(),null)}function A(c,b){return a(c).text().replace(/[^0-9]/g,"").length*b+5}function da(c,b,f,d,u){c=a(c)[0];c!==na&&null!==c&&(c.setAttribute("x1",b),c.setAttribute("y1",
f),c.setAttribute("x2",d),c.setAttribute("y2",u))}function ka(c,b,f){var d=a(c)[0];d!==na&&null!==d&&(d.setAttribute("x",b),d.setAttribute("y",f),c=a(c+" tspan"),c!==na&&null!==c&&2===c.length&&(c[0].setAttribute("x",b),c[0].setAttribute("dy",LEFT_STRING_FIRST_LINE_BIAS),c[1].setAttribute("x",b),c[1].setAttribute("dy",LEFT_STRING_SECOND_LINE_BIAS)))}function ba(c){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length||a("#imageBlock #main-image-container #dimension-ingress-outer-container").hasClass("aok-hidden")){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length){c=
m(c.color);if(null===c)return;if(c in T)S("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&T[c].clone().appendTo(a("#imageBlock #main-image-container"));else{var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(S("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&b.clone().appendTo(a("#imageBlock #main-image-container")),T[c]=b):F(c)}}v(ca)}}
function F(c){try{setTimeout(function(){ea++;var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(c in T||(T[c]=b),a("#imageBlock #main-image-container #dimension-ingress-outer-container")&&0>=a("#imageBlock #main-image-container #dimension-ingress-outer-container").length&&S("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&b.clone().appendTo(a("#imageBlock #main-image-container")),v(ca)):100>
ea&&F(c)},100)}catch(b){console.log("ImageBlockImmersiveViewDimensionIngress lazy load loop:"+b)}}function S(c){return"true"===a(c).attr("data-should-use-in-hero")}function C(c,b,f){var d=k.colorImages[b.color],u=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");u&&0<u.length?(d=D(d),E(d,c,b,f)):Q(d,c,b,f)}function Q(c,b,f,d){try{setTimeout(function(){R++;var u=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");
u&&0<u.length?(u=D(c),E(u,b,f,d)):100>R?Q(c,b,f,d):(p.postCountMetric("dpcc_dimensionIngress_hero_data_not_found"),u=c[0],E(u,b,f,d))},100)}catch(u){console.log("ImageBlockImmersiveViewDimensionIngress lazy load seller image loop:"+u)}}function D(c){for(var b=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image").attr("variant"),f=c[0],d=0;d<c.length;d++){var u=c[d];u.variant===b&&(f=u)}f===c[0]&&p.postCountMetric("dpcc_dimensionIngress_no_image_data_found_for_seller_image_variant");
return f}function E(c,b,f,h){b?((b=U.find(".item.dimensionItemNo"+f.thumbnailIndex))&&b.remove(),b=f.thumbnailIndex,h=B(c,h),f=U.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate"),f.addClass("image item dimensionItemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1}),f.find(".placeHolder").replaceWith(h),f.find(".a-declarative").attr("data-action",
"dimension-hero-click"),U.find(".list").append(f),l.loadImageManually(h),h=b=f,f=ha.css("height"),null!==f&&h.find(".imgTagWrapper").css("height",f),h.addClass("selected"),k.imgTagWrapperClasses&&h.find(".imgTagWrapper").addClass(k.imgTagWrapperClasses),V.dispatch("loadMagnifier"),h=b,k.useIV&&d.isDefined(c.hiRes)&&h.css("cursor","pointer"),l.trigger("dp:image-block:update",c)):(L(c),e(a("#iv-seller"),a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper")))}function L(c){var b=a("#ivDimensionTab #ivLargeDimensions");
if(0<b.find(".imgTagWrapper").length){var f=a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");return W(b,f)}f=a("\x3cdiv\x3e\x3c/div\x3e");f.addClass("imgTagWrapper");var d=a("\x3cimg\x3e");f.html(d);b.append(f);f=a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");f.attr("src",c.hiRes);return W(b,f)}function W(a,b){a=a.closest("#ivStageDimensions");var c=a.width();a={height:"auto","max-height":a.height(),"max-width":c,"text-align":"center"};b.css(a);b=b.closest(".imgTagWrapper");
b.css(a);return b}function B(c,b){var f="a-dynamic-image";if(!k.acEnabled){var h;a.each(c.main,function(b,a){d.isDefined(h)||(h=parseFloat(a[1]/a[0])<=parseFloat(k.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});f+=h}var u=d.getMaxDimensionsOfMainImage(c.main,ha,k),m=u[0],e=u[1];u=a("\x3cdiv\x3e\x3c/div\x3e");m={"max-height":m,"max-width":e};u.addClass(f).css(m).attr({"data-old-hires":c.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",c.main);return u}function w(){var c=
'\x3ca href\x3d"#"\x3e'+k.staticStrings.clickForFullView+"\x3c/a\x3e";a("#image-canvas-caption #canvasCaption").html(c);c=a("#image-canvas-caption #canvasCaption a");l.declarative.create(c,"dimension-hero-click")}function m(a){var b=k.colorToAsin[a];return b&&b.asin?a=k.colorToAsin[a].asin:a=k.mediaAsin?k.mediaAsin:null}function G(){a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("aok-hidden");a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",
-1)}function K(){null!==a(ca.euclidSvg)&&0!==a(ca.euclidSvg).length?(a("#imageBlock #main-image-container #dimension-ingress-outer-container").removeClass("aok-hidden"),a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",2)):C(ca,O.getCurrentItem(),null)}function y(a,b){k.usePeekHover&&"click"!==b.type||d.selectGivenThumbnail(b.$declarativeParent,a)}function H(a){a.action="dimensionIngressClick";a.data=X;V.dispatch("dimensionIngressClick",a)}function x(){ma=Date.now();
if(Y&&!a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length){var c=m(O.getCurrentItem().color);if(null!==c){a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");var b=a("#ivDimensionTab #ivLargeDimensions").length;console.log("checkImmersiveViewContainer",b);c in T?T[c].clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")):(b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container"),b.length?(b.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),
T[c]=b):I(c));g.populateTitle(a("#ivDimensionTab #ivMainDimensions").find("#ivTitleDimensions"),160,k);g.populateVariationSelection(a("#ivDimensionTab #ivMainDimensions").find("#ivVariationSelectionDimensions"));P();Y=!1}c=a("#iv-tab-view-container").find("#ivThumbsDimensions");c.find(".ivRow").not(".placeholder").remove();b=c.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(c);var f=0<a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container").length,
d=0<a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container").length;if("true"===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").attr("data-should-show-thumbnails-in-iv")){if(f){if(!a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").length){var h=k.colorImages[O.getCurrentItem().color];h=D(h);L(h);a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").addClass("aok-hidden")}n(c,b,h.thumb,a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper"),
"iv-seller")}d&&(h=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container image").attr("data"),n(c,b,h,a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container"),"iv-euclid"))}}t()}function t(){M=a("#ivDimensionTab").height();if(0!==M){g.detachImmersiveViewResizeHandler(x);var c=a("#ivDimensionTab #ivMainDimensions"),b=a("#ivDimensionTab").height(),f=a("#ivDimensionTab").width();c.css("height",b);c.css("width",f);f=c.find("#ivTitleDimensions").outerHeight(!0);
var d=c.find("#ivVariationSelectionDimensions").outerHeight(!0),h=c.find("#ivThumbsDimensions"),m=g.getDimension(h,"margin-top")+g.getDimension(h,"margin-bottom");h.css("height",b-f-d-m);f=c.find("#ivStageDimensions");c=(c[0]&&c[0].getBoundingClientRect&&Math.floor(c[0].getBoundingClientRect().width)||c.width())-g.getDimension(c,"padding-left")-g.getDimension(c,"padding-right")-c.find("#ivThumbColumnDimensions").width()-g.getDimension(f,"margin-left")-g.getDimension(f,"margin-right");f.css("width",
c);f.css("height",b);v(aa)}}function n(a,b,f,d,h){a=a.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:h}).appendTo(b);a.find(".ivThumbImage").css("background",'url("'+g.getResizedThumbnailURL(f)+'") center no-repeat');d.hasClass("aok-hidden")||a.addClass("selected");z(a,d)}function z(a,b){a.click(function(){e(a,b)})}function e(a,b){a.parent().find(".ivThumb").removeClass("selected");a.addClass("selected");b.hasClass("imgTagWrapper")&&W(b,b.find("img"));b.parent().find("#dimension-ingress-outer-container").addClass("aok-hidden");
b.parent().find(".imgTagWrapper").addClass("aok-hidden");b.removeClass("aok-hidden")}function I(c){try{setTimeout(function(){h++;var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(c in T||(T[c]=b),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")&&0>=a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length&&b.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),t()):100>h&&I(c)},100)}catch(b){console.log("ImageBlockImmersiveViewDimensionIngress lazy load IV loop:"+
b)}}function Z(c,b){q&&clearTimeout(q);"mouseenter"===b.type&&(q=setTimeout(function(){ba(c);a("#image-canvas-caption #canvasCaption").empty();w();y(ia,b)},d.getHoveringDelayTimer()));"mouseleave"===b.type&&w()}var r,k,O,V,ia,U,ha,X,Y=!0,la,ma,q,N,T={},ea=0,h=0,R=0,M,ca={euclidSvgContainer:"#imageBlock #image-block-euclid-svg-container",euclidSvg:"#imageBlock #hit-pd-angled-front-svg",euclidHeightText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-width-text",
euclidLengthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#imageBlock #main-image-container",euclidLengthLine:"#imageBlock .hit-pd-euclid-length-line",euclidWidthLine:"#imageBlock .hit-pd-euclid-width-line",euclidHeightLine:"#imageBlock .hit-pd-euclid-height-line",numberSpace:10},aa={euclidSvg:"#ivDimensionTab #hit-pd-angled-front-svg",euclidHeightText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-width-text",
euclidLengthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#ivDimensionTab #ivStageDimensions",euclidLengthLine:"#ivDimensionTab .hit-pd-euclid-length-line",euclidWidthLine:"#ivDimensionTab .hit-pd-euclid-width-line",euclidHeightLine:"#ivDimensionTab .hit-pd-euclid-height-line",numberSpace:14},P=l.once(function(){g.attachImmersiveViewResizeHandler(x)});l.on.resize(function(){S("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&
v(ca)});return function(c,b,f,e){r=this;k=c;O=b;V=e;c=k.mediaAsin;b=[];k&&k.dimensionIngressAtfData&&k.dimensionIngressAtfData.initial&&(b=k.dimensionIngressAtfData.initial.dimensionVariantList);d.setDimensionIngressData(c,k.dimensionIngressEnabled,b);r.render=function(b,c,f,e,n,V){ia=e;U=2!==k.unrolledImageBlockTreatment&&3!==k.unrolledImageBlockTreatment?f:a(".unrolledScrollBox");ha=n;Y=!0;a("#imageBlock #main-image-container #dimension-ingress-outer-container").remove();a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").remove();
a("#ivDimensionTab #ivLargeDimensions").empty();h=ea=0;f=m(O.getCurrentItem().color);if(null!==f){if(d.isDimensionIngressEnabled(f)&&k.dimensionIngressThumbURL&&k.dimensionIngressThumbURL.initial&&k.dimensionIngressThumbURL.initial.length){f=d.getDimensionVariantList(f);if(f.includes("DIMN")||f.includes("DCMN"))Array.isArray(f)||(f=JSON.parse(f.replace(/(\w+)/g,'"$1"'))),f.push("DIMN"),f.push("DCMN");if(f&&0<f.length){n=k.colorImages[b];V=e.find(".item.imageThumbnail");for(var u=0;u<V.length&&u<k.maxAlts-
1;u++){var g=n[u].variant;"MAIN"!=g&&f.includes(g)&&(g=V.eq(u))&&(g.remove(),c--)}}c===k.maxAlts&&(e.find(".item.imageThumbnail").last().remove(),c--);X={type:"dimension-ingress-image",index:0,thumbnailIndex:c,variant:"Main"};d.createThumbnail(X,k.dimensionIngressThumbURL.initial,e,"dimension-ingress-imageblock-thumbnail");e=k.dimensionIngressAtfData.initial.thumbnailCaption;e=a("\x3cspan /\x3e").html(e);e.addClass("a-size-mini a-color-secondary dimension-caption a-text-bold a-nowrap");e.attr("id",
"dimensionCaption");a(".dimension-ingress-imageblock-thumbnail").addClass("a-align-top");a(".dimension-ingress-imageblock-thumbnail").append(e);c++;a("#ivDimensionTabHeading").removeClass("aok-hidden");m(b)!==k.mediaAsin&&0===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").length&&a("#imageBlock .dimension-ingress-imageblock-thumbnail").addClass("aok-hidden");return c}a("#ivDimensionTabHeading").addClass("aok-hidden")}};r.update=function(b){var c=b.data;O.setCurrentEvent(b);
"dimension-ingress-image"===c.type?(c.interaction=b.type,c.isUserGenerated=!0,"mouseenter"===b.type&&(la=Date.now(),p.postCountMetric("dpcc_dimensionIngressHovered")),d.isImageBlockGridViewHoverDelayEnabled()?Z(c,b):(ba(c),a("#image-canvas-caption #canvasCaption").empty(),w(),y(ia,b)),"click"===b.type&&d.useTabbedImmersiveView(k)&&(H(b),p.postCountMetric("dpcc_dimensionIngressClicked"))):"swatchHover"===b.type?c.color===O.getCurrentItem().color&&"dimension-ingress-image"===O.getCurrentItem().type?
K():G():d.isImageBlockGridViewHoverDelayEnabled()?(O.setToPreviousItem(),"mouseenter"===b.type&&(N&&clearTimeout(N),N=setTimeout(function(){O.setToCurrentItem(c);G()},d.getHoveringDelayTimer())),"mouseleave"===b.type&&N&&clearTimeout(N),"click"===b.type&&(O.setToCurrentItem(c),G())):G()};g.attachTabSelectHandler("ivDimensionTab",x);l.declarative("dimension-hero-click",["click"],H)}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",
function(l,a,d,g,p){function J(){p.populateTitle(m.find("#ivTitle"),160,B)}function v(){var a=w.getCurrentItem().color;K=B.colorImages[a];G=B.heroImage[a];y=H=0;d.isDefined(G)&&(y=G.length);d.isDefined(K)&&(H=K.length)}function A(a){return a.hiRes||a.large||a.main[a.main.length-1]}function da(){var a=m.find("#ivStage").find("#ivLargeImage"),d=a.width(),n=a.height(),g=a.find(".fullscreen");g.removeAttr("style");var l=g.width(),k=g.height();0<g.length&&(g[0].naturalWidth&&(l=g[0].naturalWidth),g[0].naturalHeight&&
(k=g[0].naturalHeight));a.css("cursor","auto");l=0===l?1:l;k=0===k?1:k;var p=Math.min(d/l,n/k),w=k*p,q=l*p;1>p?(t?a.css("cursor","url('"+B.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),e=!0):e=!1;l=Math.min(q,l);k=Math.min(w-20,k);g.css({"margin-top":(n-k)/2,"margin-left":(d-l)/2,height:k,width:l});a.css("visibility","visible");z=!1}function E(a){var d=m.find("#ivLargeImage");d.css("visibility","hidden");d.empty();p.animateStageIn(d);
d.append(a);da()}function D(e){m.find("#ivLargeImage").css("display","none");m.find("#ivLargeImage").css("display","block");var g;"hero-image"===e?d.isDefined(G)&&(g=A(G[x.index])):d.isDefined(K)&&(g=A(K[x.index]));if(d.isDefined(g)){m.find(".fullscreen").remove();var n=a("\x3cimg\x3e").attr("src",g).addClass("fullscreen"),k=m.find("#ivLargeImage");p.animateStageOut(k,function(){n.load(function(){E(n);l.trigger("dp:image-block:imageBlockImmersiveImageLoad",x.index)});if(n[0].complete)E(n),l.trigger("dp:image-block:imageBlockImmersiveImageLoad",
x.index);else{k.empty();var d=(k.height()-104)/2,e=(k.width()-80)/2;a("\x3cimg\x3e").attr("src",B.staticImages.spinner).css({position:"relative",top:d+"px",left:e+"px"}).appendTo(k)}})}}function F(a){m.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?x.type="hero-image":x.type="image";x.index=a.attr("id").split("_")[1];D(x.type);g.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(x.index,10)+1)+"_"+(y+H))}function S(){m.delegate(".ivThumb","click",function(){var d=
a(this);F(d)})}function C(a,d){return 0<d?d/2:Math.min(0,Math.max(d,a))}function Q(a){var d=Z.top-(a.pageY-k[1])*r;a=C(Z.left-(a.pageX-k[0])*r,I.left);d=C(d,I.top);m.find(".fullscreen").css({left:a,top:d})}function ja(){m.delegate("#ivLargeImage","click",function(a){if(z)da();else if(e){m.find(".fullscreen").removeAttr("style");if(e){var d=m.find("#ivLargeImage"),n=d.find(".fullscreen");t?d.css("cursor","url('"+B.staticImages.zoomOut+"'), auto"):(d.css("cursor","-webkit-zoom-out"),d.css("cursor",
"-moz-zoom-out"),d.css("cursor","zoom-out"));z=!0;var l=m.find("#ivLargeImage");I.left=l.width()-n.width();I.top=l.height()-n.height();l=d.height()/2;var p=d.width()/2;k=[d.offset().left+p,d.offset().top+l];Z.top=l-n.height()/2;Z.left=p-n.width()/2;n.css({position:"relative",left:Z.left,top:Z.top});r=Math.max(n.height()/d.height(),n.width()/d.width())}Q(a);g.postCountMetric("dpcc_iv_largeImageCLick")}});m.delegate("#ivLargeImage","mousemove",function(a){z&&Q(a)})}function fa(){m.find("#ivLargeImage").empty()}
function L(e){if(n){m=a("#ivMain");v();x=w.getCurrentItem();J();p.populateVariationSelection(m.find("#ivVariationSelection"));e=m.find("#ivThumbs");e.find(".ivRow").not(".placeholder").remove();var g=y+H,l=!1;B&&B.dimensionIngressAtfData&&B.dimensionIngressAtfData.initial&&(l=B.dimensionIngressAtfData.initial.immersiveViewDimensionSuppressionEnabled);for(var k=0,z=0;k<g;)for(var I=e.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(e),r=0;4>r&&k<g;r++,k++,z++)if(z<y){var t=G[k].thumb,
q=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+k,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":k+1}).appendTo(I);q.find(".ivThumbImage").css("background",'url("'+p.getResizedThumbnailURL(t)+'") center no-repeat')}else if(z>=y&&z<H+y){t=B.colorToAsin[w.getCurrentItem().color].asin;t||(t=B.mediaAsin);if((q=d.isDimensionIngressEnabled(t))&&
l){if((t=d.getDimensionVariantList(t))&&t.includes(K[k-y].variant)){r--;continue}}else if(q&&"DIMN"===K[k-y].variant){r--;continue}t=K[k-y].thumb;q=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(k-y),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image","data-csa-c-posy":k-y+1}).appendTo(I);q.find(".ivThumbImage").css("background",'url("'+p.getResizedThumbnailURL(t)+'") center no-repeat')}O();
n=!1}else J();e=a("#ivImagesTab").height();m.css("height",e);g=m.find("#ivTitle").outerHeight(!0);l=m.find("#ivVariationSelection").outerHeight(!0);k=m.find("#ivThumbs");z=p.getDimension(k,"margin-top")+p.getDimension(k,"margin-bottom");k.css("height",e-g-l-z);m.find("#ivLargeImage").css("height",e);e=m.find("#ivStage");g=m[0]&&m[0].getBoundingClientRect&&Math.floor(m[0].getBoundingClientRect().width)||m.width();e.css("width",g-p.getDimension(m,"padding-left")-p.getDimension(m,"padding-right")-m.find("#ivThumbColumn").width()-
p.getDimension(e,"margin-left")-p.getDimension(e,"margin-right"));x=w.getCurrentItem();e="hero-image"===x.type?m.find("#ivHeroImage_"+x.index):"image"===x.type?m.find("#ivImage_"+x.index):d.isDefined(G)?m.find("#ivHeroImage_"+x.index):m.find("#ivImage_"+x.index);d.isjQueryObjDefined(e)||(e=m.find("#ivImage_0"));F(e)}var W,B,w,m,G,K,y,H,x,t=navigator.userAgent.match(/msie|trident/i),n=!0,z=!1,e=!1,I={},Z={},r,k;n=!0;var O=l.once(function(){S();ja();p.attachImmersiveViewResizeHandler(L);p.attachTabDeselectHandler("ivImagesTab",
fa)});return function(d,e,g,k){W=this;B=d;w=e;W.render=function(d,e,g,k,l,m){n=!0;v();0===y+H?p.hideTabHeading("ivImagesTabHeading"):p.unhideTabHeading("ivImagesTabHeading");1===y+H?a("#ivThumbs").hide():a("#ivThumbs").show()};W.update=function(a){};p.attachTabSelectHandler("ivImagesTab",L)}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(l,a,d,g,p,J,v){function A(){var d=
S.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),g=d.find(".a-popover-inner");d=d.height()-v.getDimension(g,"padding-top")-v.getDimension(g,"padding-bottom");a("#iv-tab-view-container").css("height",d);ja=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<ja?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),g=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),d-=g):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();
a("#iv-tab-view-container .iv-tab-content").css("height",d);l.trigger("dp:image-block:immersive-view:resize")}function da(){l.trigger("dp:image-block:immersive-view:reset")}function ka(w){if(d.isImmersiveViewEnabled(F,S.getCurrentItem().color))if(L){var m=w.$event.originalEvent;m.acknowledge&&m.acknowledge(w.$currentTarget[0]);p.isEnabled&&J.logImmersiveViewRequestServed(p);g.postCountMetric("dppc_immersiveViewOpened");d.isDefined(w)&&("button-360-click"===w.action?a("#iv360TabHeading").click():"videoIngressClick"===
w.action?(fa=w.clickTimeStamp,a("#ivVideosTabHeading").click()):"showroomIngressClick"===w.action?(fa=w.clickTimeStamp,a("#ivShowroomTabHeading").click()):"dimensionIngressClick"===w.action?(fa=w.clickTimeStamp,a("#ivDimensionTabHeading").click()):a("#ivImagesTabHeading").click());m=S.getImmersiveViewModalInstance();if(d.isDefined(m))m.show();else{w=a("#auiImmersiveViewDiv");m=Math.min(Math.max(a(E).height()-150,540),1080);var v=Math.min(Math.max(a(E).width()-75,990),1980);m=L.create(w,{name:"immersiveView",
activate:"onclick",width:v,height:m,popoverLabel:"ImmersiveView",hideHeader:!0});S.setImmersiveViewModalInstance(m);w.click()}Q&&(Q=!1,W(),l.trigger("dp:image-block:immersive-view:init"))}else E.performance&&performance.now&&E.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else g.postCountMetric("immersiveViewNotExistsClickCount")}var ba,F,S,C,Q=!0,ja=0,fa,L;D.when("a-modal").execute(function(a){L=a});var W=l.once(function(){l.on("a:popover:afterUpdatePosition:immersiveView",
A);l.on("a:popover:afterShow:immersiveView",A);l.on("a:popover:afterHide:immersiveView",da)}),B=l.once(function(){var d=a("#iv-tab-view-container ul.iv-tab-views li");d.bind("click",function(m){var p=d.filter(".iv-active");p.attr("id")!==a(this).attr("id")&&l.trigger("dp:ivTabs:"+p.find("a").attr("data-iv-tab-view")+":deselect",m);d.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();p=a(this).find("a").attr("data-iv-tab-view");a("#"+p).show();
"ivVideosTab"===p&&(m.clickTimeStamp=fa||m.timeStamp);l.trigger("dp:ivTabs:"+p+":select",m);g.postCountMetric("dppc_"+p);return!1})});return function(a,m,v,A){ba=this;F=a;S=m;p.refToModel=S;C=A;ba.render=function(a,d,l,m,n,p){g.postCountMetric("dpcc_altThumbs_"+d);Q=!0};ba.update=function(a){};ba.getTitle=function(){};ba.getVariationSelectionInfo=function(){};B();d.isImmersiveViewEnabled(F,S.getCurrentItem().color)||d.addTag("immersiveViewNotAvailable");C.register("imageClick",ka);C.register("button360Click",
ka);(F.collapsibleThumbnails||"T1"===F.desktopCollapsibleThumbnailsExperience||"T2"===F.desktopCollapsibleThumbnailsExperience)&&l.declarative("thumb-action",["click"],function(a){a.$declarativeParent.hasClass("overlayRestOfImages")&&(ka(a),"T1"===F.desktopCollapsibleThumbnailsExperience?g.postCountMetric("desktopCollapsibleThumbnailImmersiveViewClickT1"):"T2"===F.desktopCollapsibleThumbnailsExperience&&g.postCountMetric("desktopCollapsibleThumbnailImmersiveViewClickT2"))});d.useTabbedImmersiveView(F)&&
(C.register("videoIngressClick",ka),C.register("showroomIngressClick",ka),C.register("dimensionIngressClick",ka),C.register("captionClick",ka))}});"use strict";D.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(l,a,d,g,p,J,v,A){function da(a){return a.hiRes||a.large||a.main[a.main.length-1]}function ka(){h.find("#ivTitle").click(function(){ea.hide()})}function ba(){f=
fb?{type:"360-spin"}:N.getCurrentItem()}function F(){var a=h.find("#ivStage"),b=ea.$container.find(".a-popover-wrapper"),d=b.find(".a-popover-inner");b=b.height()-A.getDimension(d,"padding-top")-A.getDimension(d,"padding-bottom");h.css("height",b);d=h.find("#ivTitle").outerHeight(!0);var c=h.find("#ivVariationSelection").outerHeight(!0),f=h.find("#ivMediaSelection").outerHeight(!0),e=h.find("#ivThumbs"),g=A.getDimension(e,"margin-top")+A.getDimension(e,"margin-bottom");e.css("height",b-d-c-f-g);h.find("#ivLargeImage").css("height",
b);a.css("width",h.width()-A.getDimension(h,"padding-left")-A.getDimension(h,"padding-right")-h.find("#ivThumbColumn").width()-A.getDimension(a,"margin-left")-A.getDimension(a,"margin-right"))}function S(){h.find("#ivMediaSelect").change(function(){var b=a(this).val();"all"===b?(h.find("#ivVideoList").hide(),h.find("#ivThumbs").show(),h.find(".ivThumbVideo").show(),"chromeful-video"===f.type&&h.find("#ivVideo_"+f.index).click()):"images"===b?(h.find("#ivVideoList").hide(),h.find("#ivThumbs").show(),
h.find(".ivThumbVideo").hide(),"chromeful-video"===f.type&&(0===P&&0===aa?h.find("#iv360").click():0===P?h.find("#ivHeroImage_0").click():h.find("#ivImage_0").click())):"videos"===b&&(h.find("#ivVideoList").show(),h.find("#ivThumbs").hide(),"chromeful-video"!==f.type?h.find("#ivVideoList_0").click():h.find("#ivVideoList_"+f.index).click())})}function C(){var a=h.find("#ivStage").find("#ivLargeImage"),b=a.width(),d=a.height(),c=a.find(".fullscreen");c.removeAttr("style");var f=c.width(),e=c.height();
0<c.length&&(c[0].naturalWidth&&(f=c[0].naturalWidth),c[0].naturalHeight&&(e=c[0].naturalHeight));a.css("cursor","auto");f=0===f?1:f;e=0===e?1:e;var g=Math.min(b/f,d/e),k=e*g,n=f*g;1>g?(gb?a.css("cursor","url('"+q.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),Na=!0):Na=!1;f=Math.min(n,f);e=Math.min(k-20,e);c.css({"margin-top":(d-e)/2,"margin-left":(b-f)/2,height:e,width:f});a.css("visibility","visible");Ma=!1}function Q(a){var b=
h.find("#ivLargeImage");b.css("visibility","hidden");b.empty();A.animateStageIn(b);b.append(a);C()}function ja(){db&&db.pause();h.find("#ivLarge360").css("display","none");h.find("#ivLargeVideo").css("display","none");h.find("#ivLargeImage").css("display","none");m()}function fa(b){ja();h.find("#ivLargeImage").css("display","block");var c;"hero-image"===b?d.isDefined(R)&&(c=da(R[f.index])):d.isDefined(M)&&(c=da(M[f.index]));if(d.isDefined(c)){h.find(".fullscreen").remove();var va=a("\x3cimg\x3e").attr("src",
c).addClass("fullscreen"),e=h.find("#ivLargeImage");A.animateStageOut(e,function(){va.load(function(){Q(va)});if(va[0].complete)Q(va);else{e.empty();var b=(e.height()-104)/2,d=(e.width()-80)/2;a("\x3cimg\x3e").attr("src",q.staticImages.spinner).css({position:"relative",top:b+"px",left:d+"px"}).appendTo(e)}})}}function L(){var a;d.isDefined(ca)&&(a=ca[f.index]);d.isDefined(a)&&ja()}function W(){ba();var a="hero-image"===f.type?h.find("#ivHeroImage_"+f.index):"image"===f.type?h.find("#ivImage_"+f.index):
"chromeful-video"===f.type||"chromeless-video"===f.type?h.find("#ivVideo_"+f.index):"360-spin"===f.type?h.find("#iv360"):d.isDefined(R)?h.find("#ivHeroImage_"+f.index):h.find("#ivImage_"+f.index);d.isjQueryObjDefined(a)||(a=h.find("#ivImage_0"));B(a)}function B(a){h.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(f.type="chromeful-video",f.index=a.attr("id").split("_")[1],L()):a.hasClass("ivHeroImage")?(f.type="hero-image",f.index=a.attr("id").split("_")[1],
fa(f.type)):a.hasClass("iv360Image")?(f.type="360-spin",f.index=0,w()):(f.type="image",f.index=a.attr("id").split("_")[1],fa(f.type))}function w(){ja();h.find("#ivLarge360").css("display","block");x();var a=h.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});A.animateStageIn(a)},200);K();p.postCountMetric("dppc_click360");za=Date.now()}function m(){0<za&&(G("dppc_duration360",Date.now()-za),za=0)}function G(a,b){E.ue&&E.ue.count(a,b)}function K(){if(0<ta){var a=h.find(".iv360Hint");
a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function y(b,d){if(ta<b.length){var c=a("\x3cimg /\x3e").css({display:"block",width:6*ra+"px",height:wa+"px"});c.hide();d.append(c);c.get(0).onload=function(){d.closest(document.documentElement).length&&(ta++,1===ta&&(K(),0<za&&G("dppc_loadTime360",Date.now()-za)),0<$a&&G("dppc_perSpriteloadTime360",Date.now()-$a),h.find("#iv360Spinner").hide(),c.show(),Ja=5*u.imageLocations[Math.floor(Ia/u.imageLocations[0].length)][Ia%u.imageLocations[0].length],
y(b,d))};c.attr("src",b[ta].replace(/(\._SP)\d+(,)\d+/,"$1"+ya+"$2"+xa));$a=Date.now()}}function H(a){if(d.isDefined(u.spriteWidthSizes)&&0<u.spriteWidthSizes.length){var b=u.spriteWidthSizes,c=b.length,f=b[0],e=b[c-1];if(a<=f)return f;if(a>e)return e;for(f=0;f<c;f++)if(a>b[f]&&a<=b[f+1])return b[f+1]}else return a}function x(){var b=h.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),
height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",q.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),Ya=!0,t())}function t(){if(d.isDefined(u.spriteURLs)&&d.isDefined(h)&&Ya&&!Za){var b=h.find("#ivLarge360"),c=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",
width:"100%",bottom:0,opacity:0,display:"block"});d.isDefined(u.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",u.staticImages.hint360).appendTo(c);a("\x3cdiv\x3e").css({"text-align":"center"}).text(q.staticStrings.dragToSpin).appendTo(c);c.appendTo(b);c=u.imageWidth;var f=u.imageHeight,g=b.parent().width(),k=b.parent().height(),l=0,m=0;c/f>g/k?(ya=H(g),xa=Math.round(f/c*ya),ra=Math.ceil(g),wa=Math.ceil(xa/ya*g),m=(k-wa)/2):(xa=
H(k),ya=Math.round(c/f*xa),wa=Math.ceil(k),ra=Math.ceil(ya/xa*k),l=(g-ra)/2);b.css({"margin-left":l,"margin-top":m,width:ra+"px",height:wa+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*ra+"px");y(u.spriteURLs,h.find("#image-360-sprites"),0);c=h.find("#ivLarge360");c.bind("mousedown",I);c.bind("touchstart",n);c.bind("touchmove",z);c.bind("touchend",e);a(document).bind("mousemove",Z);a(document).bind("mouseup",r);d.isDefined(q.staticImages.grab)&&b.css("cursor",
"url('"+q.staticImages.grab+"'), auto");Za=!0}}function n(a){La=!0;Xa=a.originalEvent.targetTouches[0].clientX}function z(a){La&&(k(a.originalEvent.targetTouches[0].clientX-Xa),Xa=a.originalEvent.targetTouches[0].clientX)}function e(a){La&&(La=!1)}function I(a){Ka=!0;Wa=a.originalEvent.clientX;d.isDefined(q.staticImages.grabbing)&&(a=h.find("#ivLarge360"),a.css("cursor","url('"+q.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+q.staticImages.grabbing+"'), auto"));
return!1}function Z(a){Ka&&(k(a.originalEvent.clientX-Wa),Wa=a.originalEvent.clientX)}function r(a){Ka&&(Ka=!1,d.isDefined(q.staticImages.grab)&&(a=h.find("#ivLarge360"),a.css("cursor","url('"+q.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function k(a){for(a=Ja-=a/ra*180;0>a;)a+=360;for(;360<a;)a-=360;Ja=a;a=360;for(var b=0;b<ta;b++)for(var c=0;c<u.imageLocations[b].length;c++){var f=Math.abs(Ja-5*u.imageLocations[b][c]);if(f<a){a=f;var e=b*u.imageLocations[0].length+
c}}e!==Ia&&(a=Math.floor(e/u.imageLocations[0].length),a!==Math.floor(Ia/u.imageLocations[0].length)&&(d.isDefined(ab)||(ab=document.createElement("canvas").getContext("2d")),b=h.find("#image-360-sprites").children(),ab.drawImage(b[a],0,0)),a=h.find(".iv360Hint").not(".iv360HintFaded"),d.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));Ia=e;a=e%u.imageLocations[0].length*-1*ra;e=-1*Math.floor(e/u.imageLocations[0].length)*wa;b=h.find("#ivLarge360").children("#image-360-sprites");
b.css("-webkit-transform","translate3d("+a+"px, "+e+"px, 0)");b.css("transform","translate3d("+a+"px, "+e+"px, 0)")}function O(){h.delegate(".ivThumb","click",function(){var b=a(this);B(b)});h.delegate(".ivThumbVideoListOuter","click",function(){h.find(".ivThumbVideoListOuter").removeClass("selected");var b=a(this);b.addClass("selected");f.type="chromeful-video";f.index=b.attr("id").split("_")[1];L()})}function V(){h.find("#ivLargeImage").empty();m()}function ia(a,b){return 0<b?b/2:Math.min(0,Math.max(b,
a))}function U(b){var c=ua.left-(b.pageX-Qa[0])*Pa;l.capabilities.rtl&&(c=ua.left-(a(E).width()-b.pageX-Qa[0])*Pa);b=ua.top-(b.pageY-Qa[1])*Pa;c=ia(c,Oa.left);b=ia(b,Oa.top);h.find(".fullscreen").css({left:c,top:b})}function ha(){h.delegate("#ivLargeImage","click",function(a){if(Ma)C();else if(Na){h.find(".fullscreen").removeAttr("style");if(Na){var b=h.find("#ivLargeImage"),c=b.find(".fullscreen");gb?b.css("cursor","url('"+q.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor",
"-moz-zoom-out"),b.css("cursor","zoom-out"));Ma=!0;var d=h.find("#ivLargeImage");Oa.left=d.width()-c.width();Oa.top=d.height()-c.height();d=b.height()/2;var f=b.width()/2;Qa=[b.offset().left+f,b.offset().top+d];ua.top=d-c.height()/2;ua.left=f-c.width()/2;c.css({position:"relative",left:ua.left,top:ua.top});Pa=Math.max(c.height()/b.height(),c.width()/b.width())}U(a)}});h.delegate("#ivLargeImage","mousemove",function(a){Ma&&U(a)})}function X(f){if(d.isImmersiveViewEnabled(q,N.getCurrentItem().color))if(cb){var e=
f.$event.originalEvent;e.acknowledge&&e.acknowledge(f.$currentTarget[0]);fb=d.isDefined(f)&&"button-360-click"===f.action;J.isEnabled&&v.logImmersiveViewRequestServed(J);p.postCountMetric("dppc_immersiveViewOpened");if(d.isDefined(ea))ea.show();else{f=a("#auiImmersiveViewDiv");e=a(E).height()-150;var g=a(E).width()-75;ea=cb.create(f,{name:"immersiveView",activate:"onclick",width:g,height:e,popoverLabel:"ImmersiveView",hideHeader:!0});f.click()}if(bb){h=a("#ivMain");f=N.getCurrentItem().color;M=q.colorImages[f];
R=q.heroImage[f];ca=q.useChildVideos?q.colorToVideo[f]:q.videos;eb=la()&&q.spin360ColorEnabled[f];u=la()?q.spin360ColorData[f]:na;ba();b=aa=c=P=0;d.isDefined(R)&&(aa=R.length);d.isDefined(M)&&(P=M.length);d.isDefined(ca)&&(c=ca.length);eb&&(b=1);A.populateTitle(h.find("#ivTitle"),45,q);A.populateVariationSelection(h.find("#ivVariationSelection"));f=h.find("#ivMediaSelect");0===P+b||0===c?(f.parent().hide(),h.find("#ivThumbs").addClass("noMediaSelection")):(f.empty(),a("\x3coption/\x3e").attr("value",
"all").prop("selected",!0).text(q.staticStrings.allMedia+" ("+(aa+P+b+c)+")").appendTo(f),a("\x3coption/\x3e").attr("value","images").text(q.staticStrings.images+" ("+(aa+P+b)+")").appendTo(f),a("\x3coption/\x3e").attr("value","videos").text(q.staticStrings.videos+" ("+c+")").appendTo(f),f.parent().show(),f.val("all"));f=h.find("#ivThumbs");f.find(".ivRow").not(".placeholder").remove();e=aa+P+c+b;for(var k=g=0;g<e;)for(var n=f.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(f),
m=0;3>m&&g<e;m++,g++,k++)if(k<aa){var z=R[g].thumb,r=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+g).appendTo(n);r.find(".ivThumbImage").css("background",'url("'+A.getResizedThumbnailURL(z)+'") center no-repeat')}else if(k>=aa&&k<P+aa)z=M[g-aa].thumb,r=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(g-aa)).appendTo(n),r.find(".ivThumbImage").css("background",'url("'+A.getResizedThumbnailURL(z)+
'") center no-repeat');else if(k>=aa+P&&k<P+aa+b)r=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(n),r.find(".ivThumbImage").css("background",'url("'+(d.isDefined(q.staticImages.icon360)?A.getResizedThumbnailURL(q.staticImages.icon360,!0):"")+'") center no-repeat');else if(z=ca[g-P-aa-b],r=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(g-P-aa-b)).appendTo(n),r.find(".ivThumbImage").css("background",
'url("'+z.thumbUrl+'") center no-repeat'),d.isDefined(z)){var I={position:"triggerTop"},t=h.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");t.find(".ivVideoPopoverTitle").text(z.title);t.find(".ivVideoPopoverDuration").text(z.durationTimestamp);I.inlineContent=t[0];l.declarative.create(r,"a-tooltip",I)}f=h.find("#ivVideoList");f.find(".ivThumbVideoListOuter").not(".placeholder").remove();e=f.find(".placeholder");for(g=0;g<c;g++)k=ca[g],n=e.clone().removeClass("placeholder").appendTo(f),
n.attr("id","ivVideoList_"+g),n.find(".ivThumbImage").css("background",'url("'+k.thumbUrl+'") center no-repeat'),n.find(".ivThumbTitle").text(k.title),n.find(".ivThumbDuration").text(k.durationTimestamp);h.find("#ivLarge360").empty();ta=0;bb=Za=Ya=!1;Fb()}}else E.performance&&performance.now&&E.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else p.postCountMetric("immersiveViewNotExistsClickCount")}function Y(a){var b=q.colorToAsin[a],
c={},f=500;if(b&&b.asin){c.params={asin:b.asin};var e="360"+b.asin,k=Date.now();c.success=function(b){G("dppc_asyncRequestTime360",Date.now()-k);b&&d.isDefined(b.spin360.spin360Model)?(d.ajaxState(e,"success"),q.spin360ColorData[a]=b.spin360.spin360Model,a===N.getCurrentItem().color&&(u=q.spin360ColorData[a],t())):c.error()};c.error=function(){p.postCountMetric("dppc_asyncFailed360");G("dppc_asyncRequestTime360",Date.now()-k);f*=2;16E3>=f?setTimeout(function(){k=Date.now();g.load("/gp/product/features/apparel-main-image/360.html",
c)},f):d.ajaxState(e,"fail")};d.ajaxState(e)&&"fail"!==d.ajaxState(e)||(g.load("/gp/product/features/apparel-main-image/360.html",c),d.ajaxState(e,"sent"))}}function la(){return d.isDefined(q.spin360ConfigEnabled)&&q.spin360ConfigEnabled}var ma,q,N,T,ea,h,R,M,ca,aa,P,c,b,f,db,u,eb,ra,wa,xa,ya,Wa,Xa,fb=!1,Ya=!1,Za=!1,Ja=0,Ia=0,za=0,$a=0,Ka=!1,La=!1,ta=0,ab,gb=navigator.userAgent.match(/msie|trident/i),bb=!0,Ma=!1,Na=!1,Oa={},ua={},Pa,Qa,cb;D.when("a-modal").execute(function(a){cb=a});var Fb=l.once(function(){S();
O();ha();l.on("a:popover:afterUpdatePosition:immersiveView",F);l.on("a:popover:afterShow:immersiveView",W);l.on("a:popover:afterHide:immersiveView",V);ka()});return function(b,c,f,e){ma=this;q=b;N=c;J.refToModel=N;T=e;la()&&(q.spin360ColorData[q.landingAsinColor]=q.spin360ColorData[q.defaultColor],q.spin360ColorEnabled[q.landingAsinColor]=q.spin360ColorEnabled[q.defaultColor]);d.isDefined(q.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",A.addStyleCodeToURL(q.staticImages.icon360,
"_FMpng_RI_"));ma.render=function(a,b,c,f,e,g){bb=!0;la()&&q.spin360ColorEnabled[a]&&!d.isDefined(q.spin360ColorData[a])&&(q.spin360ColorData[a]={},Y(a));d.isImmersiveViewEnabled(q,N.getCurrentItem().color)&&la()&&q.spin360ColorEnabled[a]&&(b===q.maxAlts&&(a=f.find(".item.imageThumbnail"),c=f.find(".item.videoThumbnail"),d.isDefined(c)&&1<c.length?c.last().remove():a.last().remove(),b--),a=f.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),
l.declarative.create(a,"button-360-click"),f.append(a),b++,p.postCountMetric("dppc_display360"));return b};ma.update=function(a){};d.isImmersiveViewEnabled(q,N.getCurrentItem().color)||d.addTag("immersiveViewNotAvailable");T.register("imageClick",X);T.register("button360Click",X);T.register("captionClick",X)}});"use strict";D.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",
function(l,a,d,g,p,J,v,A,E){function D(){var b=a("#iv360Tab").height();r.css("height",b);var c=r.find("#ivTitle360").outerHeight(!0),d=r.find("#ivVariationSelection360").outerHeight(!0),e=r.find("#ivThumbs360"),g=v.getDimension(e,"margin-top")+v.getDimension(e,"margin-bottom");e.css("height",b-c-d-g);b=r.find("#ivStage360");c=r[0]&&r[0].getBoundingClientRect&&Math.floor(r[0].getBoundingClientRect().width)||r.width();b.css("width",c-v.getDimension(r,"padding-left")-v.getDimension(r,"padding-right")-
r.find("#ivThumbColumn360").width()-v.getDimension(b,"margin-left")-v.getDimension(b,"margin-right"))}function da(){Q();var a=r.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});v.animateStageIn(a)},200);F()}function F(){if(0<R){var a=r.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function S(b,c){if(R<b.length){var f=a("\x3cimg /\x3e").css({display:"block",width:6*O+"px",height:V+"px"});f.hide();c.append(f);f.get(0).onload=function(){c.closest(document.documentElement).length&&
(R++,1===R&&(F(),0<N&&(p.time("dppc_loadTime360",Date.now()-N,e.mediaAsin),J.postTimeMetric("dppc_loadTime360",Date.now()-N))),0<T&&(p.time("dppc_perSpriteloadTime360",Date.now()-T,e.mediaAsin),J.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-T)),r.find("#iv360Spinner").hide(),f.show(),ma=5*k.imageLocations[Math.floor(q/k.imageLocations[0].length)][q%k.imageLocations[0].length],S(b,c))};f.attr("src",b[R].replace(/(\._SP)\d+(,)\d+/,"$1"+U+"$2"+ia));T=Date.now()}}function C(a){if(d.isDefined(k.spriteWidthSizes)&&
0<k.spriteWidthSizes.length){var b=k.spriteWidthSizes,c=b.length,e=b[0],g=b[c-1];if(a<=e)return e;if(a>g)return g;for(e=0;e<c;e++)if(a>b[e]&&a<=b[e+1])return b[e+1]}else return a}function Q(){var b=r.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none",
"-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",e.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),Y=!0,ja())}function ja(){if(d.isDefined(k.spriteURLs)&&d.isDefined(r)&&Y&&!la){var b=r.find("#ivLarge360"),c=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});d.isDefined(k.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto",
"margin-right":"auto",display:"block"}).attr("src",k.staticImages.hint360).appendTo(c);a("\x3cdiv\x3e").css({"text-align":"center"}).text(e.staticStrings.dragToSpin).appendTo(c);c.appendTo(b);c=k.imageWidth;var g=k.imageHeight,h=b.parent().width(),n=b.parent().height(),l=0,p=0;c/g>h/n?(U=C(h),ia=Math.round(g/c*U),O=Math.ceil(h),V=Math.ceil(ia/U*h),p=(n-V)/2):(ia=C(n),U=Math.round(c/g*ia),V=Math.ceil(n),O=Math.ceil(U/ia*n),l=(h-O)/2);b.css({"margin-left":l,"margin-top":p,width:O+"px",height:V+"px",
overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*O+"px");S(k.spriteURLs,r.find("#image-360-sprites"),0);c=r.find("#ivLarge360");c.bind("mousedown",B);c.bind("touchstart",fa);c.bind("touchmove",L);c.bind("touchend",W);a(document).bind("mousemove",w);a(document).bind("mouseup",m);d.isDefined(e.staticImages.grab)&&b.css("cursor","url('"+e.staticImages.grab+"'), auto");la=!0}}function fa(a){h=!0;X=a.originalEvent.targetTouches[0].clientX}function L(a){h&&(G(a.originalEvent.targetTouches[0].clientX-
X),X=a.originalEvent.targetTouches[0].clientX)}function W(a){h&&(h=!1)}function B(a){ea=!0;ha=a.originalEvent.clientX;d.isDefined(e.staticImages.grabbing)&&(a=r.find("#ivLarge360"),a.css("cursor","url('"+e.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+e.staticImages.grabbing+"'), auto"));return!1}function w(a){ea&&(G(a.originalEvent.clientX-ha),ha=a.originalEvent.clientX)}function m(a){ea&&(ea=!1,d.isDefined(e.staticImages.grab)&&(a=r.find("#ivLarge360"),
a.css("cursor","url('"+e.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function G(a){ma-=a/O*180;ca&&(p.count("dppc_360dragToSpin",e.mediaAsin),J.postCountMetric("dppc_360dragToSpin"));ca=!1;for(a=ma;0>a;)a+=360;for(;360<a;)a-=360;ma=a;a=360;for(var b=0;b<R;b++)for(var c=0;c<k.imageLocations[b].length;c++){var g=Math.abs(ma-5*k.imageLocations[b][c]);if(g<a){a=g;var h=b*k.imageLocations[0].length+c}}h!==q&&(a=Math.floor(h/k.imageLocations[0].length),a!==Math.floor(q/
k.imageLocations[0].length)&&(d.isDefined(M)||(M=document.createElement("canvas").getContext("2d")),b=r.find("#image-360-sprites").children(),M.drawImage(b[a],0,0)),a=r.find(".iv360Hint").not(".iv360HintFaded"),d.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));q=h;a=h%k.imageLocations[0].length*-1*O;h=-1*Math.floor(h/k.imageLocations[0].length)*V;b=r.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+a+"px, "+h+"px, 0)");b.css("transform",
"translate3d("+a+"px, "+h+"px, 0)")}function K(){if(P){r=a("#ivMain360");var b=I.getCurrentItem().color;H()&&x(b);k=H()?e.spin360ColorData[b]:na;v.populateTitle(r.find("#ivTitle360"),160,e);v.populateVariationSelection(r.find("#ivVariationSelection360"));r.find("#ivLarge360").empty();R=0;la=Y=!1;q=ma=0;c();P=!1}0!==a("#iv360Tab").height()&&(v.detachImmersiveViewResizeHandler(K),D(),da(),N=Date.now(),aa=ca=!0,p.count("dppc_click360",e.mediaAsin),J.postCountMetric("dppc_click360"))}function y(a,c,h){a=
e.colorToAsin[h];var b={},f=500;if(!a||!a.asin)if(h===e.defaultColor)a={asin:e.winningAsin};else return;b.params={asin:a.asin};var k="360"+a.asin,n=Date.now();b.success=function(a){p.time("dppc_asyncRequestTime360",Date.now()-n,e.mediaAsin);J.postTimeMetric("dppc_asyncRequestTime360",Date.now()-n);a&&d.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&A.setData(a),d.ajaxState(k,"success")):b.error()};b.error=function(){p.count("dppc_asyncFailedTransient360",e.mediaAsin);J.postCountMetric("dppc_asyncFailedTransient360");
p.time("dppc_asyncRequestTime360",Date.now()-n,e.mediaAsin);J.postTimeMetric("dppc_asyncRequestTime360",Date.now()-n);f*=2;16E3>=f?setTimeout(function(){n=Date.now();g.load("/gp/product/features/apparel-main-image/360.html",b)},f):(p.count("dppc_asyncFailed360",e.mediaAsin),J.postCountMetric("dppc_asyncFailed360"),d.ajaxState(k,"fail"))};d.ajaxState(k)&&"fail"!==d.ajaxState(k)||(g.load("/gp/product/features/apparel-main-image/360.html",b),d.ajaxState(k,"sent"))}function H(){return e&&d.isDefined(e.spin360ConfigEnabled)&&
e.spin360ConfigEnabled}function x(a){return d.isDefinedAndNotEmpty(e.spin360ColorData[a])?!0:d.isDefined(e.spin360LazyLoadEnabled)&&e.spin360LazyLoadEnabled}function t(){aa&&(p.time("dppc_duration360",Date.now()-N,e.mediaAsin),J.postTimeMetric("dppc_duration360",Date.now()-N),aa=!1)}function n(a){a=e.colorToAsin[a.color]&&e.colorToAsin[a.color].asin;a||(a=e.mediaAsin);return a}var z,e,I,Z,r,k,O,V,ia,U,ha,X,Y=!1,la=!1,ma=0,q=0,N=0,T=0,ea=!1,h=!1,R=0,M,ca=!0,aa=!1,P=!0,c=l.once(function(){v.attachImmersiveViewResizeHandler(K);
v.attachImmersiveViewResizeHandler(D);v.attachImmersiveViewResetHandler(t);v.attachTabDeselectHandler("iv360Tab",t)});return function(b,c,g,h){z=this;e=b;I=c;Z=h;b=e.landingAsinColor;c=e.defaultColor;d.isDefined(e.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",v.addStyleCodeToURL(e.staticImages.icon360,"_FMpng_RI_"));H()&&(e.spin360ColorData||(e.spin360ColorData={}),b===c&&d.isDefinedAndEmpty(e.spin360ColorData[c])&&delete e.spin360ColorData[c]);
l.on(E.TWISTER_DATA_EVENT,function(a){n(I.getCurrentItem())===a&&(k=A.getData(a),ja(),a={type:"updatedData",data:I.getCurrentItem()},Z.dispatch("updateView",a))});z.render=function(b,c,f,g,h,k){P=!0;!H()||d.isDefinedAndEmpty(e.spin360ColorData[b])&&!A.getData(n(I.getCurrentItem()))?v.hideTabHeading("iv360TabHeading"):(e.spin360ColorData[b]=A.getData(n(I.getCurrentItem())),d.isDefinedAndNotEmpty(e.spin360ColorData[b])?(a("#ivThumbs360").hide(),v.unhideTabHeading("iv360TabHeading"),d.isImmersiveViewEnabled(e,
I.getCurrentItem().color)&&H()&&x(b)&&(c===e.maxAlts&&(b=g.find(".item.imageThumbnail"),f=g.find(".item.videoThumbnail"),d.isDefined(f)&&1<f.length?f.last().remove():b.last().remove(),c--),b=g.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),l.declarative.create(b,"button-360-click"),g.append(b),p.count("dppc_display360",e.mediaAsin),J.postCountMetric("dppc_display360"))):d.isDefined(e.spin360LazyLoadEnabled)&&e.spin360LazyLoadEnabled?
(e.spin360ColorData[b]={},v.hideTabHeading("iv360TabHeading"),y(g,c,b)):v.hideTabHeading("iv360TabHeading"))};z.update=function(a){};v.attachTabSelectHandler("iv360Tab",K)}});D.register("nexusLogger360",function(){return{count:function(l,a){E.ue&&E.ue.event({asin:a,metricName:l,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(l,a,d){E.ue&&E.ue.event({asin:d,metricName:l,metricValue:a},"hit-360","hit360.clientEvent.3")}}});D.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});
D.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(l,a){var d={};return{setData:function(g){var p=g.asin;d[p]||(d[p]=g,l.trigger(a.TWISTER_DATA_EVENT,p))},getData:function(a){return d[a]}}});"use strict";D.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(l){function a(){this.render=function(){};this.update=function(){}}return function(d,g,p,J){var v=!1,A=new a;D.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(a){a!==
na&&(v=!0,A=new a(d,g,p,J))});d&&!0===d.showroomEnabled&&!1===v&&l.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return A}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(l,a,d,g,p,J,v){function A(){y.delegate(".ivThumb","click",function(){var d=a(this);y.find(".ivThumb").removeClass("selected");d.addClass("selected");d.hasClass("ivThumbVideo")&&
(H.type="chromeful-video",H.index=d.attr("id").split("_")[1])})}function D(){if(Y){var d=a("#ivVideosTab").height();y.css("height",d);var e=y.find(".vse-lb-container");x=d-p.getDimension(e,"padding-top")-p.getDimension(e,"padding-bottom");e.css({"max-height":d,overflow:"hidden"});if(ia){y.css({"max-width":Math.floor(1.77*x)});return}d=y.find(".vse-player-container");e=y.find(".vse-video-action-strip");var g=y.find(".vse-lb-video-metadata"),h=Math.floor(x-p.getDimension(g,"height")-p.getDimension(e,
"height")),c=Math.floor(1.77*h);d.css({"max-height":h,"max-width":c,marginLeft:"auto",marginRight:"auto"});g.css({"max-width":c,marginLeft:"auto",marginRight:"auto"});e.css({"max-width":c,marginLeft:"auto",marginRight:"auto"})}U&&(d=y.find(".vse-vertical-scroll"),e=p.getDimension(d,"margin-top")+p.getDimension(d,"margin-bottom"),d.css("max-height",x-e))}function ka(){ba();t&&t.pause();ha=!1;O=!0;I=null;X=!0;Y=!1}function ba(){ha=!1;t&&t.pause()}function F(e){I=e.clickTimeStamp?e.clickTimeStamp:l.now();
d.isDefined(K)&&(K.eventTimestamp=I);ha=!0;V&&(v.get(l,"#ivVideoBlock",G,h,R),y=a("#ivVideoBlock"),m.getCurrentItem(),H=m.getCurrentItem(),N(),L());D();V=!1;Q()}function S(d){V&&(y=a("#ivVideoBlock"),m.getCurrentItem(),H=m.getCurrentItem(),N());ha&&Q();D()}function C(a){t=a.player;g.postTimeMetric("vse_ib_desktop_player_initialisation_duration",l.now()-q);w.imageBlockRenderingStartTime&&g.postTimeMetric("vse_ib_desktop_time_to_player_interactive",l.now()-w.imageBlockRenderingStartTime);Y&&(L(),Q())}
function Q(){if(t&&ha&&(y.find(".vse-lb-container").animate({opacity:1},200),t.play(K),g.postCountMetric("dpcc_vse_videoBlock_video_played"),O)){var a=E.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,g.postTimeMetric("dpcc_vse_vitff",a),O=!1)}}function ja(){l.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function fa(a){n=a.popover.$popover;Y=!0;L()}function L(){if(Y&&X&&ha&&t){n.addClass(l.$(n).find(".vse-lb-container").data("cssClass"));var a=K;la&&(a=ma,la=!1);
l.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});D();X=!1}}function W(a){document.getElementsByClassName("videoBlockIngress")[0].click();ma=a;la=!0}var B,w,m,G,K,y,H,x,t,n,z,e,I,Z,r,k,O=!0,V=!0,ia=!1,U=!1,ha=!1,X=!0,Y=!1,la=!1,ma,q=0,N=l.once(function(){A();p.attachImmersiveViewResizeHandler(S);p.attachTabDeselectHandler("ivVideosTab",ba);p.attachImmersiveViewResetHandler(ka)}),T=function(d,e,h){a("#ivVideoBlockSpinner").addClass("aok-hidden");g.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+
e.placement);ia=!0;a("#ivVideoBlock").css({"max-width":1.77*x,margin:"0 auto"})},ea=function(d,e,g){V||v.get(d,"#ivVideoBlock",G,h,R);a("#ivVideoBlockSpinner").addClass("aok-hidden")},h=function(a,d,e){U=!0;D()},R=function(a,d,e){g.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+d.pageContext.placement+"_"+d.configuration.type)};return function(a,g,h,n){B=this;w=a;m=g;B.render=function(a,b,f,g,h,n){a=m.getCurrentItem().color;b=d.getVideoHash(a,0,w);!0===n?z=w.mediaAsin:(z=w.colorToAsin[a]&&
w.colorToAsin[a].asin,z=d.isDefined(z)?z:w.mediaAsin);e=!0===w.useVSEVideos?"VIDEO_ID":"physicalID";Z=w.contentWeblab;r=w.contentWeblabTreatment;k=w.parentAsin||"";V=!0;-1===b?p.hideTabHeading("ivVideosTabHeading"):(p.unhideTabHeading("ivVideosTabHeading"),G={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:b.marketPlaceID,locale:b.languageCode,product:{contentID:z,contentIDType:"ASIN",parentContentID:k,parentContentIDType:"ASIN"},video:{contentID:b.mediaObjectId,contentIDType:e,
videoURL:b.url,imageURL:b.slateUrl,rankingStrategy:b.rankingStrategy},requestId:w.dpRequestId,weblabContext:[{name:Z,assignment:r,ignoreForG2S2Key:!0}],metadata:{ProductTitle:w.title}},K={videoUrl:G.video.videoURL,contentId:G.video.contentID,duration:0,vendorCode:"",eventTimestamp:d.isDefined(I)?I:l.now(),imageUrl:G.video.imageURL,productAsin:G.product.contentID,rankingStrategy:G.video.rankingStrategy,index:0},d.isDefinedAndNotEmpty(t)&&(t.destroy(),t=null),q=l.now(),J.get(l,"#ivVideoBlock",G,ea,
T))};B.update=function(a){};p.attachTabSelectHandler("ivVideosTab",F);l.on("vsePlayer-detailpage-imageblock",C);l.on("a:popover:afterShow:immersiveView",fa);l.on("a:popover:beforeHide:immersiveView",ja);l.on("detailpage-imageblock-leave-pip",W)}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockShoppableSceneImmersiveView",function(l,a,d,g,p){function J(d,g){if(d){K=w.getCurrentItem();0==Object.entries(t).length&&v();var e=K.shoppableScene;
e==na?(d=L(Object.values(t)[0]),e=Object.values(t)[0].shoppableScene):d=L(G[K.index]);x=e.physicalId;var n=a(".shoppable-scene-image-block-placeholder-in-iv");if(0<n.length){var l=a("\x3cimg\x3e");l.attr("id","shoppableSceneIvImage");l.attr("src",d);l.css({"max-height":"500px","max-width":"650px"});n.replaceWith(l);d=A(e);e=a(".shoppable-scene-image-block-tags-in-iv");e.empty();d.appendTo(e)}else m.hide(),C();ka();d=K.shoppableScene?K.shoppableScene:Object.values(t)[0].shoppableScene;ba(d);Q(g,y,
null,x)}}function v(){G=B.colorImages[K.color];y=B.colorToAsin[K.color].asin;G.forEach(function(a){a.shoppableScene!=na&&(t[a.shoppableScene.physicalId]=a)})}function A(d){var g=a("\x3cspan\x3e");l.each(d.tags,function(e){var n=a("\x3cdiv\x3e").css({position:"absolute",left:100*e.left+"%",top:100*e.top+"%",height:"auto",width:"auto"});n.append(E(!1));n.append(E(!0));l.declarative.create(n,"scenes-show-details-tags-ib-iv-click",{tagId:e.link,physicalId:d.physicalId});g.append(n)});return g.children()}
function E(d){var g=a("\x3cimg src\x3d'"+(d?B.staticImages.shoppableSceneDotHighlighted:B.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");g.css({display:d?"none":"inline-block"});g.addClass("mirai-scene-tag-in-iv").addClass(d?"active-tag":"inactive-tag");return g}function ka(){var d=a(".ivBottomThumbImagesShoppableScene");d.empty();Object.keys(t).forEach(function(g){var e=t[g],n=a("\x3cimg\x3e");e=L(e);n.attr("id","shoppable-scene-thumbnail-"+g);n.attr("src",e);n.addClass("shoppable-scene-thumbnail");
l.declarative.create(n,"scenes-thumbnail-ib-iv-click",{physicalId:g});n.appendTo(d)})}function ba(a){fa();D.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-render",function(){l.trigger("mirai:scene-immersive-recommendation-col-init",{scene:a})})}function F(a,d){fa();D.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){l.trigger("mirai:scene-immersive-recommendation-col-update",{tagId:a,physicalId:d})})}
function S(){var d=t[x].shoppableScene,g=a(".shoppable-scene-image-block-tags-in-iv");g.hide();d=A(d);g.empty();d.appendTo(g);g.show();m.show()}function C(){var d=L(t[x]),g=a("#shoppableSceneIvImage");g.bind("load",S);g.attr("src",d)}function Q(a,d,e,g){var n="shoppable-scene-dp-iv:mirai:"+a;D.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){l.trigger("mirai:scene-immersive-publish-metric",{nexusTargetName:a,csmCounterName:n,asin:d,
tagId:e,physicalId:g})})}function ja(){var d=a(".shoppable-scene-image-block-tags-in-iv").find(".mirai-scene-tag-in-iv");d.removeClass("mirai-scene-dot-pulsate").addClass("mirai-scene-dot-pulsate");l.delay(function(){d.removeClass("mirai-scene-dot-pulsate")},3600)}function fa(){var d=a("#shoppable-scene-iv-recommendation-waiting-spinner");0<d.length&&d.remove();d=a("#shoppableSceneRecommendationColumn");a(".shoppable-scene-recommendation-iv").hide();var g=a("\x3cimg\x3e");g.attr("id","shoppable-scene-iv-recommendation-waiting-spinner");
g.attr("src",B.staticImages.spinner);g.css({position:"relative"}).appendTo(d)}function L(a){return a.hiRes||a.large||a.main[a.main.length-1]}var W=void 0,B=void 0,w=void 0,m=void 0,G=void 0,K=void 0,y=void 0,H=void 0,x=void 0,t={};l.declarative("shoppable-scene-image-click","click",function(a){J(!0,"IMAGE_BLOCK_SHOPPABLE_SCENE")});l.declarative("scenes-show-details-tags-ib-iv-click","click",function(a){var d=a.$currentTarget;if(null!=H){var e=H.find(".active-tag"),g=H.find(".inactive-tag");e.css({display:"none"});
g.css({display:"inline-block"})}e=d.find(".active-tag");g=d.find(".inactive-tag");e.css({display:"inline-block"});e.addClass("mirai-scene-dot-pulsate");g.css({display:"none"});H=d;ja();F(a.data.tagId,a.data.physicalId);Q("IMMERSIVE_VIEW_PRODUCT_TAG",y,a.data.tagId,a.data.physicalId)});l.declarative("scenes-thumbnail-ib-iv-click","click",function(a){x=a.data.physicalId;C();ba(t[x].shoppableScene)});return function(d,g,e,l){W=this;B=d;w=g;m=a("#ivMainShoppableScene");W.render=function(a,d,e,g,l,m){};
W.update=function(a){};(d=document.getElementById("ivShoppableSceneHeading"))&&d.addEventListener("click",function(a){a=w.getCurrentItem();J(null==K||K.index!=a.index,"IMMERSIVE_VIEW_TAB")})}})});
/* ******** */
(function(h){var g=window.AmazonUIPageJS||window.P,k=g._namespace||g.attributeErrors,a=k?k("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):g;a.guardFatal?a.guardFatal(h)(a,window):a.execute(function(){h(a,window)})})(function(h,g,k){h.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,b){try{var c=a.$,d=c("#featurebullets_feature_div"),m=c("#productOverview_feature_div");if(d&&0<d.length&&(b.postCountMetric("FeatureBulletsRendered.GV"),m&&
0<m.length)){b.postCountMetric("FeatureBulletsRenderedWithPO.GV");var e=c("#featurebullets_feature_div .a-expander-container");e&&0<e.length&&"feature-bullets-expander"===e.data("aExpanderName")&&(b.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){b.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){b.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(n){h.log("Feature bullets metric logging failed with error: ( "+
n+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";h.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,b,c,d,m){var e=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=c.colorImages,b=0,f;for(f in a)a[f]&&a[f].length&&(b+=a[f].length);a="image_size_bucket:gt"+e[e.length-1];for(f=1;f<e.length;f++)if(b<=e[f]){a="image_size_bucket:"+e[f-1]+"-"+e[f];break}m.postCountMetric(a);d.addTag(a)})();(function(){var a=b.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,g.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=c.lazyLoadExperienceDisabled;d.isDefined(c.lazyLoadExperienceDisabled)&&!a&&(m.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),d.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";h.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});h.register("postEarlyMetric",function(){return null});"use strict";h.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var b=g.ue;if(b){var c=b.count(a)||0;b.count(a,c+1)}}},postTimeMetric:function(a,b){if("undefined"!==typeof a&&"undefined"!==typeof b){var c=g.ue;c&&c.count(a,b)}},emitNexusMetric:function(a){g.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.6",{ssd:!1})},buildNexusMetric:function(a,b,c,d,m,e,h,r,f,t){var n=10<arguments.length&&arguments[10]!==k?arguments[10]:"",p="",q=r||"";try{p=g.location.href;var l=p.match(/\/dp\/([A-Z0-9]{10})|\/gp\/product\/([A-Z0-9]{10})|\/gp\/aw\/d\/([A-Z0-9]{10})/);
l&&(l[1]||l[2]||l[3])&&(q=l[1]||l[2]||l[3])}catch(u){(l=g.ue)&&l.count("PostMetricsUtil:cannotBuildNexusPayload",1)}return{eventSource:"IBCarousel",placementContext:t,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:+b,videoAsin:c,videoAsinList:n,rankingStrategy:d===k?"":d,groupType:e===k?"":e,pageUrl:p,pageAsin:q,weblabIds:f===k?"":f,customerId:m||""}}}});"use strict";h.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,b,c){var d=
a.state("desktop-landing-image-data");d&&(d=a.values(d),b=b.getResourceTimeByName("img",d),a.each(b,function(a){a&&(a.responseEnd!=k&&c.postCountMetric("ibDesktopLandingImageDownloadTime",g.parseInt(a.responseEnd)),a.transferSize!=k&&(0===a.transferSize?c.postCountMetric("ibDesktopLandingImageCached",1):(c.postCountMetric("ibDesktopLandingImageSizeInBytes",g.parseInt(a.transferSize)),c.postCountMetric("ibDesktopLandingImageNotCached",1))))}))});"use strict"});
/* ******** */
(function(l){var h=window.AmazonUIPageJS||window.P,p=h._namespace||h.attributeErrors,d=p?p("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):h;d.guardFatal?d.guardFatal(l)(d,window):d.execute(function(){l(d,window)})})(function(l,h,p){l.when("A","jQuery").execute(function(d,g){d.on("a:image:load:landingImage",function(){h.performance&&performance.now&&h.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});d.loadDynamicImage(g("#landingImage"))});"use strict";
l.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(d,g){function k(a,c){if(c.repositionHeroImage){c=a[1];a=a[0];if(768>=(h.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))c*=.7,a*=.7;else{var b=Math.max(Math.min(((h.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,1),0);c*=.7+.3*b;a*=.7+.3*b}b=[c,a]}return b}function e(a,c,b){if(b.repositionHeroImage){var d=h.innerWidth||document.documentElement.clientWidth||
document.body.clientWidth;b=b.heroFocalPoint;if(g.isDefined(b)){var e=Math.max((d-Math.min(1500,a))/2,0);var f=Math.max((d-a)/2,0);d=Math.max(Math.min(d,1500),1024);e=e-f+(d-420-23)/2-a/c[1]*b}}return e}function f(a,c,b){a=a.heroImage;return!(g.isDefined(a)&&g.isDefined(a[c])&&g.isDefined(a[c][b])&&g.isDefined(a[c][b].main))||1>d.map(a[c][b].main,function(a,b){return b}).length?-1:a[c][b]}return{getHeroImageHash:f,getHeroDimParams:function(a,c,b){if(a.repositionHeroImage){if(!g.isDefined(b)){b=f(a,
c.color,c.index);if(-1===b)return;c=d.map(b.main,function(a,b){return b})[0];b=b.main[c]}c=k(b,a);a=e(c[0],b,a);return{height:c[1],width:c[0],xPos:a,yPos:75}}}}});"use strict";l.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(d,g,k){function e(a,c){var b=d.copy(a);if(k.isDefined(a)&&a.length>c){try{for(var e=-1,f=0;f<a.length;f++){var g=a.charAt(f);if(" "===g||"."===g||"?"===g||";"===g||","===g||":"===g)e=f;if(f===c-4){b=a.substring(0,-1===e?f:e);break}}}catch(m){b=
a.substring(0,c-3)}b+="..."}return b}function f(a,c){var b=a.lastIndexOf(".");return a="_"===a.charAt(b-1)?a.substring(0,b-1)+c+a.substring(b):a.substring(0,b)+"."+c+a.substring(b)}return{getDimension:function(a,c){a=parseInt(a.css(c),10);return isNaN(a)?0:a},attachTabSelectHandler:function(a,c){d.on("dp:ivTabs:"+a+":select",c)},attachTabDeselectHandler:function(a,c){d.on("dp:ivTabs:"+a+":deselect",c)},attachImmersiveViewResizeHandler:function(a){d.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){d.off("dp:image-block:immersive-view:resize",
a)},attachImmersiveViewResetHandler:function(a){d.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(a){g("#"+a).hide()},unhideTabHeading:function(a){g("#"+a).show()},addStyleCodeToURL:f,getResizedThumbnailURL:function(a,c){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";c&&(b+="FMpng_RI_");return f(a,b)},populateVariationSelection:function(a){if(k.isDefined(h.DetailPage)&&
k.isDefined(h.DetailPage.StateController)){a.empty();var c=h.DetailPage.StateController.getState(),b=c.variation_label_order,d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d],f=c.selected_variations[e];e=c.variation_display_labels[e];f&&g("\x3cdiv/\x3e").addClass("ivVariations").text(e+":"+f).appendTo(a)}}},populateTitle:function(a,c,b){a.html(b.title);a.attr("title",a.text());a.html(e(b.title,c))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},
100,c)},logError:function(a,c,b,d){h.ueLogError&&h.ueLogError(d,{logLevel:a,attribution:c,message:b})}}});"use strict";l.when("A").register("ImageBlockLoader",function(d){return{load:function(g,k){k=k||{};k.timeout=k.timeout||4E3;d.ajax(g,k)}}});"use strict";l.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(d,g){l.register("vse_ns_preLoaderHook",function(){function k(e,f){try{var a=e.A,c=e.block,b=e.request,t=e.handleFailure,h=e.handleSuccess,l=a.$;f--;var m=
3-f-1,n=a.now();a.ajax("/vap/ew/componentbuilder",{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(e){var f=a.now()-n;d.postTimeMetric("vse_preLoaderHook:success:",f);d.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+m);l(c).html(e);h(a,b,e)},error:function(c){d.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+m);(0===c.http.status||500<=c.http.status&&599>=
c.http.status)&&0<f?k(e,f):(d.postCountMetric("vse_preLoaderHook:error:",1),t(a,b,c))}})}catch(q){g.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(e,d,a,c,b){k({A:e,block:d,request:a,handleFailure:b,handleSuccess:c},3)}}});l.register("vse_ns_lazyLoaderHook",function(){function k(e,f,a){try{var c=e.A,b=e.context,h=e.handleFailure,l=e.handleSuccess;f.attr("data-configuration");var p=atob(f.attr("data-configuration")),m=JSON.parse(p),n={pageContext:b,configuration:m},
q=c.now();a--;var r=3-a-1;c.ajax("/vap/ew/subcomponent/"+m.type,{params:n,paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var e=c.now()-q;d.postTimeMetric("vse_lazyLoaderHook:success:",e);d.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+m.type+":"+r);f.html(a);l(c,n,a)},error:function(g){d.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+m.type+":"+r);(0===g.http.status||
500<=g.http.status&&599>=g.http.status)&&0<a?k(e,f,a):(d.postCountMetric("vse_lazyLoaderHook:error:",1),h(c,n,g))}})}catch(u){g.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(e,d,a,c,b){var f=e.$;f(d+" div[data-configuration]").each(function(){k({A:e,context:a,handleFailure:b,handleSuccess:c},f(this),3)})}}});l.register("vse_ns_videoPlayer",function(){function k(e,f,a){try{var c=e.A,b=e.block,h=e.request,l=e.handleFailure,p=e.handleSuccess,m=c.$;a--;var n=3-a-
1,q=c.now();c.ajax("/vap/ew/subcomponent/vseplayer",{params:h,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:h.timeout||5E3,withCredentials:!0,success:function(a){var e=c.now()-q;d.postTimeMetric("vse_lightPlayerLoaderHook:success:",e);d.postCountMetric("vse_lightPlayerLoaderHook:success:"+h.page+":"+h.placement+":"+n);m(b).html(a);p(c,h,a)},error:function(b){d.postCountMetric("vse_lightPlayerLoaderHook:error:"+h.page+":"+h.placement+":"+n);(0===b.http.status||
500<=b.http.status&&599>=b.http.status)&&0<a?k(e,a):(d.postCountMetric("vse_lightPlayerLoaderHook:error:",1),l(c,h,b))}})}catch(r){g.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",r)}}return{get:function(e,d,a,c,b){k({A:e,block:d,request:a,handleFailure:b,handleSuccess:c},3)}}})})});
/* ******** */
(function(c){var g=window.AmazonUIPageJS||window.P,h=g._namespace||g.attributeErrors,a=h?h("DetailPagePaymentOptionsJavascript",""):g;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,g,h){"use strict";c.when("A","compare-plan-row-constants").register("compare-plan-row-height-updater",function(a,l){var c=[l.COMPARE_PLAN_PAYMENT_DETAILS,l.COMPARE_PLAN_INTEREST_ROW];return{updateRowHeight:function(l){for(var e=0;e<c.length;e++){for(var f=a.$(l).find(c[e]),d,b=d=
0;b<f.length;b++)f[b].offsetHeight>d&&(d=f[b].offsetHeight);if(0<d)for(b=0;b<f.length;b++)f[b].style.height=d.toString()+"px"}}}});"use strict";c.when("A").register("compare-plan-row-constants",function(a){return{COMPARE_PLAN_CARD_OPTION:".comparison-table-comparison-card-option",COMPARE_PLAN_PAYMENT_DETAILS:".comparison-table-payment-details",COMPARE_PLAN_INTEREST_ROW:".comparison-table-interest-row-value",COMPARE_PLAN_TOTAL_AMOUNT:".comparison-table-total-amount",COMPARE_PLAN_APPLIES_TO_ROW:".comparison-table-plan-applies-to-row-value",
COMPARE_PLAN_REWARD_ROW:".comparison-table-card-reward-row-value"}});"use strict";c.when("A").register("payment-options-opt-out-state",function(a){return{paymentOptionOptOutSelected:{isOneTimePaymentPreferenceSet:!1,changePlanEventData:""},secondaryViewInstance:null}});"use strict";c.when("A","price-block-messaging-constants","payment-options-client-side-metric").register("price-block-landing-page-events",function(a,c,m){a.declarative("acquisition-offer-see-details","click",function(a){m.incrementWithValuePriceBlockMessaging(c.metrics.ACQUISITION_OFFER_SEE_DETAILS_BUTTON_CLICK,
1);try{var e=JSON.parse(a.data.landingPageUrl.paymentOfferInfoType).bannerDetailsPageUrl;g.open(e,"_blank")}catch(f){m.incrementWithValue("AcquisitionOffer:Desktop:LandingPageUrlParsingError",1)}});a.declarative("acquisition-offer-learn-more","click",function(a){m.incrementWithValuePriceBlockMessaging(c.metrics.ACQUISITION_OFFER_LEARN_MORE_CLICK,1);try{var e=JSON.parse(a.data.landingPageUrl.paymentOfferInfoType).learnMoreUrl;g.open(e,"_blank")}catch(f){m.incrementWithValue("AcquisitionOffer:Desktop:LearnMoreUrlParsingError",
1)}})});"use strict";c.when("A","price-block-messaging-constants","payment-options-client-side-metric","comparison-plans-actions").register("checkbox-price-block-actions",function(a,c,g,h){function e(k){d(b.CHECKBOX_PRICE_BLOCK).data(b.CHECKBOX_PRICE_BLOCK_DATA_KEY,k)}function f(k){d(b.CHECKBOX_PRICE_BLOCK).data(b.CHECKBOX_PRICE_BLOCK_DATA_OPTION_NOT_SELECTED_STRING_KEY,k)}var d=a.$,b=c.selector,n=c.actionData;return{getComparePlansV1SelectedOfferButtonId:function(){var k=b.COMPARE_PLAN_OFFER_BUTTON_ID_PREFIX,
a=d(b.CHECKBOX_PRICE_BLOCK).data(b.CHECKBOX_PRICE_BLOCK_DATA_KEY);a||(a=k+"01",e(a));return a},getComparePlansV2SelectedOfferButtonId:function(){var a=d(b.CHECKBOX_PRICE_BLOCK).data(b.CHECKBOX_PRICE_BLOCK_DATA_KEY);a||(a=b.CHECKBOX_PRICE_BLOCK_INITIAL_CP2_BUTTON,e(a));return a},getOptionNotSelectedString:function(){return d(b.CHECKBOX_PRICE_BLOCK).data(b.CHECKBOX_PRICE_BLOCK_DATA_OPTION_NOT_SELECTED_STRING_KEY)},updateCheckboxPriceblockData:e,updateCheckboxPriceblockOptionNotSelectedString:f,updateCheckboxWithTopOffer:function(a){a=
a.find(b.COMPARE_PLAN_LINK).find(b.DECLARATIVE_CLASS).data(n.COMPARE_PLAN_LINK_ACTION_DATA).buyingOptionIndex;a=h.getTopEnabledOfferDataInComparisonTable(a);e(c.ID_PREFIX+a.paymentOptionSelectButtonId);f(a.optionNotSelectedString)},markCheckboxPriceblock:function(){document.getElementById(b.CHECKBOX_PRICE_BLOCK_INPUT_ID).checked=!0},unmarkCheckboxPriceblock:function(){document.getElementById(b.CHECKBOX_PRICE_BLOCK_INPUT_ID).checked=!1},triggerCheckboxSelectedActions:function(b,c){a.defer(function(){d(b).click();
d(c).click()})},triggerCheckboxUnCheckedActions:function(a){d(a).click()},hasCheckboxPriceblock:function(){return d(b.CHECKBOX_PRICE_BLOCK).length}}})});
/* ******** */
